!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=19)}([function(t,e,n){"use strict";function i(){}i.prototype={isAsync:function(){return void 0===this.decodeBlock}},t.exports=i},function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+i),r);for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},a={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;i(this,t),this.center=e,this.value=n,this.xSize=r,this.ySize=o}return r(t,[{key:"equals",value:function(t){return this.center.equals(t.center)&&this._equalValues(this.value,t.value)&&this.xSize===t.xSize&&this.ySize===t.ySize}},{key:"_equalValues",value:function(t,e){var n=t.constructor.name;return{Number:t===e,Vector:t.u===e.u&&t.v===e.v}[n]}},{key:"getBounds",value:function(){var t=this.xSize/2,e=this.ySize/2,n=this.center.lat,i=this.center.lng,r=L.latLng([n+e,i-t]),o=L.latLng([n-e,i+t]);return L.latLngBounds(L.latLng(o.lat,r.lng),L.latLng(r.lat,o.lng))}}]),t}();e.a=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(2),o=n(17),a=n.n(o),s=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(){function t(e){i(this,t),this.params=e,this.nCols=e.nCols,this.nRows=e.nRows,this.width=e.nCols,this.height=e.nRows,this.xllCorner=e.xllCorner,this.yllCorner=e.yllCorner,this.xurCorner=e.xllCorner+e.nCols*e.cellXSize,this.yurCorner=e.yllCorner+e.nRows*e.cellYSize,this.cellXSize=e.cellXSize,this.cellYSize=e.cellYSize,this.grid=null,this.isContinuous=this.xurCorner-this.xllCorner>=360,this.longitudeNeedsToBeWrapped=this.xurCorner>180,this._inFilter=null,this._spatialMask=null}return u(t,[{key:"_buildGrid",value:function(){throw new TypeError("Must be overriden")}},{key:"_updateRange",value:function(){this.range=this._calculateRange()}},{key:"numCells",value:function(){return this.nRows*this.nCols}},{key:"getCells",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],n=0;n<this.nRows;n+=t)for(var i=0;i<this.nCols;i+=t){var o=this._lonLatAtIndexes(i,n),a=s(o,2),u=a[0],l=a[1],c=L.latLng(l,u),h=this._valueAtIndexes(i,n),f=new r.a(c,h,this.cellXSize,this.cellYSize);e.push(f)}return e}},{key:"setFilter",value:function(t){this._inFilter=t,this._updateRange()}},{key:"setSpatialMask",value:function(t){this._spatialMask=t}},{key:"extent",value:function(){var t=this._getWrappedLongitudes(),e=s(t,2),n=e[0],i=e[1];return[n,this.yllCorner,i,this.yurCorner]}},{key:"_getWrappedLongitudes",value:function(){var t=this.xllCorner,e=this.xurCorner;return this.longitudeNeedsToBeWrapped&&(this.isContinuous?(t=-180,e=180):(e=this.xurCorner-360,t=this.xllCorner-360)),[t,e]}},{key:"contains",value:function(t,e){return this._spatialMask?this._pointInMask(t,e):this._pointInExtent(t,e)}},{key:"_pointInExtent",value:function(t,e){var n=this._getWrappedLongitudes(),i=s(n,2),r=i[0],o=i[1],a=t>=r&&t<=o,u=e>=this.yllCorner&&e<=this.yurCorner;return a&&u}},{key:"_pointInMask",value:function(t,e){var n={type:"Feature",geometry:{type:"Point",coordinates:[t,e]},properties:{}},i=this._spatialMask;return a()(n,i)}},{key:"notContains",value:function(t,e){return!this.contains(t,e)}},{key:"interpolatedValueAt",value:function(t,e){if(this.notContains(t,e))return null;var n=this._getDecimalIndexes(t,e),i=s(n,2),r=i[0],o=i[1];return this.interpolatedValueAtIndexes(r,o)}},{key:"interpolatedValueAtIndexes",value:function(t,e){var n=this._getFourSurroundingIndexes(t,e),i=s(n,4),r=i[0],o=i[1],a=i[2],u=i[3],l=this._getFourSurroundingValues(r,o,a,u);if(l){var c=s(l,4),h=c[0],f=c[1],d=c[2],p=c[3];return this._doInterpolation(t-r,e-a,h,f,d,p)}return null}},{key:"_getDecimalIndexes",value:function(t,e){return this.longitudeNeedsToBeWrapped&&t<this.xllCorner&&(t+=360),[(t-this.xllCorner)/this.cellXSize,(this.yurCorner-e)/this.cellYSize]}},{key:"_getFourSurroundingIndexes",value:function(t,e){var n=Math.floor(t),i=n+1;this.isContinuous&&i>=this.nCols&&(i=0),i=this._clampColumnIndex(i);var r=this._clampRowIndex(Math.floor(e));return[n,i,r,this._clampRowIndex(r+1)]}},{key:"_getFourSurroundingValues",value:function(t,e,n,i){var r;if(r=this.grid[n]){var o=r[t],a=r[e];if(this._isValid(o)&&this._isValid(a)&&(r=this.grid[i])){var s=r[t],u=r[e];if(this._isValid(s)&&this._isValid(u))return[o,a,s,u]}}return null}},{key:"valueAt",value:function(t,e){if(this.notContains(t,e))return null;var n=this._getDecimalIndexes(t,e),i=s(n,2),r=i[0],o=i[1],a=Math.floor(r),u=Math.floor(o),l=this._clampColumnIndex(a),c=this._clampRowIndex(u),h=this._valueAtIndexes(l,c);return this._inFilter&&!this._inFilter(h)?null:h}},{key:"hasValueAt",value:function(t,e){var n=this.valueAt(t,e),i=null!==n,r=!0;return this._inFilter&&(r=this._inFilter(n)),i&&r}},{key:"notHasValueAt",value:function(t,e){return!this.hasValueAt(t,e)}},{key:"randomPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Math.random()*this.nCols|0,n=Math.random()*this.nRows|0;return t.x=this._longitudeAtX(e),t.y=this._latitudeAtY(n),t}},{key:"_valueAtIndexes",value:function(t,e){return this.grid[e][t]}},{key:"_lonLatAtIndexes",value:function(t,e){return[this._longitudeAtX(t),this._latitudeAtY(e)]}},{key:"_longitudeAtX",value:function(t){var e=this.cellXSize/2,n=this.xllCorner+e+t*this.cellXSize;return this.longitudeNeedsToBeWrapped&&(n=n>180?n-360:n),n}},{key:"_latitudeAtY",value:function(t){var e=this.cellYSize/2;return this.yurCorner-e-t*this.cellYSize}},{key:"_doInterpolation",value:function(t,e,n,i,r,o){throw new TypeError("Must be overriden")}},{key:"_clampColumnIndex",value:function(t){var e=t;t<0&&(e=0);var n=this.nCols-1;return t>n&&(e=n),e}},{key:"_clampRowIndex",value:function(t){var e=t;t<0&&(e=0);var n=this.nRows-1;return t>n&&(e=n),e}},{key:"_isValid",value:function(t){return null!==t&&void 0!==t}}]),t}();e.a=l},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(t){return function(e,n){return Gl(t(e),n)}}function n(t,e){return[t,e]}function i(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=uc?10:o>=lc?5:o>=cc?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=uc?10:o>=lc?5:o>=cc?2:1)}function r(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=uc?r*=10:o>=lc?r*=5:o>=cc&&(r*=2),e<t?-r:r}function o(t){return t.length}function a(t){return"translate("+(t+.5)+",0)"}function s(t){return"translate(0,"+(t+.5)+")"}function u(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function l(){return!this.__axis}function c(t,e){function n(n){var a=null==r?e.ticks?e.ticks.apply(e,i):e.domain():r,s=null==o?e.tickFormat?e.tickFormat.apply(e,i):Ec:o,m=Math.max(c,0)+f,g=e.range(),v=g[0]+.5,y=g[g.length-1]+.5,b=(e.bandwidth?u:Ec)(e.copy()),w=n.selection?n.selection():n,x=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(a,e).order(),T=M.exit(),k=M.enter().append("g").attr("class","tick"),L=M.select("line"),S=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(k),L=L.merge(k.append("line").attr("stroke","#000").attr(p+"2",d*c)),S=S.merge(k.append("text").attr("fill","#000").attr(p,d*m).attr("dy",t===Pc?"0em":t===Nc?"0.71em":"0.32em")),n!==w&&(x=x.transition(n),M=M.transition(n),L=L.transition(n),S=S.transition(n),T=T.transition(n).attr("opacity",Ic).attr("transform",function(t){return isFinite(t=b(t))?_(t):this.getAttribute("transform")}),k.attr("opacity",Ic).attr("transform",function(t){var e=this.parentNode.__axis;return _(e&&isFinite(e=e(t))?e:b(t))})),T.remove(),x.attr("d",t===zc||t==Ac?"M"+d*h+","+v+"H0.5V"+y+"H"+d*h:"M"+v+","+d*h+"V0.5H"+y+"V"+d*h),M.attr("opacity",1).attr("transform",function(t){return _(b(t))}),L.attr(p+"2",d*c),S.attr(p,d*m).text(s),w.filter(l).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ac?"start":t===zc?"end":"middle"),w.each(function(){this.__axis=b})}var i=[],r=null,o=null,c=6,h=6,f=3,d=t===Pc||t===zc?-1:1,p=t===zc||t===Ac?"x":"y",_=t===Pc||t===Nc?a:s;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return i=Cc.call(arguments),n},n.tickArguments=function(t){return arguments.length?(i=null==t?[]:Cc.call(t),n):i.slice()},n.tickValues=function(t){return arguments.length?(r=null==t?null:Cc.call(t),n):r&&r.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(c=h=+t,n):c},n.tickSizeInner=function(t){return arguments.length?(c=+t,n):c},n.tickSizeOuter=function(t){return arguments.length?(h=+t,n):h},n.tickPadding=function(t){return arguments.length?(f=+t,n):f},n}function h(t){return c(Pc,t)}function f(t){return c(Ac,t)}function d(t){return c(Nc,t)}function p(t){return c(zc,t)}function _(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new m(i)}function m(t){this._=t}function g(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function v(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function y(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Dc,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function b(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oc&&e.documentElement.namespaceURI===Oc?e.createElement(t):e.createElementNS(n,t)}}function w(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function x(){return new M}function M(){this._="@"+(++Zc).toString(36)}function T(t,e,n){return t=k(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function k(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function L(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function S(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function C(t,e,n){var i=qc.hasOwnProperty(t.type)?T:k;return function(r,o,a){var s,u=this.__on,l=i(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function E(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}}function P(){}function A(){return[]}function N(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function z(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new N(t,o[s]);for(;s<u;++s)(a=e[s])&&(r[s]=a)}function I(t,e,n,i,r,o,a){var s,u,l,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=rh+a.call(u,u.__data__,s,e),l in c?r[s]=u:c[l]=u);for(s=0;s<f;++s)l=rh+a.call(t,o[s],s,o),(u=c[l])?(i[s]=u,u.__data__=o[s],c[l]=null):n[s]=new N(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[d[s]]===u&&(r[s]=u)}function D(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function O(t){return function(){this.removeAttribute(t)}}function R(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B(t,e){return function(){this.setAttribute(t,e)}}function F(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Z(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function U(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function j(t){return function(){this.style.removeProperty(t)}}function V(t,e,n){return function(){this.style.setProperty(t,e,n)}}function G(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function q(t,e){return t.style.getPropertyValue(e)||gh(t).getComputedStyle(t,null).getPropertyValue(e)}function H(t){return function(){delete this[t]}}function W(t,e){return function(){this[t]=e}}function Y(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function X(t){return t.trim().split(/^|\s+/)}function K(t){return t.classList||new $(t)}function $(t){this._node=t,this._names=X(t.getAttribute("class")||"")}function J(t,e){for(var n=K(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Q(t,e){for(var n=K(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function tt(t){return function(){J(this,t)}}function et(t){return function(){Q(this,t)}}function nt(t,e){return function(){(e.apply(this,arguments)?J:Q)(this,t)}}function it(){this.textContent=""}function rt(t){return function(){this.textContent=t}}function ot(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function at(){this.innerHTML=""}function st(t){return function(){this.innerHTML=t}}function ut(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t,e,n){var i=gh(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function pt(t,e){return function(){return dt(this,t,e)}}function _t(t,e){return function(){return dt(this,t,e.apply(this,arguments))}}function mt(t,e){this._groups=t,this._parents=e}function gt(){return new mt([[document.documentElement]],Ph)}function vt(){t.event.stopImmediatePropagation()}function yt(t,e){var n=t.document.documentElement,i=Ah(t).on("dragstart.drag",null);e&&(i.on("click.drag",Dh,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bt(t,e,n,i,r,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function wt(){return!t.event.button}function xt(){return this.parentNode}function Mt(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Tt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function kt(){}function Lt(t){var e;return t=(t+"").trim().toLowerCase(),(e=Vh.exec(t))?(e=parseInt(e[1],16),new At(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Gh.exec(t))?St(parseInt(e[1],16)):(e=qh.exec(t))?new At(e[1],e[2],e[3],1):(e=Hh.exec(t))?new At(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Wh.exec(t))?Ct(e[1],e[2],e[3],e[4]):(e=Yh.exec(t))?Ct(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Xh.exec(t))?Nt(e[1],e[2]/100,e[3]/100,1):(e=Kh.exec(t))?Nt(e[1],e[2]/100,e[3]/100,e[4]):$h.hasOwnProperty(t)?St($h[t]):"transparent"===t?new At(NaN,NaN,NaN,0):null}function St(t){return new At(t>>16&255,t>>8&255,255&t,1)}function Ct(t,e,n,i){return i<=0&&(t=e=n=NaN),new At(t,e,n,i)}function Et(t){return t instanceof kt||(t=Lt(t)),t?(t=t.rgb(),new At(t.r,t.g,t.b,t.opacity)):new At}function Pt(t,e,n,i){return 1===arguments.length?Et(t):new At(t,e,n,null==i?1:i)}function At(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Nt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,i)}function zt(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=Lt(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=u>0&&u<1?0:a,new Dt(a,s,u,t.opacity)}function It(t,e,n,i){return 1===arguments.length?zt(t):new Dt(t,e,n,null==i?1:i)}function Dt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Ot(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Rt(t){if(t instanceof Ft)return new Ft(t.l,t.a,t.b,t.opacity);if(t instanceof Ht){var e=t.h*Jh;return new Ft(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof At||(t=Et(t));var n=Vt(t.r),i=Vt(t.g),r=Vt(t.b),o=Zt((.4124564*n+.3575761*i+.1804375*r)/tf),a=Zt((.2126729*n+.7151522*i+.072175*r)/ef);return new Ft(116*a-16,500*(o-a),200*(a-Zt((.0193339*n+.119192*i+.9503041*r)/nf)),t.opacity)}function Bt(t,e,n,i){return 1===arguments.length?Rt(t):new Ft(t,e,n,null==i?1:i)}function Ft(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Zt(t){return t>sf?Math.pow(t,1/3):t/af+rf}function Ut(t){return t>of?t*t*t:af*(t-rf)}function jt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Vt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Gt(t){if(t instanceof Ht)return new Ht(t.h,t.c,t.l,t.opacity);t instanceof Ft||(t=Rt(t));var e=Math.atan2(t.b,t.a)*Qh;return new Ht(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qt(t,e,n,i){return 1===arguments.length?Gt(t):new Ht(t,e,n,null==i?1:i)}function Ht(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Wt(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);t instanceof At||(t=Et(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(_f*i+df*e-pf*n)/(_f+df-pf),o=i-r,a=(ff*(n-r)-cf*o)/hf,s=Math.sqrt(a*a+o*o)/(ff*r*(1-r)),u=s?Math.atan2(a,o)*Qh-120:NaN;return new Xt(u<0?u+360:u,s,r,t.opacity)}function Yt(t,e,n,i){return 1===arguments.length?Wt(t):new Xt(t,e,n,null==i?1:i)}function Xt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Kt(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}function $t(t,e){return function(n){return t+n*e}}function Jt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Qt(t,e){var n=e-t;return n?$t(t,n>180||n<-180?n-360*Math.round(n/360):n):Tf(isNaN(t)?e:t)}function te(t){return 1==(t=+t)?ee:function(e,n){return n-e?Jt(e,n,t):Tf(isNaN(e)?n:e)}}function ee(t,e){var n=e-t;return n?$t(t,n):Tf(isNaN(t)?e:t)}function ne(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=Pt(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}function ie(t){return function(){return t}}function re(t){return function(e){return t(e)+""}}function oe(t){return"none"===t?Bf:(mf||(mf=document.createElement("DIV"),gf=document.documentElement,vf=document.defaultView),mf.style.transform=t,t=vf.getComputedStyle(gf.appendChild(mf),null).getPropertyValue("transform"),gf.removeChild(mf),t=t.slice(7,-1).split(","),Ff(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ae(t){return null==t?Bf:(yf||(yf=document.createElementNS("http://www.w3.org/2000/svg","g")),yf.setAttribute("transform",t),(t=yf.transform.baseVal.consolidate())?(t=t.matrix,Ff(t.a,t.b,t.c,t.d,t.e,t.f)):Bf)}function se(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,a,s){if(t!==r||i!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Pf(t,r)},{i:u-2,x:Pf(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Pf(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function s(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Pf(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Pf(t,n)},{i:s-2,x:Pf(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),a(e.rotate,n.rotate,i,r),s(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function ue(t){return((t=Math.exp(t))+1/t)/2}function le(t){return((t=Math.exp(t))-1/t)/2}function ce(t){return((t=Math.exp(2*t))-1)/(t+1)}function he(t){return function(e,n){var i=t((e=It(e)).h,(n=It(n)).h),r=ee(e.s,n.s),o=ee(e.l,n.l),a=ee(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=a(t),e+""}}}function fe(t,e){var n=ee((t=Bt(t)).l,(e=Bt(e)).l),i=ee(t.a,e.a),r=ee(t.b,e.b),o=ee(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function de(t){return function(e,n){var i=t((e=qt(e)).h,(n=qt(n)).h),r=ee(e.c,n.c),o=ee(e.l,n.l),a=ee(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=a(t),e+""}}}function pe(t){return function e(n){function i(e,i){var r=t((e=Yt(e)).h,(i=Yt(i)).h),o=ee(e.s,i.s),a=ee(e.l,i.l),s=ee(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}function _e(){return nd||(od(me),nd=rd.now()+id)}function me(){nd=0}function ge(){this._call=this._time=this._next=null}function ve(t,e,n){var i=new ge;return i.restart(t,e,n),i}function ye(){_e(),++$f;for(var t,e=bf;e;)(t=nd-e._time)>=0&&e._call.call(null,t),e=e._next;--$f}function be(){nd=(ed=rd.now())+id,$f=Jf=0;try{ye()}finally{$f=0,xe(),nd=0}}function we(){var t=rd.now(),e=t-ed;e>td&&(id-=e,ed=t)}function xe(){for(var t,e,n=bf,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:bf=e);wf=t,Me(i)}function Me(t){if(!$f){Jf&&(Jf=clearTimeout(Jf));var e=t-nd;e>24?(t<1/0&&(Jf=setTimeout(be,e)),Qf&&(Qf=clearInterval(Qf))):(Qf||(ed=nd,Qf=setInterval(we,td)),$f=1,od(be))}}function Te(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>cd)throw new Error("too late");return n}function ke(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>fd)throw new Error("too late");return n}function Le(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Se(t,e,n){function i(t){n.state=hd,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var l,c,h,f;if(n.state!==hd)return a();for(l in u)if(f=u[l],f.name===n.name){if(f.state===dd)return ad(r);f.state===pd?(f.state=md,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete u[l]):+l<e&&(f.state=md,f.timer.stop(),delete u[l])}if(ad(function(){n.state===dd&&(n.state=pd,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=fd,n.on.call("start",t,t.__data__,n.index,n.group),n.state===fd){for(n.state=dd,s=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(s[++c]=f);s.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=_d,1),r=-1,o=s.length;++r<o;)s[r].call(null,i);n.state===_d&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=md,n.timer.stop(),delete u[e];for(var i in u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=ve(i,0,n.time)}function Ce(t,e){var n,i;return function(){var r=ke(this,t),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function Ee(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=ke(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},u=0,l=r.length;u<l;++u)if(r[u].name===e){r[u]=s;break}u===l&&r.push(s)}o.tween=r}}function Pe(t,e,n){var i=t._id;return t.each(function(){var t=ke(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Le(t,i).value[e]}}function Ae(t){return function(){this.removeAttribute(t)}}function Ne(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ze(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function Ie(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function De(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function Oe(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function Re(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function Be(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function Fe(t,e){return function(){Te(this,t).delay=+e.apply(this,arguments)}}function Ze(t,e){return e=+e,function(){Te(this,t).delay=e}}function Ue(t,e){return function(){ke(this,t).duration=+e.apply(this,arguments)}}function je(t,e){return e=+e,function(){ke(this,t).duration=e}}function Ve(t,e){if("function"!=typeof e)throw new Error;return function(){ke(this,t).ease=e}}function Ge(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function qe(t,e,n){var i,r,o=Ge(e)?Te:ke;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}function He(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function We(t,e){var n,i,r;return function(){var o=q(this,t),a=(this.style.removeProperty(t),q(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}function Ye(t){return function(){this.style.removeProperty(t)}}function Xe(t,e,n){var i,r;return function(){var o=q(this,t);return o===n?null:o===i?r:r=e(i=o,n)}}function Ke(t,e,n){var i,r,o;return function(){var a=q(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=q(this,t)),a===s?null:a===i&&s===r?o:o=e(i=a,r=s)}}function $e(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function Je(t){return function(){this.textContent=t}}function Qe(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function tn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function en(t){return gt().transition(t)}function nn(){return++Fd}function rn(t){return+t}function on(t){return t*t}function an(t){return t*(2-t)}function sn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function un(t){return t*t*t}function ln(t){return--t*t*t+1}function cn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function hn(t){return 1-Math.cos(t*qd)}function fn(t){return Math.sin(t*qd)}function dn(t){return(1-Math.cos(Gd*t))/2}function pn(t){return Math.pow(2,10*t-10)}function _n(t){return 1-Math.pow(2,-10*t)}function mn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function gn(t){return 1-Math.sqrt(1-t*t)}function vn(t){return Math.sqrt(1- --t*t)}function yn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function bn(t){return 1-wn(1-t)}function wn(t){return(t=+t)<Hd?ep*t*t:t<Yd?ep*(t-=Wd)*t+Xd:t<$d?ep*(t-=Kd)*t+Jd:ep*(t-=Qd)*t+tp}function xn(t){return((t*=2)<=1?1-wn(1-t):wn(t-1)+1)/2}function Mn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return lp.time=_e(),lp;return n}function Tn(){t.event.stopImmediatePropagation()}function kn(t){return{type:t}}function Ln(){return!t.event.button}function Sn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Cn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function En(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Pn(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function An(){return zn(bp)}function Nn(){return zn(wp)}function zn(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([kn("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mp.overlay).merge(n).each(function(){var t=Cn(this).extent;Ah(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([kn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mp.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Mp[t.type]}),t.each(i).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function i(){var t=Ah(this),e=Cn(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-f/2:e[0][0]-f/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-f/2:e[0][1]-f/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+f:f}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+f:f})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=Xc(T);!O||x||M||(Math.abs(t[0]-B[0])>Math.abs(t[1]-B[1])?M=!0:x=!0),B=t,w=!0,_p(),o()}function o(){var t;switch(y=B[0]-R[0],b=B[1]-R[1],L){case gp:case mp:S&&(y=Math.max(N-h,Math.min(I-_,y)),f=h+y,m=_+y),C&&(b=Math.max(z-d,Math.min(D-g,b)),p=d+b,v=g+b);break;case vp:S<0?(y=Math.max(N-h,Math.min(I-h,y)),f=h+y,m=_):S>0&&(y=Math.max(N-_,Math.min(I-_,y)),f=h,m=_+y),C<0?(b=Math.max(z-d,Math.min(D-d,b)),p=d+b,v=g):C>0&&(b=Math.max(z-g,Math.min(D-g,b)),p=d,v=g+b);break;case yp:S&&(f=Math.max(N,Math.min(I,h-y*S)),m=Math.max(N,Math.min(I,_+y*S))),C&&(p=Math.max(z,Math.min(D,d-b*C)),v=Math.max(z,Math.min(D,g+b*C)))}m<f&&(S*=-1,t=h,h=_,_=t,t=f,f=m,m=t,k in Tp&&U.attr("cursor",Mp[k=Tp[k]])),v<p&&(C*=-1,t=d,d=g,g=t,t=p,p=v,v=t,k in kp&&U.attr("cursor",Mp[k=kp[k]])),E.selection&&(A=E.selection),x&&(f=A[0][0],m=A[1][0]),M&&(p=A[0][1],v=A[1][1]),A[0][0]===f&&A[0][1]===p&&A[1][0]===m&&A[1][1]===v||(E.selection=[[f,p],[m,v]],i.call(T),F.brush())}function a(){if(Tn(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),Z.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yt(t.event.view,w),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Z.attr("pointer-events","all"),U.attr("cursor",Mp.overlay),E.selection&&(A=E.selection),En(A)&&(E.selection=null,i.call(T)),F.end()}function s(){switch(t.event.keyCode){case 16:O=S&&C;break;case 18:L===vp&&(S&&(_=m-y*S,h=f+y*S),C&&(g=v-b*C,d=p+b*C),L=yp,o());break;case 32:L!==vp&&L!==yp||(S<0?_=m-y:S>0&&(h=f-y),C<0?g=v-b:C>0&&(d=p-b),L=gp,U.attr("cursor",Mp.selection),o());break;default:return}_p()}function l(){switch(t.event.keyCode){case 16:O&&(x=M=O=!1,o());break;case 18:L===yp&&(S<0?_=m:S>0&&(h=f),C<0?g=v:C>0&&(d=p),L=vp,o());break;case 32:L===gp&&(t.event.altKey?(S&&(_=m-y*S,h=f+y*S),C&&(g=v-b*C,d=p+b*C),L=yp):(S<0?_=m:S>0&&(h=f),C<0?g=v:C>0&&(d=p),L=vp),U.attr("cursor",Mp[k]),o());break;default:return}_p()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return _p()}else if(u)return;if(c.apply(this,arguments)){var h,f,d,p,_,m,g,v,y,b,w,x,M,T=this,k=t.event.target.__data__.type,L="selection"===(t.event.metaKey?k="overlay":k)?mp:t.event.altKey?yp:vp,S=e===wp?null:Lp[k],C=e===bp?null:Sp[k],E=Cn(T),P=E.extent,A=E.selection,N=P[0][0],z=P[0][1],I=P[1][0],D=P[1][1],O=S&&C&&t.event.shiftKey,R=Xc(T),B=R,F=r(T,arguments).beforestart();"overlay"===k?E.selection=A=[[h=e===wp?N:R[0],d=e===bp?z:R[1]],[_=e===wp?I:h,g=e===bp?D:d]]:(h=A[0][0],d=A[0][1],_=A[1][0],g=A[1][1]),f=h,p=d,m=_,v=g;var Z=Ah(T).attr("pointer-events","none"),U=Z.selectAll(".overlay").attr("cursor",Mp[k]);if(t.event.touches)Z.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var j=Ah(t.event.view).on("keydown.brush",s,!0).on("keyup.brush",l,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);Oh(t.event.view)}Tn(),vd(T),i.call(T),F.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=l.apply(this,arguments),t.dim=e,t}var u,l=Sn,c=Ln,h=_(n,"start","brush","end"),f=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){r(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){r(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&En(l)?null:c(t),i.call(o),s.brush()}var o=this,a=o.__brush,s=r(o,arguments),u=a.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),c=Df(u,l);return u&&l?t:t(1)}):t.each(function(){var t=this,o=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,o):n,a.extent),u=r(t,o).beforestart();vd(t),a.selection=null==s||En(s)?null:s,i.call(t),u.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){E(new pp(n,t,e.output(this.state.selection)),h.apply,h,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(l="function"==typeof t?t:dp([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):l},n.filter=function(t){return arguments.length?(c="function"==typeof t?t:dp(!!t),n):c},n.handleSize=function(t){return arguments.length?(f=+t,n):f},n.on=function(){var t=h.on.apply(h,arguments);return t===h?n:t},n}function In(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Dn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function On(){return new Dn}function Rn(t){return t.source}function Bn(t){return t.target}function Fn(t){return t.radius}function Zn(t){return t.startAngle}function Un(t){return t.endAngle}function jn(){}function Vn(t,e){var n=new jn;if(t instanceof jn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Gn(){return{}}function qn(t,e,n){t[e]=n}function Hn(){return Vn()}function Wn(t,e,n){t.set(e,n)}function Yn(){}function Xn(t,e){var n=new Yn;if(t instanceof Yn)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function Kn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function $n(t,e){var n=Kn(t);return function(i,r){return e(n(i),r,t)}}function Jn(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function Qn(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,u,l,c,h,f,d=t._root,p={data:i},_=t._x0,m=t._y0,g=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(_+g)/2))?_=o:g=o,(c=n>=(a=(m+v)/2))?m=a:v=a,r=d,!(d=d[h=c<<1|l]))return r[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(_+g)/2))?_=o:g=o,(c=n>=(a=(m+v)/2))?m=a:v=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return r[f]=d,r[h]=p,t}function ti(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<u&&(u=i),i>c&&(c=i),r<l&&(l=r),r>h&&(h=r));for(c<u&&(u=this._x0,c=this._x1),h<l&&(l=this._y0,h=this._y1),this.cover(u,l).cover(c,h),n=0;n<o;++n)Qn(this,a[n],s[n],t[n]);return this}function ei(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function ni(t){return t[0]}function ii(t){return t[1]}function ri(t,e,n){var i=new oi(null==e?ni:e,null==n?ii:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function oi(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ai(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function si(t){return t.x+t.vx}function ui(t){return t.y+t.vy}function li(t){return t.index}function ci(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function hi(t){return t.x}function fi(t){return t.y}function di(t){return new pi(t)}function pi(t){if(!(e=B_.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):R_[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function _i(e){return F_=j_(e),t.format=F_.format,t.formatPrefix=F_.formatPrefix,F_}function mi(){this.reset()}function gi(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function vi(t){return t>1?0:t<-1?Lm:Math.acos(t)}function yi(t){return t>1?Sm:t<-1?-Sm:Math.asin(t)}function bi(t){return(t=Zm(t/2))*t}function wi(){}function xi(t,e){t&&qm.hasOwnProperty(t.type)&&qm[t.type](t,e)}function Mi(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ti(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Mi(t[n],e,1);e.polygonEnd()}function ki(){Xm.point=Si}function Li(){Ci(W_,Y_)}function Si(t,e){Xm.point=Ci,W_=t,Y_=e,t*=Am,e*=Am,X_=t,K_=Dm(e=e/2+Cm),$_=Zm(e)}function Ci(t,e){t*=Am,e*=Am,e=e/2+Cm;var n=t-X_,i=n>=0?1:-1,r=i*n,o=Dm(e),a=Zm(e),s=$_*a,u=K_*o+s*Dm(r),l=s*i*Zm(r);Wm.add(Im(l,u)),X_=t,K_=o,$_=a}function Ei(t){return[Im(t[1],t[0]),yi(t[2])]}function Pi(t){var e=t[0],n=t[1],i=Dm(n);return[i*Dm(e),i*Zm(e),Zm(n)]}function Ai(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ni(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function zi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ii(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Di(t){var e=jm(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Oi(t,e){am.push(sm=[J_=t,tm=t]),e<Q_&&(Q_=e),e>em&&(em=e)}function Ri(t,e){var n=Pi([t*Am,e*Am]);if(om){var i=Ni(om,n),r=[i[1],-i[0],0],o=Ni(r,i);Di(o),o=Ei(o);var a,s=t-nm,u=s>0?1:-1,l=o[0]*Pm*u,c=Nm(s)>180;c^(u*nm<l&&l<u*t)?(a=o[1]*Pm)>em&&(em=a):(l=(l+360)%360-180,c^(u*nm<l&&l<u*t)?(a=-o[1]*Pm)<Q_&&(Q_=a):(e<Q_&&(Q_=e),e>em&&(em=e))),c?t<nm?Vi(J_,t)>Vi(J_,tm)&&(tm=t):Vi(t,tm)>Vi(J_,tm)&&(J_=t):tm>=J_?(t<J_&&(J_=t),t>tm&&(tm=t)):t>nm?Vi(J_,t)>Vi(J_,tm)&&(tm=t):Vi(t,tm)>Vi(J_,tm)&&(J_=t)}else am.push(sm=[J_=t,tm=t]);e<Q_&&(Q_=e),e>em&&(em=e),om=n,nm=t}function Bi(){Jm.point=Ri}function Fi(){sm[0]=J_,sm[1]=tm,Jm.point=Oi,om=null}function Zi(t,e){if(om){var n=t-nm;$m.add(Nm(n)>180?n+(n>0?360:-360):n)}else im=t,rm=e;Xm.point(t,e),Ri(t,e)}function Ui(){Xm.lineStart()}function ji(){Zi(im,rm),Xm.lineEnd(),Nm($m)>km&&(J_=-(tm=180)),sm[0]=J_,sm[1]=tm,om=null}function Vi(t,e){return(e-=t)<0?e+360:e}function Gi(t,e){return t[0]-e[0]}function qi(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Hi(t,e){t*=Am,e*=Am;var n=Dm(e);Wi(n*Dm(t),n*Zm(t),Zm(e))}function Wi(t,e,n){++um,cm+=(t-cm)/um,hm+=(e-hm)/um,fm+=(n-fm)/um}function Yi(){tg.point=Xi}function Xi(t,e){t*=Am,e*=Am;var n=Dm(e);wm=n*Dm(t),xm=n*Zm(t),Mm=Zm(e),tg.point=Ki,Wi(wm,xm,Mm)}function Ki(t,e){t*=Am,e*=Am;var n=Dm(e),i=n*Dm(t),r=n*Zm(t),o=Zm(e),a=Im(jm((a=xm*o-Mm*r)*a+(a=Mm*i-wm*o)*a+(a=wm*r-xm*i)*a),wm*i+xm*r+Mm*o);lm+=a,dm+=a*(wm+(wm=i)),pm+=a*(xm+(xm=r)),_m+=a*(Mm+(Mm=o)),Wi(wm,xm,Mm)}function $i(){tg.point=Hi}function Ji(){tg.point=tr}function Qi(){er(ym,bm),tg.point=Hi}function tr(t,e){ym=t,bm=e,t*=Am,e*=Am,tg.point=er;var n=Dm(e);wm=n*Dm(t),xm=n*Zm(t),Mm=Zm(e),Wi(wm,xm,Mm)}function er(t,e){t*=Am,e*=Am;var n=Dm(e),i=n*Dm(t),r=n*Zm(t),o=Zm(e),a=xm*o-Mm*r,s=Mm*i-wm*o,u=wm*r-xm*i,l=jm(a*a+s*s+u*u),c=yi(l),h=l&&-c/l;mm+=h*a,gm+=h*s,vm+=h*u,lm+=c,dm+=c*(wm+(wm=i)),pm+=c*(xm+(xm=r)),_m+=c*(Mm+(Mm=o)),Wi(wm,xm,Mm)}function nr(t,e){return[t>Lm?t-Em:t<-Lm?t+Em:t,e]}function ir(t,e,n){return(t%=Em)?e||n?ig(or(t),ar(e,n)):or(t):e||n?ar(e,n):nr}function rr(t){return function(e,n){return e+=t,[e>Lm?e-Em:e<-Lm?e+Em:e,n]}}function or(t){var e=rr(t);return e.invert=rr(-t),e}function ar(t,e){function n(t,e){var n=Dm(e),s=Dm(t)*n,u=Zm(t)*n,l=Zm(e),c=l*i+s*r;return[Im(u*o-c*a,s*i-l*r),yi(c*o+u*a)]}var i=Dm(t),r=Zm(t),o=Dm(e),a=Zm(e);return n.invert=function(t,e){var n=Dm(e),s=Dm(t)*n,u=Zm(t)*n,l=Zm(e),c=l*o-u*a;return[Im(u*o+l*a,s*i+c*r),yi(c*i-s*r)]},n}function sr(t,e,n,i,r,o){if(n){var a=Dm(e),s=Zm(e),u=i*n;null==r?(r=e+i*Em,o=e-u/2):(r=ur(a,r),o=ur(a,o),(i>0?r<o:r>o)&&(r+=i*Em));for(var l,c=r;i>0?c>o:c<o;c-=u)l=Ei([a,-s*Dm(c),-s*Zm(c)]),t.point(l[0],l[1])}}function ur(t,e){e=Pi(e),e[0]-=t,Di(e);var n=vi(-e[1]);return((-e[2]<0?-n:n)+Em-km)%Em}function lr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function cr(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function hr(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,l){var c=0,h=0;if(null==r||(c=a(r,s))!==(h=a(o,s))||u(r,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(i,r){return Nm(i[0]-t)<km?r>0?0:3:Nm(i[0]-n)<km?r>0?2:1:Nm(i[1]-e)<km?r>0?1:0:r>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){r(t,e)&&L.point(t,e)}function l(){for(var e=0,n=0,r=m.length;n<r;++n)for(var o,a,s=m[n],u=1,l=s.length,c=s[0],h=c[0],f=c[1];u<l;++u)o=h,a=f,c=s[u],h=c[0],f=c[1],a<=i?f>i&&(h-o)*(i-a)>(f-a)*(t-o)&&++e:f<=i&&(h-o)*(i-a)<(f-a)*(t-o)&&--e;return e}function c(){L=S,_=[],m=[],k=!0}function h(){var t=l(),e=k&&t,n=(_=bc(_)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&bg(_,s,t,o,a),a.polygonEnd()),L=a,_=m=g=null}function f(){C.point=p,m&&m.push(g=[]),T=!0,M=!1,w=x=NaN}function d(){_&&(p(v,y),b&&M&&S.rejoin(),_.push(S.result())),C.point=u,M&&L.lineEnd()}function p(o,a){var s=r(o,a);if(m&&g.push([o,a]),T)v=o,y=a,b=s,T=!1,s&&(L.lineStart(),L.point(o,a));else if(s&&M)L.point(o,a);else{var u=[w=Math.max(xg,Math.min(wg,w)),x=Math.max(xg,Math.min(wg,x))],l=[o=Math.max(xg,Math.min(wg,o)),a=Math.max(xg,Math.min(wg,a))];vg(u,l,t,e,n,i)?(M||(L.lineStart(),L.point(u[0],u[1])),L.point(l[0],l[1]),s||L.lineEnd(),k=!1):s&&(L.lineStart(),L.point(o,a),k=!1)}w=o,x=a,M=s}var _,m,g,v,y,b,w,x,M,T,k,L=a,S=gg(),C={point:u,lineStart:f,lineEnd:d,polygonStart:c,polygonEnd:h};return C}}function fr(){Sg.point=pr,Sg.lineEnd=dr}function dr(){Sg.point=Sg.lineEnd=wi}function pr(t,e){t*=Am,e*=Am,rg=t,og=Zm(e),ag=Dm(e),Sg.point=_r}function _r(t,e){t*=Am,e*=Am;var n=Zm(e),i=Dm(e),r=Nm(t-rg),o=Dm(r),a=Zm(r),s=i*a,u=ag*n-og*i*o,l=og*n+ag*i*o;Lg.add(Im(jm(s*s+u*u),l)),rg=t,og=n,ag=i}function mr(t,e){return!(!t||!zg.hasOwnProperty(t.type))&&zg[t.type](t,e)}function gr(t,e){return 0===Ag(t,e)}function vr(t,e){var n=Ag(t[0],t[1]);return Ag(t[0],e)+Ag(e,t[1])<=n+km}function yr(t,e){return!!kg(t.map(br),wr(e))}function br(t){return t=t.map(wr),t.pop(),t}function wr(t){return[t[0]*Am,t[1]*Am]}function xr(t,e,n){var i=sc(t,e-km,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Mr(t,e,n){var i=sc(t,e-km,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Tr(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return sc(Om(o/m)*m,r,m).map(f).concat(sc(Om(l/g)*g,u,g).map(d)).concat(sc(Om(i/p)*p,n,p).filter(function(t){return Nm(t%m)>km}).map(c)).concat(sc(Om(s/_)*_,a,_).filter(function(t){return Nm(t%g)>km}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,_=p,m=90,g=360,v=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),t.precision(v)):[[o,l],[r,u]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(v)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(m=+e[0],g=+e[1],t):[m,g]},t.stepMinor=function(e){return arguments.length?(p=+e[0],_=+e[1],t):[p,_]},t.precision=function(e){return arguments.length?(v=+e,c=xr(s,a,90),h=Mr(i,n,v),f=xr(l,u,90),d=Mr(o,r,v),t):v},t.extentMajor([[-180,-90+km],[180,90-km]]).extentMinor([[-180,-80-km],[180,80+km]])}function kr(){return Tr()()}function Lr(){Fg.point=Sr}function Sr(t,e){Fg.point=Cr,sg=lg=t,ug=cg=e}function Cr(t,e){Bg.add(cg*t-lg*e),lg=t,cg=e}function Er(){Cr(sg,ug)}function Pr(t,e){t<Zg&&(Zg=t),t>jg&&(jg=t),e<Ug&&(Ug=e),e>Vg&&(Vg=e)}function Ar(t,e){qg+=t,Hg+=e,++Wg}function Nr(){tv.point=zr}function zr(t,e){tv.point=Ir,Ar(dg=t,pg=e)}function Ir(t,e){var n=t-dg,i=e-pg,r=jm(n*n+i*i);Yg+=r*(dg+t)/2,Xg+=r*(pg+e)/2,Kg+=r,Ar(dg=t,pg=e)}function Dr(){tv.point=Ar}function Or(){tv.point=Br}function Rr(){Fr(hg,fg)}function Br(t,e){tv.point=Fr,Ar(hg=dg=t,fg=pg=e)}function Fr(t,e){var n=t-dg,i=e-pg,r=jm(n*n+i*i);Yg+=r*(dg+t)/2,Xg+=r*(pg+e)/2,Kg+=r,r=pg*t-dg*e,$g+=r*(dg+t),Jg+=r*(pg+e),Qg+=3*r,Ar(dg=t,pg=e)}function Zr(t){this._context=t}function Ur(t,e){sv.point=jr,nv=rv=t,iv=ov=e}function jr(t,e){rv-=t,ov-=e,av.add(jm(rv*rv+ov*ov)),rv=t,ov=e}function Vr(){this._string=[]}function Gr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function qr(t){return t.length>1}function Hr(t,e){return((t=t.x)[0]<0?t[1]-Sm-km:Sm-t[1])-((e=e.x)[0]<0?e[1]-Sm-km:Sm-e[1])}function Wr(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Lm:-Lm,u=Nm(o-n);Nm(u-Lm)<km?(t.point(n,i=(i+a)/2>0?Sm:-Sm),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=Lm&&(Nm(n-r)<km&&(n-=r*km),Nm(o-s)<km&&(o-=s*km),i=Yr(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Yr(t,e,n,i){var r,o,a=Zm(t-n);return Nm(a)>km?zm((Zm(e)*(o=Dm(i))*Zm(n)-Zm(i)*(r=Dm(e))*Zm(t))/(r*o*a)):(e+i)/2}function Xr(t,e,n,i){var r;if(null==t)r=n*Sm,i.point(-Lm,r),i.point(0,r),i.point(Lm,r),i.point(Lm,0),i.point(Lm,-r),i.point(0,-r),i.point(-Lm,-r),i.point(-Lm,0),i.point(-Lm,r);else if(Nm(t[0]-e[0])>km){var o=t[0]<e[0]?Lm:-Lm;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Kr(t){return function(e){var n=new $r;for(var i in t)n[i]=t[i];return n.stream=e,n}}function $r(){}function Jr(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Hm(n,t.stream(Gg));var a=Gg.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),u=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function Qr(t,e,n){return Jr(t,[[0,0],e],n)}function to(t){return Kr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function eo(t,e){function n(i,r,o,a,s,u,l,c,h,f,d,p,_,m){var g=l-i,v=c-r,y=g*g+v*v;if(y>4*e&&_--){var b=a+f,w=s+d,x=u+p,M=jm(b*b+w*w+x*x),T=yi(x/=M),k=Nm(Nm(x)-1)<km||Nm(o-h)<km?(o+h)/2:Im(w,b),L=t(k,T),S=L[0],C=L[1],E=S-i,P=C-r,A=v*E-g*P;(A*A/y>e||Nm((g*E+v*P)/y-.5)>.3||a*f+s*d+u*p<pv)&&(n(i,r,o,a,s,u,S,C,k,b/=M,w/=M,x,_,m),m.point(S,C),n(S,C,k,b,w,x,l,c,h,f,d,p,_,m))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){g=NaN,x.point=o,e.lineStart()}function o(i,r){var o=Pi([i,r]),a=t(i,r);n(g,v,m,y,b,w,g=a[0],v=a[1],m=i,y=o[0],b=o[1],w=o[2],dv,e),e.point(g,v)}function a(){x.point=i,e.lineEnd()}function s(){r(),x.point=u,x.lineEnd=l}function u(t,e){o(c=t,e),h=g,f=v,d=y,p=b,_=w,x.point=o}function l(){n(g,v,m,y,b,w,h,f,c,d,p,_,dv,e),x.lineEnd=a,a()}var c,h,f,d,p,_,m,g,v,y,b,w,x={point:i,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),x.lineStart=s},polygonEnd:function(){e.polygonEnd(),x.lineStart=r}};return x}}function no(t){return io(function(){return t})()}function io(t){function e(t){return t=c(t[0]*Am,t[1]*Am),[t[0]*m+s,u-t[1]*m]}function n(t){return(t=c.invert((t[0]-s)/m,(u-t[1])/m))&&[t[0]*Pm,t[1]*Pm]}function i(t,e){return t=a(t,e),[t[0]*m+s,u-t[1]*m]}function r(){c=ig(l=ir(w,x,M),a);var t=a(y,b);return s=g-t[0]*m,u=v+t[1]*m,o()}function o(){return p=_=null,e}var a,s,u,l,c,h,f,d,p,_,m=150,g=480,v=250,y=0,b=0,w=0,x=0,M=0,T=null,k=cv,L=null,S=Og,C=.5,E=_v(i,C);return e.stream=function(t){return p&&_===t?p:p=mv(k(l,E(S(_=t))))},e.clipAngle=function(t){return arguments.length?(k=+t?hv(T=t*Am,6*Am):(T=null,cv),o()):T*Pm},e.clipExtent=function(t){return arguments.length?(S=null==t?(L=h=f=d=null,Og):hr(L=+t[0][0],h=+t[0][1],f=+t[1][0],d=+t[1][1]),o()):null==L?null:[[L,h],[f,d]]},e.scale=function(t){return arguments.length?(m=+t,r()):m},e.translate=function(t){return arguments.length?(g=+t[0],v=+t[1],r()):[g,v]},e.center=function(t){return arguments.length?(y=t[0]%360*Am,b=t[1]%360*Am,r()):[y*Pm,b*Pm]},e.rotate=function(t){return arguments.length?(w=t[0]%360*Am,x=t[1]%360*Am,M=t.length>2?t[2]%360*Am:0,r()):[w*Pm,x*Pm,M*Pm]},e.precision=function(t){return arguments.length?(E=_v(i,C=t*t),o()):jm(C)},e.fitExtent=function(t,n){return Jr(e,t,n)},e.fitSize=function(t,n){return Qr(e,t,n)},function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,r()}}function ro(t){var e=0,n=Lm/3,i=io(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Am,n=t[1]*Am):[e*Pm,n*Pm]},r}function oo(t){function e(t,e){return[t*n,Zm(e)/n]}var n=Dm(t);return e.invert=function(t,e){return[t/n,yi(e*n)]},e}function ao(t,e){function n(t,e){var n=jm(o-2*r*Zm(e))/r;return[n*Zm(t*=r),a-n*Dm(t)]}var i=Zm(t),r=(i+Zm(e))/2;if(Nm(r)<km)return oo(t);var o=1+i*(2*r-i),a=jm(o)/r;return n.invert=function(t,e){var n=a-e;return[Im(t,Nm(n))/r*Um(n),yi((o-(t*t+n*n)*r*r)/(2*r))]},n}function so(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function uo(t){return function(e,n){var i=Dm(e),r=Dm(n),o=t(i*r);return[o*r*Zm(e),o*Zm(n)]}}function lo(t){return function(e,n){var i=jm(e*e+n*n),r=t(i),o=Zm(r),a=Dm(r);return[Im(e*o,i*a),yi(i&&n*o/i)]}}function co(t,e){return[t,Bm(Vm((Sm+e)/2))]}function ho(t){function e(){var e=Lm*s(),a=o(_g(o.rotate()).invert([0,0]));return l(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===co?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,i),r]]:[[c,Math.max(a[1]-e,n)],[i,Math.min(a[1]+e,r)]])}var n,i,r,o=no(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=i=r=null:(c=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==c?null:[[c,n],[i,r]]},e()}function fo(t){return Vm((Sm+t)/2)}function po(t,e){function n(t,e){o>0?e<-Sm+km&&(e=-Sm+km):e>Sm-km&&(e=Sm-km);var n=o/Fm(fo(e),r);return[n*Zm(r*t),o-n*Dm(r*t)]}var i=Dm(t),r=t===e?Zm(t):Bm(i/Dm(e))/Bm(fo(e)/fo(t)),o=i*Fm(fo(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=Um(r)*jm(t*t+n*n);return[Im(t,Nm(n))/r*Um(n),2*zm(Fm(o/i,1/r))-Sm]},n):co}function _o(t,e){return[t,e]}function mo(t,e){function n(t,e){var n=o-e,i=r*t;return[n*Zm(i),o-n*Dm(i)]}var i=Dm(t),r=t===e?Zm(t):(i-Dm(e))/(e-t),o=i/r+t;return Nm(r)<km?_o:(n.invert=function(t,e){var n=o-e;return[Im(t,Nm(n))/r*Um(n),o-Um(r)*jm(t*t+n*n)]},n)}function go(t,e){var n=Dm(e),i=Dm(t)*n;return[n*Zm(t)/i,Zm(e)/i]}function vo(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?Og:Kr({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}function yo(t,e){return[Dm(e)*Zm(t),Zm(e)]}function bo(t,e){var n=Dm(e),i=1+Dm(t)*n;return[n*Zm(t)/i,Zm(e)/i]}function wo(t,e){return[Bm(Vm((Sm+e)/2)),-t]}function xo(t,e){return t.parent===e.parent?1:2}function Mo(t){return t.reduce(To,0)/t.length}function To(t,e){return t+e.x}function ko(t){return 1+t.reduce(Lo,0)}function Lo(t,e){return Math.max(t,e.y)}function So(t){for(var e;e=t.children;)t=e[0];return t}function Co(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Eo(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Po(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function Ao(t,e){var n,i,r,o,a,s=new Oo(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=zo);n=l.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(i=n.children[o]=new Oo(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Do)}function No(){return Ao(this).eachBefore(Io)}function zo(t){return t.children}function Io(t){t.data=t.data.data}function Do(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Oo(t){this.data=t,this.depth=this.height=0,this.parent=null}function Ro(t){this._=t,this.next=null}function Bo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r-e.r;return r*r+1e-6>n*n+i*i}function Fo(t,e){var n,i,r,o=null,a=t.head;switch(e.length){case 1:n=Zo(e[0]);break;case 2:n=Uo(e[0],e[1]);break;case 3:n=jo(e[0],e[1],e[2])}for(;a;)r=a._,i=a.next,n&&Bo(n,r)?o=a:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(r),n=Fo(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),o=t.tail,o.next=i),a=i;return t.tail=o,n}function Zo(t){return{x:t.x,y:t.y,r:t.r}}function Uo(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-i,c=s-r,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(i+a+l/h*c)/2,r:(h+r+s)/2}}function jo(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=2*(i-a),d=2*(r-s),p=2*(u-o),_=i*i+r*r-o*o-a*a-s*s+u*u,m=2*(i-l),g=2*(r-c),v=2*(h-o),y=i*i+r*r-o*o-l*l-c*c+h*h,b=m*d-f*g,w=(d*y-g*_)/b-i,x=(g*p-d*v)/b,M=(m*_-f*y)/b-r,T=(f*v-m*p)/b,k=x*x+T*T-1,L=2*(w*x+M*T+o),S=w*w+M*M-o*o,C=(-L-Math.sqrt(L*L-4*k*S))/(2*k);return{x:w+x*C+i,y:M+T*C+r,r:C}}function Vo(t,e,n){var i=t.x,r=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-i,u=e.y-r,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=i+c*s+h*u,n.y=r+c*u-h*s}else n.x=i+a,n.y=r}function Go(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r-1e-6>n*n+i*i}function qo(t,e,n){var i=t._,r=t.next._,o=i.r+r.r,a=(i.x*r.r+r.x*i.r)/o-e,s=(i.y*r.r+r.y*i.r)/o-n;return a*a+s*s}function Ho(t){this._=t,this.next=null,this.previous=null}function Wo(t){if(!(r=t.length))return 0;var e,n,i,r;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;Vo(n,e,i=t[2]);var o,a,s,u,l,c,h,f=e.r*e.r,d=n.r*n.r,p=i.r*i.r,_=f+d+p,m=f*e.x+d*n.x+p*i.x,g=f*e.y+d*n.y+p*i.y;e=new Ho(e),n=new Ho(n),i=new Ho(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){Vo(e._,n._,i=t[s]),i=new Ho(i),u=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(Go(u._,i._)){n=u,e.next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(Go(l._,i._)){e=l,e.next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(u!==l.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,_+=p=i._.r*i._.r,m+=p*i._.x,g+=p*i._.y,f=qo(e,o=m/_,a=g/_);(i=i.next)!==n;)(p=qo(i,o,a))<f&&(e=i,f=p);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Hv(e),s=0;s<r;++s)e=t[s],e.x-=i.x,e.y-=i.y;return i.r}function Yo(t){return null==t?null:Xo(t)}function Xo(t){if("function"!=typeof t)throw new Error;return t}function Ko(){return 0}function $o(t){return Math.sqrt(t.value)}function Jo(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Qo(t,e){return function(n){if(i=n.children){var i,r,o,a=i.length,s=t(n)*e||0;if(s)for(r=0;r<a;++r)i[r].r+=s;if(o=Wo(i),s)for(r=0;r<a;++r)i[r].r-=s;n.r=o+s}}}function ta(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ea(t){return t.id}function na(t){return t.parentId}function ia(t,e){return t.parent===e.parent?1:2}function ra(t){var e=t.children;return e?e[0]:t.t}function oa(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function sa(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function ua(t,e,n){return t.a.parent===e.parent?t.a:n}function la(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ca(t){for(var e,n,i,r,o,a=new la(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=e.children[r]=new la(i[r],r)),n.parent=e;return(a.parent=new la(null,0)).children=[a],a}function ha(t,e,n,i,r,o){for(var a,s,u,l,c,h,f,d,p,_,m,g=[],v=e.children,y=0,b=0,w=v.length,x=e.value;y<w;){u=r-n,l=o-i;do{c=v[b++].value}while(!c&&b<w);for(h=f=c,_=Math.max(l/u,u/l)/(x*t),m=c*c*_,p=Math.max(f/m,m/h);b<w;++b){if(c+=s=v[b].value,s<h&&(h=s),s>f&&(f=s),m=c*c*_,(d=Math.max(f/m,m/h))>p){c-=s;break}p=d}g.push(a={value:c,dice:u<l,children:v.slice(y,b)}),a.dice?$v(a,n,i,r,x?i+=l*c/x:o):ry(a,n,i,x?n+=u*c/x:r,o),x-=c,y=b}return g}function fa(t,e){return t[0]-e[0]||t[1]-e[1]}function da(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&dy(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function pa(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function _a(t){if(!t._start)try{ma(t)}catch(e){if(t._tasks[t._ended+t._active-1])va(t,e);else if(!t._data)throw e}}function ma(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=ga(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||vy)}}function ga(t,e){return function(n,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?va(t,n):(t._data[e]=i,t._waiting?_a(t):ya(t))))}}function va(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--i>=0;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,ya(t)}function ya(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function ba(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new pa(t)}function wa(t){return function(e,n){t(null==e?n:null)}}function xa(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ma(t,e){return function(n){return t(n.responseText,e)}}function Ta(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(r!==By)return r;n.set(o,a=i.push(e))}return t[(a-1)%t.length]}var n=Vn(),i=[],r=By;return t=null==t?[]:Ry.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],n=Vn();for(var r,o,a=-1,s=t.length;++a<s;)n.has(o=(r=t[a])+"")||n.set(o,i.push(r));return e},e.range=function(n){return arguments.length?(t=Ry.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(r=t,e):r},e.copy=function(){return Ta().domain(i).range(t).unknown(r)},e}function ka(){function t(){var t=r().length,i=a[1]<a[0],h=a[i-0],f=a[1-i];e=(f-h)/Math.max(1,t-u+2*l),s&&(e=Math.floor(e)),h+=(f-h-e*(t-u))*c,n=e*(1-u),s&&(h=Math.round(h),n=Math.round(n));var d=sc(t).map(function(t){return h+e*t});return o(i?d.reverse():d)}var e,n,i=Ta().unknown(void 0),r=i.domain,o=i.range,a=[0,1],s=!1,u=0,l=0,c=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),t()):r()},i.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},i.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(e){return arguments.length?(s=!!e,t()):s},i.padding=function(e){return arguments.length?(u=l=Math.max(0,Math.min(1,e)),t()):u},i.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},i.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},i.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},i.copy=function(){return ka().domain(r()).range(a).round(s).paddingInner(u).paddingOuter(l).align(c)},t()}function La(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return La(e())},t}function Sa(){return La(ka().paddingInner(1))}function Ca(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fy(e)}function Ea(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}function Pa(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}function Aa(t,e,n,i){var r=t[0],o=t[1],a=e[0],s=e[1];return o<r?(r=n(o,r),a=i(s,a)):(r=n(r,o),a=i(a,s)),function(t){return a(r(t))}}function Na(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)o[s]=n(t[s],t[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var n=Wl(t,e,1,r)-1;return a[n](o[n](e))}}function za(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ia(t,e){function n(){return r=Math.min(s.length,u.length)>2?Na:Aa,o=a=null,i}function i(e){return(o||(o=r(s,u,c?Ea(t):t,l)))(+e)}var r,o,a,s=Uy,u=Uy,l=Df,c=!1;return i.invert=function(t){return(a||(a=r(u,s,Ca,c?Pa(e):e)))(+t)},i.domain=function(t){return arguments.length?(s=Oy.call(t,Zy),n()):s.slice()},i.range=function(t){return arguments.length?(u=Ry.call(t),n()):u.slice()},i.rangeRound=function(t){return u=Ry.call(t),l=Of,n()},i.clamp=function(t){return arguments.length?(c=!!t,n()):c},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function Da(t){var e=t.domain;return t.ticks=function(t){var n=e();return hc(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return jy(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),a=0,s=o.length-1,u=o[a],l=o[s];return l<u&&(r=u,u=l,l=r,r=a,a=s,s=r),r=i(u,l,n),r>0?(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,r=i(u,l,n)):r<0&&(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,r=i(u,l,n)),r>0?(o[a]=Math.floor(u/r)*r,o[s]=Math.ceil(l/r)*r,e(o)):r<0&&(o[a]=Math.ceil(u*r)/r,o[s]=Math.floor(l*r)/r,e(o)),t},t}function Oa(){var t=Ia(Ca,Pf);return t.copy=function(){return za(t,Oa())},Da(t)}function Ra(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Oy.call(n,Zy),t):e.slice()},t.copy=function(){return Ra().domain(e)},Da(t)}function Ba(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Fy(e)}function Fa(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Za(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ua(t){return 10===t?Za:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function ja(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Va(t){return function(e){return-t(-e)}}function Ga(){function e(){return o=ja(r),a=Ua(r),i()[0]<0&&(o=Va(o),a=Va(a)),n}var n=Ia(Ba,Fa).domain([1,10]),i=n.domain,r=10,o=ja(10),a=Ua(10);return n.base=function(t){return arguments.length?(r=+t,e()):r},n.domain=function(t){return arguments.length?(i(t),e()):i()},n.ticks=function(t){var e,n=i(),s=n[0],u=n[n.length-1];(e=u<s)&&(f=s,s=u,u=f);var l,c,h,f=o(s),d=o(u),p=null==t?10:+t,_=[];if(!(r%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,s>0){for(;f<d;++f)for(c=1,l=a(f);c<r;++c)if(!((h=l*c)<s)){if(h>u)break;_.push(h)}}else for(;f<d;++f)for(c=r-1,l=a(f);c>=1;--c)if(!((h=l*c)<s)){if(h>u)break;_.push(h)}}else _=hc(f,d,Math.min(d-f,p)).map(a);return e?_.reverse():_},n.tickFormat=function(e,i){if(null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=t.format(i)),e===1/0)return i;null==e&&(e=10);var s=Math.max(1,r*e/n.ticks().length);return function(t){var e=t/a(Math.round(o(t)));return e*r<r-.5&&(e*=r),e<=s?i(t):""}},n.nice=function(){return i(Vy(i(),{floor:function(t){return a(Math.floor(o(t)))},ceil:function(t){return a(Math.ceil(o(t)))}}))},n.copy=function(){return za(n,Ga().base(r))},n}function qa(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Ha(){function t(t,e){return(e=qa(e,n)-(t=qa(t,n)))?function(i){return(qa(i,n)-t)/e}:Fy(e)}function e(t,e){return e=qa(e,n)-(t=qa(t,n)),function(i){return qa(t+e*i,1/n)}}var n=1,i=Ia(t,e),r=i.domain;return i.exponent=function(t){return arguments.length?(n=+t,r(r())):n},i.copy=function(){return za(i,Ha().exponent(n))},Da(i)}function Wa(){return Ha().exponent(.5)}function Ya(){function t(){var t=0,o=Math.max(1,i.length);for(r=new Array(o-1);++t<o;)r[t-1]=pc(n,t/o);return e}function e(t){if(!isNaN(t=+t))return i[Wl(r,t)]}var n=[],i=[],r=[];return e.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var i,r=0,o=e.length;r<o;++r)null==(i=e[r])||isNaN(i=+i)||n.push(i);return n.sort(Gl),t()},e.range=function(e){return arguments.length?(i=Ry.call(e),t()):i.slice()},e.quantiles=function(){return r.slice()},e.copy=function(){return Ya().domain(n).range(i)},e}function Xa(){function t(t){if(t<=t)return a[Wl(o,t,0,r)]}function e(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*i-(e-r)*n)/(r+1);return t}var n=0,i=1,r=1,o=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e()):[n,i]},t.range=function(t){return arguments.length?(r=(a=Ry.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=r?[o[r-1],i]:[o[e-1],o[e]]},t.copy=function(){return Xa().domain([n,i]).range(a)},Da(t)}function Ka(){function t(t){if(t<=t)return n[Wl(e,t,0,i)]}var e=[.5],n=[0,1],i=1;return t.domain=function(r){return arguments.length?(e=Ry.call(r),i=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(r){return arguments.length?(n=Ry.call(r),i=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},t.copy=function(){return Ka().domain(e).range(n)},t}function $a(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(new Date(+n))}while(e(n,o),t(n),n<i);return a},r.filter=function(n){return $a(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return Gy.setTime(+e),qy.setTime(+i),t(Gy),t(qy),Math.floor(n(Gy,qy))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}function Ja(t){return $a(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yy)/Xy})}function Qa(t){return $a(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Xy})}function ts(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function es(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ns(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function is(t){function e(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=Wb[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var r=ns(1900);if(i(r,t,n+="",0)!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var o="Z"in r?es(ns(r.y)).getUTCDay():e(ns(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(o+5)%7:r.w+7*r.U-(o+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,es(r)):e(r)}}function i(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=j[r in Wb?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function r(t,e,n){var i=P.exec(e.slice(n));return i?(t.p=A[i[0].toLowerCase()],n+i[0].length):-1}function o(t,e,n){var i=I.exec(e.slice(n));return i?(t.w=D[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=N.exec(e.slice(n));return i?(t.w=z[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=B.exec(e.slice(n));return i?(t.m=F[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){var i=O.exec(e.slice(n));return i?(t.m=R[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){return i(t,x,e,n)}function c(t,e,n){return i(t,M,e,n)}function h(t,e,n){return i(t,T,e,n)}function f(t){return S[t.getDay()]}function d(t){return L[t.getDay()]}function p(t){return E[t.getMonth()]}function _(t){return C[t.getMonth()]}function m(t){return k[+(t.getHours()>=12)]}function g(t){return S[t.getUTCDay()]}function v(t){return L[t.getUTCDay()]}function y(t){return E[t.getUTCMonth()]}function b(t){return C[t.getUTCMonth()]}function w(t){return k[+(t.getUTCHours()>=12)]}var x=t.dateTime,M=t.date,T=t.time,k=t.periods,L=t.days,S=t.shortDays,C=t.months,E=t.shortMonths,P=as(k),A=ss(k),N=as(L),z=ss(L),I=as(S),D=ss(S),O=as(C),R=ss(C),B=as(E),F=ss(E),Z={a:f,A:d,b:p,B:_,c:null,d:xs,e:xs,H:Ms,I:Ts,j:ks,L:Ls,m:Ss,M:Cs,p:m,S:Es,U:Ps,w:As,W:Ns,x:null,X:null,y:zs,Y:Is,Z:Ds,"%":Ks},U={a:g,A:v,b:y,B:b,c:null,d:Os,e:Os,H:Rs,I:Bs,j:Fs,L:Zs,m:Us,M:js,p:w,S:Vs,U:Gs,w:qs,W:Hs,x:null,X:null,y:Ws,Y:Ys,Z:Xs,"%":Ks},j={a:o,A:a,b:s,B:u,c:l,d:_s,e:_s,H:gs,I:gs,j:ms,L:bs,m:ps,M:vs,p:r,S:ys,U:ls,w:us,W:cs,x:c,X:h,y:fs,Y:hs,Z:ds,"%":ws};return Z.x=e(M,Z),Z.X=e(T,Z),Z.c=e(x,Z),U.x=e(M,U),U.X=e(T,U),U.c=e(x,U),{format:function(t){var n=e(t+="",Z);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",ts);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",U);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,es);return e.toString=function(){return t},e}}}function rs(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function os(t){return t.replace(Kb,"\\$&")}function as(t){return new RegExp("^(?:"+t.map(os).join("|")+")","i")}function ss(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function us(t,e,n){var i=Yb.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function ls(t,e,n){var i=Yb.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function cs(t,e,n){var i=Yb.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function hs(t,e,n){var i=Yb.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function fs(t,e,n){var i=Yb.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function ds(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ps(t,e,n){var i=Yb.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function _s(t,e,n){var i=Yb.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ms(t,e,n){var i=Yb.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function gs(t,e,n){var i=Yb.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function vs(t,e,n){var i=Yb.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ys(t,e,n){var i=Yb.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function bs(t,e,n){var i=Yb.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ws(t,e,n){var i=Xb.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function xs(t,e){return rs(t.getDate(),e,2)}function Ms(t,e){return rs(t.getHours(),e,2)}function Ts(t,e){return rs(t.getHours()%12||12,e,2)}function ks(t,e){return rs(1+nb.count(bb(t),t),e,3)}function Ls(t,e){return rs(t.getMilliseconds(),e,3)}function Ss(t,e){return rs(t.getMonth()+1,e,2)}function Cs(t,e){return rs(t.getMinutes(),e,2)}function Es(t,e){return rs(t.getSeconds(),e,2)}function Ps(t,e){return rs(rb.count(bb(t),t),e,2)}function As(t){return t.getDay()}function Ns(t,e){return rs(ob.count(bb(t),t),e,2)}function zs(t,e){return rs(t.getFullYear()%100,e,2)}function Is(t,e){return rs(t.getFullYear()%1e4,e,4)}function Ds(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rs(e/60|0,"0",2)+rs(e%60,"0",2)}function Os(t,e){return rs(t.getUTCDate(),e,2)}function Rs(t,e){return rs(t.getUTCHours(),e,2)}function Bs(t,e){return rs(t.getUTCHours()%12||12,e,2)}function Fs(t,e){return rs(1+Lb.count(Gb(t),t),e,3)}function Zs(t,e){return rs(t.getUTCMilliseconds(),e,3)}function Us(t,e){return rs(t.getUTCMonth()+1,e,2)}function js(t,e){return rs(t.getUTCMinutes(),e,2)}function Vs(t,e){return rs(t.getUTCSeconds(),e,2)}function Gs(t,e){return rs(Cb.count(Gb(t),t),e,2)}function qs(t){return t.getUTCDay()}function Hs(t,e){return rs(Eb.count(Gb(t),t),e,2)}function Ws(t,e){return rs(t.getUTCFullYear()%100,e,2)}function Ys(t,e){return rs(t.getUTCFullYear()%1e4,e,4)}function Xs(){return"+0000"}function Ks(){return"%"}function $s(e){return qb=is(e),t.timeFormat=qb.format,t.timeParse=qb.parse,t.utcFormat=qb.utcFormat,t.utcParse=qb.utcParse,qb}function Js(t){return t.toISOString()}function Qs(t){var e=new Date(t);return isNaN(e)?null:e}function tu(t){return new Date(t)}function eu(t){return t instanceof Date?+t:+new Date(+t)}function nu(t,e,n,i,o,a,s,u,l){function c(r){return(s(r)<r?_:a(r)<r?m:o(r)<r?g:i(r)<r?v:e(r)<r?n(r)<r?y:b:t(r)<r?w:x)(r)}function h(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=ql(function(t){return t[2]}).right(M,a);s===M.length?(o=r(n/ow,i/ow,e),e=t):s?(s=M[a/M[s-1][2]<M[s][2]/a?s-1:s],o=s[1],e=s[0]):(o=r(n,i,e),e=u)}return null==o?e:e.every(o)}var f=Ia(Ca,Pf),d=f.invert,p=f.domain,_=l(".%L"),m=l(":%S"),g=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),b=l("%b %d"),w=l("%B"),x=l("%Y"),M=[[s,1,Qb],[s,5,5*Qb],[s,15,15*Qb],[s,30,30*Qb],[a,1,tw],[a,5,5*tw],[a,15,15*tw],[a,30,30*tw],[o,1,ew],[o,3,3*ew],[o,6,6*ew],[o,12,12*ew],[i,1,nw],[i,2,2*nw],[n,1,iw],[e,1,rw],[e,3,3*rw],[t,1,ow]];return f.invert=function(t){return new Date(d(t))},f.domain=function(t){return arguments.length?p(Oy.call(t,eu)):p().map(tu)},f.ticks=function(t,e){var n,i=p(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=h(t,r,o,e),n=n?n.range(r,o+1):[],a?n.reverse():n},f.tickFormat=function(t,e){return null==e?c:l(e)},f.nice=function(t,e){var n=p();return(t=h(t,n[0],n[n.length-1],e))?p(Vy(n,t)):f},f.copy=function(){return za(f,nu(t,e,n,i,o,a,s,u,l))},f}function iu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function ru(t){function e(e){var o=(e-n)/(i-n);return t(r?Math.max(0,Math.min(1,o)):o)}var n=0,i=1,r=!1;return e.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.clamp=function(t){return arguments.length?(r=!!t,e):r},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return ru(t).domain([n,i]).clamp(r)},Da(e)}function ou(t){return t>1?0:t<-1?Aw:Math.acos(t)}function au(t){return t>=1?Nw:t<=-1?-Nw:Math.asin(t)}function su(t){return t.innerRadius}function uu(t){return t.outerRadius}function lu(t){return t.startAngle}function cu(t){return t.endAngle}function hu(t){return t&&t.padAngle}function fu(t,e,n,i,r,o,a,s){var u=n-t,l=i-e,c=a-r,h=s-o,f=(c*(e-o)-h*(t-r))/(h*u-c*l);return[t+f*u,e+f*l]}function du(t,e,n,i,r,o,a){var s=t-n,u=e-i,l=(a?o:-o)/Ew(s*s+u*u),c=l*u,h=-l*s,f=t+c,d=e+h,p=n+c,_=i+h,m=(f+p)/2,g=(d+_)/2,v=p-f,y=_-d,b=v*v+y*y,w=r-o,x=f*_-p*d,M=(y<0?-1:1)*Ew(Lw(0,w*w*b-x*x)),T=(x*y-v*M)/b,k=(-x*v-y*M)/b,L=(x*y+v*M)/b,S=(-x*v+y*M)/b,C=T-m,E=k-g,P=L-m,A=S-g;return C*C+E*E>P*P+A*A&&(T=L,k=S),{cx:T,cy:k,x01:-c,y01:-h,x11:T*(r/w-1),y11:k*(r/w-1)}}function pu(t){this._context=t}function _u(t){return t[0]}function mu(t){return t[1]}function gu(t){this._curve=t}function vu(t){function e(e){return new gu(t(e))}return e._curve=t,e}function yu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(vu(t)):e()._curve},t}function bu(t){return t.source}function wu(t){return t.target}function xu(t){function e(){var e,s=Gw.call(arguments),u=n.apply(this,s),l=i.apply(this,s);if(a||(a=e=On()),t(a,+r.apply(this,(s[0]=u,s)),+o.apply(this,s),+r.apply(this,(s[0]=l,s)),+o.apply(this,s)),e)return a=null,e+""||null}var n=bu,i=wu,r=_u,o=mu,a=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(i=t,e):i},e.x=function(t){return arguments.length?(r="function"==typeof t?t:xw(+t),e):r},e.y=function(t){return arguments.length?(o="function"==typeof t?t:xw(+t),e):o},e.context=function(t){return arguments.length?(a=null==t?null:t,e):a},e}function Mu(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function Tu(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function ku(t,e,n,i,r){var o=qw(e,n),a=qw(e,n=(n+r)/2),s=qw(i,n),u=qw(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Lu(){return xu(Mu)}function Su(){return xu(Tu)}function Cu(){var t=xu(ku);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Eu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Pu(t){this._context=t}function Au(t){this._context=t}function Nu(t){this._context=t}function zu(t,e){this._basis=new Pu(t),this._beta=e}function Iu(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Du(t,e){this._context=t,this._k=(1-e)/6}function Ou(t,e){this._context=t,this._k=(1-e)/6}function Ru(t,e){this._context=t,this._k=(1-e)/6}function Bu(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Pw){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Pw){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Fu(t,e){this._context=t,this._alpha=e}function Zu(t,e){this._context=t,this._alpha=e}function Uu(t,e){this._context=t,this._alpha=e}function ju(t){this._context=t}function Vu(t){return t<0?-1:1}function Gu(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Vu(o)+Vu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function qu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hu(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function Wu(t){this._context=t}function Yu(t){this._context=new Xu(t)}function Xu(t){this._context=t}function Ku(t){return new Wu(t)}function $u(t){return new Yu(t)}function Ju(t){this._context=t}function Qu(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function tl(t,e){this._context=t,this._t=e}function el(t){return new tl(t,0)}function nl(t){return new tl(t,1)}function il(t,e){return t[e]}function rl(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function ol(t){return t[0]}function al(t){return t[1]}function sl(){this._=null}function ul(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ll(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function cl(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function hl(t){for(;t.L;)t=t.L;return t}function fl(t,e,n,i){var r=[null,null],o=Ux.push(r)-1;return r.left=t,r.right=e,n&&pl(r,t,e,n),i&&pl(r,e,t,i),Fx[t.index].halfedges.push(o),Fx[e.index].halfedges.push(o),r}function dl(t,e,n){var i=[e,n];return i.left=t,i}function pl(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function _l(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=s[0],h=s[1],f=0,d=1,p=c-u,_=h-l;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=i-u,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<d&&(d=o)}if(o=n-l,_||!(o>0)){if(o/=_,_<0){if(o<f)return;o<d&&(d=o)}else if(_>0){if(o>d)return;o>f&&(f=o)}if(o=r-l,_||!(o<0)){if(o/=_,_<0){if(o>d)return;o>f&&(f=o)}else if(_>0){if(o<f)return;o<d&&(d=o)}return!(f>0||d<1)||(f>0&&(t[0]=[u+f*p,l+f*_]),d<1&&(t[1]=[u+d*p,l+d*_]),!0)}}}}}function ml(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],_=(h+d)/2,m=(f+p)/2;if(p===f){if(_<e||_>=i)return;if(h>d){if(u){if(u[1]>=r)return}else u=[_,n];o=[_,r]}else{if(u){if(u[1]<n)return}else u=[_,r];o=[_,n]}}else if(a=(h-d)/(p-f),s=m-a*_,a<-1||a>1)if(h>d){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function gl(t,e,n,i){for(var r,o=Ux.length;o--;)ml(r=Ux[o],t,e,n,i)&&_l(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Gx||Math.abs(r[0][1]-r[1][1])>Gx)||delete Ux[o]}function vl(t){return Fx[t.index]={site:t,halfedges:[]}}function yl(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function bl(t,e){return e[+(e.left!==t.site)]}function wl(t,e){return e[+(e.left===t.site)]}function xl(){for(var t,e,n,i,r=0,o=Fx.length;r<o;++r)if((t=Fx[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=yl(t,Ux[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}function Ml(t,e,n,i){var r,o,a,s,u,l,c,h,f,d,p,_,m=Fx.length,g=!0;for(r=0;r<m;++r)if(o=Fx[r]){for(a=o.site,u=o.halfedges,s=u.length;s--;)Ux[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=wl(o,Ux[u[s]]),p=d[0],_=d[1],c=bl(o,Ux[u[++s%l]]),h=c[0],f=c[1],(Math.abs(p-h)>Gx||Math.abs(_-f)>Gx)&&(u.splice(s,0,Ux.push(dl(a,d,Math.abs(p-t)<Gx&&i-_>Gx?[t,Math.abs(h-t)<Gx?f:i]:Math.abs(_-i)<Gx&&n-p>Gx?[Math.abs(f-i)<Gx?h:n,i]:Math.abs(p-n)<Gx&&_-e>Gx?[n,Math.abs(h-n)<Gx?f:e]:Math.abs(_-e)<Gx&&p-t>Gx?[Math.abs(f-e)<Gx?h:t,e]:null))-1),++l);l&&(g=!1)}if(g){var v,y,b,w=1/0;for(r=0,g=null;r<m;++r)(o=Fx[r])&&(a=o.site,v=a[0]-t,y=a[1]-e,(b=v*v+y*y)<w&&(w=b,g=o));if(g){var x=[t,e],M=[t,i],T=[n,i],k=[n,e];g.halfedges.push(Ux.push(dl(a=g.site,x,M))-1,Ux.push(dl(a,M,T))-1,Ux.push(dl(a,T,k))-1,Ux.push(dl(a,k,x))-1)}}for(r=0;r<m;++r)(o=Fx[r])&&(o.halfedges.length||delete Fx[r])}function Tl(){ul(this),this.x=this.y=this.arc=this.site=this.cy=null}function kl(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,l=i[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-qx)){var d=u*u+l*l,p=c*c+h*h,_=(h*d-l*p)/f,m=(u*p-c*d)/f,g=jx.pop()||new Tl;g.arc=t,g.site=r,g.x=_+a,g.y=(g.cy=m+s)+Math.sqrt(_*_+m*m),t.circle=g;for(var v=null,y=Zx._;y;)if(g.y<y.y||g.y===y.y&&g.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}Zx.insert(v,g),v||(Rx=g)}}}}function Ll(t){var e=t.circle;e&&(e.P||(Rx=e.N),Zx.remove(e),jx.push(e),ul(e),t.circle=null)}function Sl(){ul(this),this.edge=this.site=this.circle=null}function Cl(t){var e=Vx.pop()||new Sl;return e.site=t,e}function El(t){Ll(t),Bx.remove(t),Vx.push(t),ul(t)}function Pl(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];El(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Gx&&Math.abs(i-u.circle.cy)<Gx;)o=u.P,s.unshift(u),El(u),u=o;s.unshift(u),Ll(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Gx&&Math.abs(i-l.circle.cy)<Gx;)a=l.N,s.push(l),El(l),l=a;s.push(l),Ll(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],pl(l.edge,u.site,l.site,r);u=s[0],l=s[h-1],l.edge=fl(u.site,l.site,null,r),kl(u),kl(l)}function Al(t){for(var e,n,i,r,o=t[0],a=t[1],s=Bx._;s;)if((i=Nl(s,a)-o)>Gx)s=s.L;else{if(!((r=o-zl(s,a))>Gx)){i>-Gx?(e=s.P,n=s):r>-Gx?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}vl(t);var u=Cl(t);if(Bx.insert(e,u),e||n){if(e===n)return Ll(e),n=Cl(e.site),Bx.insert(u,n),u.edge=n.edge=fl(e.site,u.site),kl(e),void kl(n);if(!n)return void(u.edge=fl(e.site,u.site));Ll(e),Ll(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,d=t[1]-h,p=n.site,_=p[0]-c,m=p[1]-h,g=2*(f*m-d*_),v=f*f+d*d,y=_*_+m*m,b=[(m*v-d*y)/g+c,(f*y-_*v)/g+h];pl(n.edge,l,p,b),u.edge=fl(l,t,null,b),n.edge=fl(t,p,null,b),kl(e),kl(n)}}function Nl(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;n=a.site;var s=n[0],u=n[1],l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function zl(t,e){var n=t.N;if(n)return Nl(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function Il(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Dl(t,e){return e[1]-t[1]||e[0]-t[0]}function Ol(t,e){var n,i,r,o=t.sort(Dl).pop();for(Ux=[],Fx=new Array(t.length),Bx=new sl,Zx=new sl;;)if(r=Rx,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Al(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Pl(r.arc)}if(xl(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];gl(a,s,u,l),Ml(a,s,u,l)}this.edges=Ux,this.cells=Fx,Bx=Zx=Ux=Fx=null}function Rl(t,e,n){this.target=t,this.type=e,this.transform=n}function Bl(t,e,n){this.k=t,this.x=e,this.y=n}function Fl(t){return t.__zoom||Yx}function Zl(){t.event.stopImmediatePropagation()}function Ul(){return!t.event.button}function jl(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Vl(){return this.__zoom||Yx}var Gl=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},ql=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}},Hl=ql(Gl),Wl=Hl.right,Yl=Hl.left,Xl=function(t,e){null==e&&(e=n);for(var i=0,r=t.length-1,o=t[0],a=new Array(r<0?0:r);i<r;)a[i]=e(o,o=t[++i]);return a},Kl=function(t,e,i){var r,o,a,s,u=t.length,l=e.length,c=new Array(u*l);for(null==i&&(i=n),r=a=0;r<u;++r)for(s=t[r],o=0;o<l;++o,++a)c[a]=i(s,e[o]);return c},$l=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Jl=function(t){return null===t?NaN:+t},Ql=function(t,e){var n,i,r=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<r;)isNaN(n=Jl(t[a]))||(i=n-s,s+=i/++o,u+=i*(n-s));else for(;++a<r;)isNaN(n=Jl(e(t[a],a,t)))||(i=n-s,s+=i/++o,u+=i*(n-s));if(o>1)return u/(o-1)},tc=function(t,e){var n=Ql(t,e);return n?Math.sqrt(n):n},ec=function(t,e){var n,i,r,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=r=n;++a<o;)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},nc=Array.prototype,ic=nc.slice,rc=nc.map,oc=function(t){return function(){return t}},ac=function(t){return t},sc=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},uc=Math.sqrt(50),lc=Math.sqrt(10),cc=Math.sqrt(2),hc=function(t,e,n){var r,o,a,s=e<t,u=-1;if(s&&(r=t,t=e,e=r),0===(a=i(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++u<r;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++u<r;)o[u]=(t-u)/a;return s&&o.reverse(),o},fc=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},dc=function(){function t(t){var o,a,s=t.length,u=new Array(s);for(o=0;o<s;++o)u[o]=e(t[o],o,t);var l=n(u),c=l[0],h=l[1],f=i(u,c,h);Array.isArray(f)||(f=r(c,h,f),f=sc(Math.ceil(c/f)*f,Math.floor(h/f)*f,f));for(var d=f.length;f[0]<=c;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,_=new Array(d+1);for(o=0;o<=d;++o)p=_[o]=[],p.x0=o>0?f[o-1]:c,p.x1=o<d?f[o]:h;for(o=0;o<s;++o)a=u[o],c<=a&&a<=h&&_[Wl(f,a,0,d)].push(t[o]);return _}var e=ac,n=ec,i=fc;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:oc(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:oc([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:oc(Array.isArray(e)?ic.call(e):e),t):i},t},pc=function(t,e,n){if(null==n&&(n=Jl),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(r-o)}},_c=function(t,e,n){return t=rc.call(t,Jl).sort(Gl),Math.ceil((n-e)/(2*(pc(t,.75)-pc(t,.25))*Math.pow(t.length,-1/3)))},mc=function(t,e,n){return Math.ceil((n-e)/(3.5*tc(t)*Math.pow(t.length,-1/3)))},gc=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i},vc=function(t,e){var n,i=t.length,r=i,o=-1,a=0;if(null==e)for(;++o<i;)isNaN(n=Jl(t[o]))?--r:a+=n;else for(;++o<i;)isNaN(n=Jl(e(t[o],o,t)))?--r:a+=n;if(r)return a/r},yc=function(t,e){var n,i=t.length,r=-1,o=[];if(null==e)for(;++r<i;)isNaN(n=Jl(t[r]))||o.push(n);else for(;++r<i;)isNaN(n=Jl(e(t[r],r,t)))||o.push(n);return pc(o.sort(Gl),.5)},bc=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--a]=i[e];return n},wc=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i},xc=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Mc=function(t,e){if(n=t.length){var n,i,r=0,o=0,a=t[o];for(null==e&&(e=Gl);++r<n;)(e(i=t[r],a)<0||0!==e(a,a))&&(a=i,o=r);return 0===e(a,a)?o:void 0}},Tc=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},kc=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},Lc=function(t){if(!(r=t.length))return[];for(var e=-1,n=wc(t,o),i=new Array(n);++e<n;)for(var r,a=-1,s=i[e]=new Array(r);++a<r;)s[a]=t[a][e];return i},Sc=function(){return Lc(arguments)},Cc=Array.prototype.slice,Ec=function(t){return t},Pc=1,Ac=2,Nc=3,zc=4,Ic=1e-6,Dc={value:function(){}};m.prototype=_.prototype={constructor:m,on:function(t,e){var n,i=this._,r=g(t+"",i),o=-1,a=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=y(i[n],t.name,e);else if(null==e)for(n in i)i[n]=y(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=v(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new m(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Oc="http://www.w3.org/1999/xhtml",Rc={svg:"http://www.w3.org/2000/svg",xhtml:Oc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bc=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Rc.hasOwnProperty(e)?{space:Rc[e],local:t}:t},Fc=function(t){var e=Bc(t);return(e.local?w:b)(e)},Zc=0;M.prototype=x.prototype={constructor:M,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Uc=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var jc=document.documentElement;if(!jc.matches){var Vc=jc.webkitMatchesSelector||jc.msMatchesSelector||jc.mozMatchesSelector||jc.oMatchesSelector;Uc=function(t){return function(){return Vc.call(this,t)}}}}var Gc=Uc,qc={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(qc={mouseenter:"mouseover",mouseleave:"mouseout"})}var Hc=function(t,e,n){var i,r,o=L(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?C:S,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(i=0,u=s[l];i<a;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}},Wc=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},Yc=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},Xc=function(t){var e=Wc();return e.changedTouches&&(e=e.changedTouches[0]),Yc(t,e)},Kc=function(t){return null==t?P:function(){return this.querySelector(t)}},$c=function(t){"function"!=typeof t&&(t=Kc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new mt(i,this._parents)},Jc=function(t){return null==t?A:function(){return this.querySelectorAll(t)}},Qc=function(t){"function"!=typeof t&&(t=Jc(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new mt(i,r)},th=function(t){"function"!=typeof t&&(t=Gc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new mt(i,this._parents)},eh=function(t){return new Array(t.length)},nh=function(){return new mt(this._enter||this._groups.map(eh),this._parents)};N.prototype={constructor:N,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ih=function(t){return function(){return t}},rh="$",oh=function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?I:z,i=this._parents,r=this._groups;"function"!=typeof t&&(t=ih(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=i[l],h=r[l],f=h.length,d=t.call(c,c&&c.__data__,l,i),p=d.length,_=s[l]=new Array(p),m=a[l]=new Array(p);n(c,h,_,m,u[l]=new Array(f),d,e);for(var g,v,y=0,b=0;y<p;++y)if(g=_[y]){for(y>=b&&(b=y+1);!(v=m[b])&&++b<p;);g._next=v||null}}return a=new mt(a,i),a._enter=s,a._exit=u,a},ah=function(){return new mt(this._exit||this._groups.map(eh),this._parents)},sh=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new mt(a,this._parents)},uh=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},lh=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=D);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],u=s.length,l=r[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new mt(r,this._parents).order()},ch=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},hh=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},fh=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},dh=function(){var t=0;return this.each(function(){++t}),t},ph=function(){return!this.node()},_h=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},mh=function(t,e){var n=Bc(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?R:O:"function"==typeof e?n.local?U:Z:n.local?F:B)(n,e))},gh=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},vh=function(t,e,n){return arguments.length>1?this.each((null==e?j:"function"==typeof e?G:V)(t,e,null==n?"":n)):q(this.node(),t)},yh=function(t,e){return arguments.length>1?this.each((null==e?H:"function"==typeof e?Y:W)(t,e)):this.node()[t]};$.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var bh=function(t,e){var n=X(t+"");if(arguments.length<2){for(var i=K(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?nt:e?tt:et)(n,e))},wh=function(t){return arguments.length?this.each(null==t?it:("function"==typeof t?ot:rt)(t)):this.node().textContent},xh=function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?ut:st)(t)):this.node().innerHTML},Mh=function(){return this.each(lt)},Th=function(){return this.each(ct)},kh=function(t){var e="function"==typeof t?t:Fc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Lh=function(t,e){var n="function"==typeof t?t:Fc(t),i=null==e?ht:"function"==typeof e?e:Kc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Sh=function(){return this.each(ft)},Ch=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Eh=function(t,e){return this.each(("function"==typeof e?_t:pt)(t,e))},Ph=[null];mt.prototype=gt.prototype={constructor:mt,select:$c,selectAll:Qc,filter:th,data:oh,enter:nh,exit:ah,merge:sh,order:uh,sort:lh,call:ch,nodes:hh,node:fh,size:dh,empty:ph,each:_h,attr:mh,style:vh,property:yh,classed:bh,text:wh,html:xh,raise:Mh,lower:Th,append:kh,insert:Lh,remove:Sh,datum:Ch,on:Hc,dispatch:Eh};var Ah=function(t){return"string"==typeof t?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],Ph)},Nh=function(t){return"string"==typeof t?new mt([document.querySelectorAll(t)],[document.documentElement]):new mt([null==t?[]:t],Ph)},zh=function(t,e,n){arguments.length<3&&(n=e,e=Wc().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Yc(t,i);return null},Ih=function(t,e){null==e&&(e=Wc().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Yc(t,e[n]);return r},Dh=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Oh=function(t){var e=t.document.documentElement,n=Ah(t).on("dragstart.drag",Dh,!0);"onselectstart"in e?n.on("selectstart.drag",Dh,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Rh=function(t){return function(){return t}};bt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Bh=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!f&&d.apply(this,arguments)){var e=u("mouse",p.apply(this,arguments),Xc,this,arguments);e&&(Ah(t.event.view).on("mousemove.drag",i,!0).on("mouseup.drag",r,!0),Oh(t.event.view),vt(),h=!1,l=t.event.clientX,c=t.event.clientY,e("start"))}}function i(){if(Dh(),!h){var e=t.event.clientX-l,n=t.event.clientY-c;h=e*e+n*n>b}g.mouse("drag")}function r(){Ah(t.event.view).on("mousemove.drag mouseup.drag",null),yt(t.event.view,h),Dh(),g.mouse("end")}function o(){if(d.apply(this,arguments)){var e,n,i=t.event.changedTouches,r=p.apply(this,arguments),o=i.length;for(e=0;e<o;++e)(n=u(i[e].identifier,r,zh,this,arguments))&&(vt(),n("start"))}}function a(){var e,n,i=t.event.changedTouches,r=i.length;for(e=0;e<r;++e)(n=g[i[e].identifier])&&(Dh(),n("drag"))}function s(){var e,n,i=t.event.changedTouches,r=i.length;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),e=0;e<r;++e)(n=g[i[e].identifier])&&(vt(),n("end"))}function u(n,i,r,o,a){var s,u,l,c=r(i,n),h=v.copy();if(E(new bt(e,"beforestart",s,n,y,c[0],c[1],0,0,h),function(){return null!=(t.event.subject=s=m.apply(o,a))&&(u=s.x-c[0]||0,l=s.y-c[1]||0,!0)}))return function t(f){var d,p=c;switch(f){case"start":g[n]=t,d=y++;break;case"end":delete g[n],--y;case"drag":c=r(i,n),d=y}E(new bt(e,f,s,n,d,c[0]+u,c[1]+l,c[0]-p[0],c[1]-p[1],h),h.apply,h,[f,o,a])}}var l,c,h,f,d=wt,p=xt,m=Mt,g={},v=_("start","drag","end"),y=0,b=0;return e.filter=function(t){return arguments.length?(d="function"==typeof t?t:Rh(!!t),e):d},e.container=function(t){return arguments.length?(p="function"==typeof t?t:Rh(t),e):p},e.subject=function(t){return arguments.length?(m="function"==typeof t?t:Rh(t),e):m},e.on=function(){var t=v.on.apply(v,arguments);return t===v?e:t},e.clickDistance=function(t){return arguments.length?(b=(t=+t)*t,e):Math.sqrt(b)},e},Fh=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Zh="\\s*([+-]?\\d+)\\s*",Uh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",jh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vh=/^#([0-9a-f]{3})$/,Gh=/^#([0-9a-f]{6})$/,qh=new RegExp("^rgb\\("+[Zh,Zh,Zh]+"\\)$"),Hh=new RegExp("^rgb\\("+[jh,jh,jh]+"\\)$"),Wh=new RegExp("^rgba\\("+[Zh,Zh,Zh,Uh]+"\\)$"),Yh=new RegExp("^rgba\\("+[jh,jh,jh,Uh]+"\\)$"),Xh=new RegExp("^hsl\\("+[Uh,jh,jh]+"\\)$"),Kh=new RegExp("^hsla\\("+[Uh,jh,jh,Uh]+"\\)$"),$h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fh(kt,Lt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Fh(At,Pt,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Fh(Dt,It,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new At(Ot(t>=240?t-240:t+120,r,i),Ot(t,r,i),Ot(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Jh=Math.PI/180,Qh=180/Math.PI,tf=.95047,ef=1,nf=1.08883,rf=4/29,of=6/29,af=3*of*of,sf=of*of*of;Fh(Ft,Bt,Tt(kt,{brighter:function(t){return new Ft(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ft(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=ef*Ut(t),e=tf*Ut(e),n=nf*Ut(n),new At(jt(3.2404542*e-1.5371385*t-.4985314*n),jt(-.969266*e+1.8760108*t+.041556*n),jt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Fh(Ht,qt,Tt(kt,{brighter:function(t){return new Ht(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ht(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Rt(this).rgb()}}));var uf=-.14861,lf=1.78277,cf=-.29227,hf=-.90649,ff=1.97294,df=ff*hf,pf=ff*lf,_f=lf*cf-hf*uf;Fh(Xt,Yt,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Jh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new At(255*(e+n*(uf*i+lf*r)),255*(e+n*(cf*i+hf*r)),255*(e+n*(ff*i)),this.opacity)}}));var mf,gf,vf,yf,bf,wf,xf=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return Kt((n-i/e)*e,a,r,o,s)}},Mf=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return Kt((n-i/e)*e,r,o,a,s)}},Tf=function(t){return function(){return t}},kf=function t(e){function n(t,e){var n=i((t=Pt(t)).r,(e=Pt(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),a=ee(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}var i=te(e);return n.gamma=t,n}(1),Lf=ne(xf),Sf=ne(Mf),Cf=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),a=new Array(i);for(n=0;n<r;++n)o[n]=Df(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}},Ef=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},Pf=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},Af=function(t,e){var n,i={},r={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?i[n]=Df(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Nf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zf=new RegExp(Nf.source,"g"),If=function(t,e){var n,i,r,o=Nf.lastIndex=zf.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Nf.exec(t))&&(i=zf.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Pf(n,i)})),o=zf.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?re(u[0].x):ie(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},Df=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Tf(e):("number"===i?Pf:"string"===i?(n=Lt(e))?(e=n,kf):If:e instanceof Lt?kf:e instanceof Date?Ef:Array.isArray(e)?Cf:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Af:Pf)(t,e)},Of=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},Rf=180/Math.PI,Bf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ff=function(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Rf,skewX:Math.atan(u)*Rf,scaleX:a,scaleY:s}},Zf=se(oe,"px, ","px)","deg)"),Uf=se(ae,", ",")",")"),jf=Math.SQRT2,Vf=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-r,h=u-o,f=c*c+h*h;if(f<1e-12)i=Math.log(l/a)/jf,n=function(t){return[r+t*c,o+t*h,a*Math.exp(jf*t*i)]};else{var d=Math.sqrt(f),p=(l*l-a*a+4*f)/(2*a*2*d),_=(l*l-a*a-4*f)/(2*l*2*d),m=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(_*_+1)-_);i=(g-m)/jf,n=function(t){var e=t*i,n=ue(m),s=a/(2*d)*(n*ce(jf*e+m)-le(m));return[r+s*c,o+s*h,a*n/ue(jf*e+m)]}}return n.duration=1e3*i,n},Gf=he(Qt),qf=he(ee),Hf=de(Qt),Wf=de(ee),Yf=pe(Qt),Xf=pe(ee),Kf=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},$f=0,Jf=0,Qf=0,td=1e3,ed=0,nd=0,id=0,rd="object"==typeof performance&&performance.now?performance:Date,od="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};ge.prototype=ve.prototype={constructor:ge,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?_e():+n)+(null==e?0:+e),this._next||wf===this||(wf?wf._next=this:bf=this,wf=this),this._call=t,this._time=n,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};var ad=function(t,e,n){var i=new ge;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},sd=function(t,e,n){var i=new ge,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?_e():+n,i.restart(function o(a){a+=r,i.restart(o,r+=e,n),t(a)},e,n),i)},ud=_("start","end","interrupt"),ld=[],cd=0,hd=1,fd=2,dd=3,pd=4,_d=5,md=6,gd=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Se(t,n,{name:e,index:i,group:r,on:ud,tween:ld,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:cd})},vd=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>fd&&n.state<_d,n.state=md,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},yd=function(t){return this.each(function(){vd(this,t)})},bd=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Le(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Ce:Ee)(n,t,e))},wd=function(t,e){var n;return("number"==typeof e?Pf:e instanceof Lt?kf:(n=Lt(e))?(e=n,kf):If)(t,e)},xd=function(t,e){var n=Bc(t),i="transform"===n?Uf:wd;return this.attrTween(t,"function"==typeof e?(n.local?Oe:De)(n,i,Pe(this,"attr."+t,e)):null==e?(n.local?Ne:Ae)(n):(n.local?Ie:ze)(n,i,e+""))},Md=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Bc(t);return this.tween(n,(i.local?Re:Be)(i,e))},Td=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Fe:Ze)(e,t)):Le(this.node(),e).delay},kd=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ue:je)(e,t)):Le(this.node(),e).duration},Ld=function(t){var e=this._id;return arguments.length?this.each(Ve(e,t)):Le(this.node(),e).ease},Sd=function(t){"function"!=typeof t&&(t=Gc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new tn(i,this._parents,this._name,this._id)},Cd=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new tn(a,this._parents,this._name,this._id)},Ed=function(t,e){var n=this._id;return arguments.length<2?Le(this.node(),n).on.on(t):this.each(qe(n,t,e))},Pd=function(){return this.on("end.remove",He(this._id))},Ad=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Kc(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,u,l=i[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,gd(h[f],e,n,f,h,Le(s,n)));return new tn(o,this._parents,e,n)},Nd=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Jc(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var u,l=i[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Le(u,n),_=0,m=d.length;_<m;++_)(f=d[_])&&gd(f,e,n,_,d,p);o.push(d),a.push(u)}return new tn(o,a,e,n)},zd=gt.prototype.constructor,Id=function(){return new zd(this._groups,this._parents)},Dd=function(t,e,n){var i="transform"==(t+="")?Zf:wd;return null==e?this.styleTween(t,We(t,i)).on("end.style."+t,Ye(t)):this.styleTween(t,"function"==typeof e?Ke(t,i,Pe(this,"style."+t,e)):Xe(t,i,e+""),n)},Od=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,$e(t,e,null==n?"":n))},Rd=function(t){return this.tween("text","function"==typeof t?Qe(Pe(this,"text",t)):Je(null==t?"":t+""))},Bd=function(){for(var t=this._name,e=this._id,n=nn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Le(a,e);gd(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tn(i,this._parents,t,n)},Fd=0,Zd=gt.prototype;tn.prototype=en.prototype={constructor:tn,select:Ad,selectAll:Nd,filter:Sd,merge:Cd,selection:Id,transition:Bd,call:Zd.call,nodes:Zd.nodes,node:Zd.node,size:Zd.size,empty:Zd.empty,each:Zd.each,on:Ed,attr:xd,attrTween:Md,style:Dd,styleTween:Od,text:Rd,remove:Pd,tween:bd,delay:Td,duration:kd,ease:Ld};var Ud=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),jd=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Vd=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Gd=Math.PI,qd=Gd/2,Hd=4/11,Wd=6/11,Yd=8/11,Xd=.75,Kd=9/11,$d=10/11,Jd=.9375,Qd=21/22,tp=63/64,ep=1/Hd/Hd,np=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),ip=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),rp=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),op=2*Math.PI,ap=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=op);return i.amplitude=function(e){return t(e,n*op)},i.period=function(n){return t(e,n)},i}(1,.3),sp=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=op);return i.amplitude=function(e){return t(e,n*op)},i.period=function(n){return t(e,n)},i}(1,.3),up=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=op);return i.amplitude=function(e){return t(e,n*op)},i.period=function(n){return t(e,n)},i}(1,.3),lp={time:null,delay:0,duration:250,ease:cn},cp=function(t){var e,n;t instanceof tn?(e=t._id,t=t._name):(e=nn(),(n=lp).time=_e(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,l=0;l<u;++l)(a=s[l])&&gd(a,t,e,l,s,n||Mn(a,e));return new tn(i,this._parents,t,e)};gt.prototype.interrupt=yd,gt.prototype.transition=cp;var hp=[null],fp=function(t,e){var n,i,r=t.__transition;if(r){e=null==e?null:e+"";for(i in r)if((n=r[i]).state>hd&&n.name===e)return new tn([[t]],hp,e,+i)}return null},dp=function(t){return function(){return t}},pp=function(t,e,n){this.target=t,this.type=e,this.selection=n},_p=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},mp={name:"drag"},gp={name:"space"},vp={name:"handle"},yp={name:"center"},bp={name:"x",handles:["e","w"].map(kn),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},wp={name:"y",handles:["n","s"].map(kn),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},xp={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(kn),input:function(t){return t},output:function(t){return t}},Mp={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Tp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kp={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Lp={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Sp={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Cp=function(){return zn(xp)},Ep=Math.cos,Pp=Math.sin,Ap=Math.PI,Np=Ap/2,zp=2*Ap,Ip=Math.max,Dp=function(){function t(t){var o,a,s,u,l,c,h=t.length,f=[],d=sc(h),p=[],_=[],m=_.groups=new Array(h),g=new Array(h*h);for(o=0,l=-1;++l<h;){for(a=0,c=-1;++c<h;)a+=t[l][c];f.push(a),p.push(sc(h)),o+=a}for(n&&d.sort(function(t,e){return n(f[t],f[e])}),i&&p.forEach(function(e,n){e.sort(function(e,r){return i(t[n][e],t[n][r])})}),o=Ip(0,zp-e*h)/o,u=o?e:zp/h,a=0,l=-1;++l<h;){for(s=a,c=-1;++c<h;){var v=d[l],y=p[v][c],b=t[v][y],w=a,x=a+=b*o;g[y*h+v]={index:v,subindex:y,startAngle:w,endAngle:x,value:b}}m[v]={index:v,startAngle:s,endAngle:a,value:f[v]},a+=u}for(l=-1;++l<h;)for(c=l-1;++c<h;){var M=g[c*h+l],T=g[l*h+c];(M.value||T.value)&&_.push(M.value<T.value?{source:T,target:M}:{source:M,target:T})}return r?_.sort(r):_}var e=0,n=null,i=null,r=null;return t.padAngle=function(n){return arguments.length?(e=Ip(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(i=e,t):i},t.sortChords=function(e){return arguments.length?(null==e?r=null:(r=In(e))._=e,t):r&&r._},t},Op=Array.prototype.slice,Rp=function(t){return function(){return t}},Bp=Math.PI,Fp=2*Bp,Zp=Fp-1e-6;Dn.prototype=On.prototype={constructor:Dn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,l=o-t,c=a-e,h=l*l+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&r){var f=n-o,d=i-a,p=s*s+u*u,_=f*f+d*d,m=Math.sqrt(p),g=Math.sqrt(h),v=r*Math.tan((Bp-Math.acos((p+h-_)/(2*m*g)))/2),y=v/g,b=v/m;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*l)+","+(e+y*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n;var a=n*Math.cos(i),s=n*Math.sin(i),u=t+a,l=e+s,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%Fp+Fp),h>Zp?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Bp)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Up=function(){function t(){var t,s=Op.call(arguments),u=e.apply(this,s),l=n.apply(this,s),c=+i.apply(this,(s[0]=u,s)),h=r.apply(this,s)-Np,f=o.apply(this,s)-Np,d=c*Ep(h),p=c*Pp(h),_=+i.apply(this,(s[0]=l,s)),m=r.apply(this,s)-Np,g=o.apply(this,s)-Np;if(a||(a=t=On()),a.moveTo(d,p),a.arc(0,0,c,h,f),h===m&&f===g||(a.quadraticCurveTo(0,0,_*Ep(m),_*Pp(m)),a.arc(0,0,_,m,g)),a.quadraticCurveTo(0,0,d,p),a.closePath(),t)return a=null,t+""||null}var e=Rn,n=Bn,i=Fn,r=Zn,o=Un,a=null;return t.radius=function(e){return arguments.length?(i="function"==typeof e?e:Rp(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Rp(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Rp(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t};jn.prototype=Vn.prototype={constructor:jn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var jp=function(){function t(e,r,a,s){if(r>=o.length)return null!=i?i(e):null!=n?e.sort(n):e;for(var u,l,c,h=-1,f=e.length,d=o[r++],p=Vn(),_=a();++h<f;)(c=p.get(u=d(l=e[h])+""))?c.push(l):p.set(u,[l]);return p.each(function(e,n){s(_,n,t(e,r,a,s))}),_}function e(t,n){if(++n>o.length)return t;var r,s=a[n-1];return null!=i&&n>=o.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=s?r.sort(function(t,e){return s(t.key,e.key)}):r}var n,i,r,o=[],a=[];return r={object:function(e){return t(e,0,Gn,qn)},map:function(e){return t(e,0,Hn,Wn)},entries:function(n){return e(t(n,0,Hn,Wn),0)},key:function(t){return o.push(t),r},sortKeys:function(t){return a[o.length-1]=t,r},sortValues:function(t){return n=t,r},rollup:function(t){return i=t,r}}},Vp=Vn.prototype;Yn.prototype=Xn.prototype={constructor:Yn,has:Vp.has,add:function(t){return t+="",this["$"+t]=t,this},remove:Vp.remove,clear:Vp.clear,values:Vp.keys,size:Vp.size,empty:Vp.empty,each:Vp.each};var Gp=function(t){var e=[];for(var n in t)e.push(n);return e},qp=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Hp=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Wp=function(t){function e(t,e){var i,r,o=n(t,function(t,n){if(i)return i(t,n-1);r=t,i=e?$n(t,e):Kn(t)});return o.columns=r,o}function n(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e,n=c;if(34===t.charCodeAt(n)){for(var i=n;i++<l;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return c=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++c):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;c<l;){var s=1;if(10===(e=t.charCodeAt(c++)))r=!0;else if(13===e)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(e!==u)continue;return t.slice(n,c-s)}return t.slice(n)}for(var i,r,o={},a={},s=[],l=t.length,c=0,h=0;(i=n())!==a;){for(var f=[];i!==o&&i!==a;)f.push(i),i=n();e&&null==(f=e(f,h++))||s.push(f)}return s}function i(e,n){return null==n&&(n=Jn(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")}function r(t){return t.map(o).join("\n")}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n\r]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:i,formatRows:r}},Yp=Wp(","),Xp=Yp.parse,Kp=Yp.parseRows,$p=Yp.format,Jp=Yp.formatRows,Qp=Wp("\t"),t_=Qp.parse,e_=Qp.parseRows,n_=Qp.format,i_=Qp.formatRows,r_=function(t,e){function n(){var n,r,o=i.length,a=0,s=0;for(n=0;n<o;++n)r=i[n],a+=r.x,s+=r.y;for(a=a/o-t,s=s/o-e,n=0;n<o;++n)r=i[n],r.x-=a,r.y-=s}var i;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){i=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},o_=function(t){return function(){return t}},a_=function(){return 1e-6*(Math.random()-.5)},s_=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Qn(this.cover(e,n),e,n,t)},u_=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>o))return this;var a,s,u=r-n,l=this._root;switch(s=(e<(i+o)/2)<<1|t<(n+r)/2){case 0:do{a=new Array(4),a[s]=l,l=a}while(u*=2,r=n+u,o=i+u,t>r||e>o);break;case 1:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=r-u,o=i+u,n>t||e>o);break;case 2:do{a=new Array(4),a[s]=l,l=a}while(u*=2,r=n+u,i=o-u,t>r||i>e);break;case 3:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=r-u,i=o-u,n>t||i>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},l_=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},c_=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},h_=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r},f_=function(t,e,n){var i,r,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],_=this._root;for(_&&p.push(new h_(_,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(_=u.node)||(r=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(_.length){var m=(r+a)/2,g=(o+s)/2;p.push(new h_(_[3],m,g,a,s),new h_(_[2],r,g,m,s),new h_(_[1],m,o,a,g),new h_(_[0],r,o,m,g)),(l=(e>=g)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var v=t-+this._x.call(null,_.data),y=e-+this._y.call(null,_.data),b=v*v+y*y;if(b<n){var w=Math.sqrt(n=b);c=t-w,h=e-w,f=t+w,d=e+w,i=_.data}}return i},d_=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,_=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(u=(_+g)/2))?_=u:g=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=r,this)},p_=function(){return this._root},__=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},m_=function(t){var e,n,i,r,o,a,s=[],u=this._root;for(u&&s.push(new h_(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(i+o)/2,c=(r+a)/2;(n=u[3])&&s.push(new h_(n,l,c,o,a)),(n=u[2])&&s.push(new h_(n,i,c,l,a)),(n=u[1])&&s.push(new h_(n,l,r,o,c)),(n=u[0])&&s.push(new h_(n,i,r,l,c))}return this},g_=function(t){var e,n=[],i=[];for(this._root&&n.push(new h_(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=r[0])&&n.push(new h_(o,a,s,c,h)),(o=r[1])&&n.push(new h_(o,c,s,u,h)),(o=r[2])&&n.push(new h_(o,a,h,c,l)),(o=r[3])&&n.push(new h_(o,c,h,u,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},v_=function(t){return arguments.length?(this._x=t,this):this._x},y_=function(t){return arguments.length?(this._y=t,this):this._y},b_=ri.prototype=oi.prototype;b_.copy=function(){var t,e,n=new oi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ai(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ai(e));return n},b_.add=s_,b_.addAll=ti,b_.cover=u_,b_.data=l_,b_.extent=c_,b_.find=f_,b_.remove=d_,b_.removeAll=ei,b_.root=p_,b_.size=__,b_.visit=m_,b_.visitAfter=g_,b_.x=v_,b_.y=y_;var w_,x_=function(t){function e(){function t(t,e,n,i,r){var o=t.data,s=t.r,d=h+s;{if(!o)return e>l+d||i<l-d||n>c+d||r<c-d;if(o.index>u.index){var p=l-o.x-o.vx,_=c-o.y-o.vy,m=p*p+_*_;m<d*d&&(0===p&&(p=a_(),m+=p*p),0===_&&(_=a_(),m+=_*_),m=(d-(m=Math.sqrt(m)))/m*a,u.vx+=(p*=m)*(d=(s*=s)/(f+s)),u.vy+=(_*=m)*d,o.vx-=p*(d=1-d),o.vy-=_*d)}}}for(var e,i,u,l,c,h,f,d=r.length,p=0;p<s;++p)for(i=ri(r,si,ui).visitAfter(n),e=0;e<d;++e)u=r[e],h=o[u.index],f=h*h,l=u.x+u.vx,c=u.y+u.vy,i.visit(t)}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function i(){if(r){var e,n,i=r.length;for(o=new Array(i),e=0;e<i;++e)n=r[e],o[n.index]=+t(n,e,r)}}var r,o,a=1,s=1;return"function"!=typeof t&&(t=o_(null==t?1:+t)),e.initialize=function(t){r=t,i()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:o_(+n),i(),e):t},e},M_=function(t){function e(t){return 1/Math.min(l[t.source.index],l[t.target.index])}function n(e){for(var n=0,i=t.length;n<p;++n)for(var r,o,u,l,h,f,d,_=0;_<i;++_)r=t[_],o=r.source,u=r.target,l=u.x+u.vx-o.x-o.vx||a_(),h=u.y+u.vy-o.y-o.vy||a_(),f=Math.sqrt(l*l+h*h),f=(f-s[_])/f*e*a[_],l*=f,h*=f,u.vx-=l*(d=c[_]),u.vy-=h*d,o.vx+=l*(d=1-d),o.vy+=h*d}function i(){if(u){var e,n,i=u.length,f=t.length,d=Vn(u,h);for(e=0,l=new Array(i);e<f;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=ci(d,n.source)),"object"!=typeof n.target&&(n.target=ci(d,n.target)),l[n.source.index]=(l[n.source.index]||0)+1,l[n.target.index]=(l[n.target.index]||0)+1;for(e=0,c=new Array(f);e<f;++e)n=t[e],c[e]=l[n.source.index]/(l[n.source.index]+l[n.target.index]);a=new Array(f),r(),s=new Array(f),o()}}function r(){if(u)for(var e=0,n=t.length;e<n;++e)a[e]=+f(t[e],e,t)}function o(){if(u)for(var e=0,n=t.length;e<n;++e)s[e]=+d(t[e],e,t)}var a,s,u,l,c,h=li,f=e,d=o_(30),p=1;return null==t&&(t=[]),n.initialize=function(t){u=t,i()},n.links=function(e){return arguments.length?(t=e,i(),n):t},n.id=function(t){return arguments.length?(h=t,n):h},n.iterations=function(t){return arguments.length?(p=+t,n):p},n.strength=function(t){return arguments.length?(f="function"==typeof t?t:o_(+t),r(),n):f},n.distance=function(t){return arguments.length?(d="function"==typeof t?t:o_(+t),o(),n):d},n},T_=10,k_=Math.PI*(3-Math.sqrt(5)),L_=function(t){function e(){n(),d.call("tick",o),a<s&&(f.stop(),d.call("end",o))}function n(){var e,n,i=t.length;for(a+=(l-a)*u,h.each(function(t){t(a)}),e=0;e<i;++e)n=t[e],null==n.fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0)}function i(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var r=T_*Math.sqrt(n),o=n*k_;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function r(e){return e.initialize&&e.initialize(t),e}var o,a=1,s=.001,u=1-Math.pow(s,1/300),l=0,c=.6,h=Vn(),f=ve(e),d=_("tick","end");return null==t&&(t=[]),i(),o={tick:n,restart:function(){return f.restart(e),o},stop:function(){return f.stop(),o},nodes:function(e){return arguments.length?(t=e,i(),h.each(r),o):t},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(s=+t,o):s},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(l=+t,o):l},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,r(e)),o):h.get(t)},find:function(e,n,i){var r,o,a,s,u,l=0,c=t.length;for(null==i?i=1/0:i*=i,l=0;l<c;++l)s=t[l],r=e-s.x,o=n-s.y,(a=r*r+o*o)<i&&(u=s,i=a);return u},on:function(t,e){return arguments.length>1?(d.on(t,e),o):d.on(t)}}},S_=function(){function t(t){var e,s=r.length,u=ri(r,hi,fi).visitAfter(n);for(a=t,e=0;e<s;++e)o=r[e],u.visit(i)}function e(){if(r){var t,e,n=r.length;for(s=new Array(n),t=0;t<n;++t)e=r[t],s[e.index]=+u(e,t,r)}}function n(t){var e,n,i,r,o,a=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(a+=n,i+=n*e.x,r+=n*e.y);t.x=i/a,t.y=r/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function i(t,e,n,i){if(!t.value)return!0;var r=t.x-o.x,u=t.y-o.y,f=i-e,d=r*r+u*u;if(f*f/h<d)return d<c&&(0===r&&(r=a_(),d+=r*r),0===u&&(u=a_(),d+=u*u),d<l&&(d=Math.sqrt(l*d)),o.vx+=r*t.value*a/d,o.vy+=u*t.value*a/d),!0;if(!(t.length||d>=c)){(t.data!==o||t.next)&&(0===r&&(r=a_(),d+=r*r),0===u&&(u=a_(),d+=u*u),d<l&&(d=Math.sqrt(l*d)));do{t.data!==o&&(f=s[t.data.index]*a/d,o.vx+=r*f,o.vy+=u*f)}while(t=t.next)}}var r,o,a,s,u=o_(-30),l=1,c=1/0,h=.81;return t.initialize=function(t){r=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:o_(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.distanceMax=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t},C_=function(t){function e(t){for(var e,n=0,a=i.length;n<a;++n)e=i[n],e.vx+=(o[n]-e.x)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+a(i[e],e,i)}}var i,r,o,a=o_(.1);return"function"!=typeof t&&(t=o_(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:o_(+t),n(),e):a},e.x=function(i){return arguments.length?(t="function"==typeof i?i:o_(+i),n(),e):t},e},E_=function(t){function e(t){for(var e,n=0,a=i.length;n<a;++n)e=i[n],e.vy+=(o[n]-e.y)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+a(i[e],e,i)}}var i,r,o,a=o_(.1);return"function"!=typeof t&&(t=o_(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:o_(+t),n(),e):a},e.y=function(i){return arguments.length?(t="function"==typeof i?i:o_(+i),n(),e):t},e},P_=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},A_=function(t){return t=P_(Math.abs(t)),t?t[1]:NaN},N_=function(t,e){return function(n,i){for(var r=n.length,o=[],a=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}},z_=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},I_=function(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},D_=function(t,e){var n=P_(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(w_=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+P_(t,Math.max(0,e+o-1))[0]},O_=function(t,e){var n=P_(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},R_={"":I_,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return O_(100*t,e)},r:O_,s:D_,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},B_=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;di.prototype=pi.prototype,pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var F_,Z_=function(t){return t},U_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],j_=function(t){function e(t){function e(t){var e,r,s,c=m,b=g;if("c"===_)b=v(t)+b,t="";else{t=+t;var w=t<0;if(t=v(Math.abs(t),p),w&&0==+t&&(w=!1),c=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+c,b=b+("s"===_?U_[8+w_/3]:"")+(w&&"("===l?")":""),y)for(e=-1,r=t.length;++e<r;)if(48>(s=t.charCodeAt(e))||s>57){b=(46===s?o+t.slice(e+1):t.slice(e))+b,t=t.slice(0,e);break}}d&&!h&&(t=i(t,1/0));var x=c.length+t.length+b.length,M=x<f?new Array(f-x+1).join(n):"";switch(d&&h&&(t=i(M+t,M.length?f-b.length:1/0),M=""),u){case"<":t=c+t+b+M;break;case"=":t=c+M+t+b;break;case"^":t=M.slice(0,x=M.length>>1)+c+t+b+M.slice(x);break;default:t=M+c+t+b}return a(t)}t=di(t);var n=t.fill,u=t.align,l=t.sign,c=t.symbol,h=t.zero,f=t.width,d=t.comma,p=t.precision,_=t.type,m="$"===c?r[0]:"#"===c&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",g="$"===c?r[1]:/[%p]/.test(_)?s:"",v=R_[_],y=!_||/[defgprs%]/.test(_);return p=null==p?_?6:12:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=di(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(A_(n)/3))),o=Math.pow(10,-r),a=U_[8+r/3];return function(t){return i(o*t)+a}}var i=t.grouping&&t.thousands?N_(t.grouping,t.thousands):Z_,r=t.currency,o=t.decimal,a=t.numerals?z_(t.numerals):Z_,s=t.percent||"%";return{format:e,formatPrefix:n}};_i({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var V_=function(t){return Math.max(0,-A_(Math.abs(t)))},G_=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(A_(e)/3)))-A_(Math.abs(t)))},q_=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,A_(e)-A_(t))+1},H_=function(){return new mi};mi.prototype={constructor:mi,reset:function(){this.s=this.t=0},add:function(t){gi(Tm,t,this.t),gi(this,Tm.s,this.s),this.s?this.t+=Tm.t:this.s=Tm.t},valueOf:function(){return this.s}};var W_,Y_,X_,K_,$_,J_,Q_,tm,em,nm,im,rm,om,am,sm,um,lm,cm,hm,fm,dm,pm,_m,mm,gm,vm,ym,bm,wm,xm,Mm,Tm=new mi,km=1e-6,Lm=Math.PI,Sm=Lm/2,Cm=Lm/4,Em=2*Lm,Pm=180/Lm,Am=Lm/180,Nm=Math.abs,zm=Math.atan,Im=Math.atan2,Dm=Math.cos,Om=Math.ceil,Rm=Math.exp,Bm=Math.log,Fm=Math.pow,Zm=Math.sin,Um=Math.sign||function(t){return t>0?1:t<0?-1:0},jm=Math.sqrt,Vm=Math.tan,Gm={Feature:function(t,e){xi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)xi(n[i].geometry,e)}},qm={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Mi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Mi(n[i],e,0)},Polygon:function(t,e){Ti(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ti(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)xi(n[i],e)}},Hm=function(t,e){t&&Gm.hasOwnProperty(t.type)?Gm[t.type](t,e):xi(t,e)},Wm=H_(),Ym=H_(),Xm={point:wi,lineStart:wi,lineEnd:wi,polygonStart:function(){Wm.reset(),Xm.lineStart=ki,Xm.lineEnd=Li},polygonEnd:function(){var t=+Wm;Ym.add(t<0?Em+t:t),this.lineStart=this.lineEnd=this.point=wi},sphere:function(){Ym.add(Em)}},Km=function(t){return Ym.reset(),Hm(t,Xm),2*Ym},$m=H_(),Jm={point:Oi,lineStart:Bi,lineEnd:Fi,polygonStart:function(){Jm.point=Zi,Jm.lineStart=Ui,Jm.lineEnd=ji,$m.reset(),Xm.polygonStart()},polygonEnd:function(){Xm.polygonEnd(),Jm.point=Oi,Jm.lineStart=Bi,Jm.lineEnd=Fi,Wm<0?(J_=-(tm=180),Q_=-(em=90)):$m>km?em=90:$m<-km&&(Q_=-90),sm[0]=J_,sm[1]=tm}},Qm=function(t){var e,n,i,r,o,a,s;if(em=tm=-(J_=Q_=1/0),am=[],Hm(t,Jm),n=am.length){for(am.sort(Gi),e=1,i=am[0],o=[i];e<n;++e)r=am[e],qi(i,r[0])||qi(i,r[1])?(Vi(i[0],r[1])>Vi(i[0],i[1])&&(i[1]=r[1]),Vi(r[0],i[1])>Vi(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,n=o.length-1,e=0,i=o[n];e<=n;i=r,++e)r=o[e],(s=Vi(i[1],r[0]))>a&&(a=s,J_=r[0],tm=i[1])}return am=sm=null,J_===1/0||Q_===1/0?[[NaN,NaN],[NaN,NaN]]:[[J_,Q_],[tm,em]]},tg={sphere:wi,point:Hi,lineStart:Yi,lineEnd:$i,polygonStart:function(){tg.lineStart=Ji,tg.lineEnd=Qi},polygonEnd:function(){tg.lineStart=Yi,tg.lineEnd=$i}},eg=function(t){um=lm=cm=hm=fm=dm=pm=_m=mm=gm=vm=0,Hm(t,tg);var e=mm,n=gm,i=vm,r=e*e+n*n+i*i;return r<1e-12&&(e=dm,n=pm,i=_m,lm<km&&(e=cm,n=hm,i=fm),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[Im(n,e)*Pm,yi(i/jm(r))*Pm]},ng=function(t){return function(){return t}},ig=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};nr.invert=nr;var rg,og,ag,sg,ug,lg,cg,hg,fg,dg,pg,_g=function(t){function e(e){return e=t(e[0]*Am,e[1]*Am),e[0]*=Pm,e[1]*=Pm,e}return t=ir(t[0]*Am,t[1]*Am,t.length>2?t[2]*Am:0),e.invert=function(e){return e=t.invert(e[0]*Am,e[1]*Am),e[0]*=Pm,e[1]*=Pm,e},e},mg=function(){function t(t,e){n.push(t=i(t,e)),t[0]*=Pm,t[1]*=Pm}function e(){var t=r.apply(this,arguments),e=o.apply(this,arguments)*Am,u=a.apply(this,arguments)*Am;return n=[],i=ir(-t[0]*Am,-t[1]*Am,0).invert,sr(s,e,u,1),t={type:"Polygon",coordinates:[n]},n=i=null,t}var n,i,r=ng([0,0]),o=ng(90),a=ng(6),s={point:t};return e.center=function(t){return arguments.length?(r="function"==typeof t?t:ng([+t[0],+t[1]]),e):r},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:ng(+t),e):o},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:ng(+t),e):a},e},gg=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:wi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},vg=function(t,e,n,i,r,o){var a,s=t[0],u=t[1],l=e[0],c=e[1],h=0,f=1,d=l-s,p=c-u;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<h)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>h&&(h=a)}if(a=r-s,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>h&&(h=a)}else if(d>0){if(a<h)return;a<f&&(f=a)}if(a=i-u,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=o-u,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}return h>0&&(t[0]=s+h*d,t[1]=u+h*p),f<1&&(e[0]=s+f*d,e[1]=u+f*p),!0}}}}},yg=function(t,e){return Nm(t[0]-e[0])<km&&Nm(t[1]-e[1])<km},bg=function(t,e,n,i,r){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(yg(i,a)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}s.push(n=new lr(i,t,null,!0)),u.push(n.o=new lr(i,null,n,!1)),s.push(n=new lr(a,t,null,!1)),u.push(n.o=new lr(a,null,n,!0))}}),s.length){for(u.sort(e),cr(s),cr(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=l.length;o<a;++o)r.point((c=l[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)r.point((c=l[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);r.lineEnd()}}},wg=1e9,xg=-wg,Mg=function(){var t,e,n,i=0,r=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=hr(i,r,o,a)(e=n)},extent:function(s){return arguments.length?(i=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[i,r],[o,a]]}}},Tg=H_(),kg=function(t,e){var n=e[0],i=e[1],r=[Zm(n),-Dm(n),0],o=0,a=0;Tg.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],f=h[0],d=h[1]/2+Cm,p=Zm(d),_=Dm(d),m=0;m<c;++m,f=v,p=b,_=w,h=g){var g=l[m],v=g[0],y=g[1]/2+Cm,b=Zm(y),w=Dm(y),x=v-f,M=x>=0?1:-1,T=M*x,k=T>Lm,L=p*b;if(Tg.add(Im(L*M*Zm(T),_*w+L*Dm(T))),o+=k?x+M*Em:x,k^f>=n^v>=n){var S=Ni(Pi(h),Pi(g));Di(S);var C=Ni(r,S);Di(C);var E=(k^x>=0?-1:1)*yi(C[2]);(i>E||i===E&&(S[0]||S[1]))&&(a+=k^x>=0?1:-1)}}return(o<-km||o<km&&Tg<-km)^1&a},Lg=H_(),Sg={sphere:wi,point:wi,lineStart:fr,lineEnd:wi,polygonStart:wi,polygonEnd:wi},Cg=function(t){return Lg.reset(),Hm(t,Sg),+Lg},Eg=[null,null],Pg={type:"LineString",coordinates:Eg},Ag=function(t,e){return Eg[0]=t,Eg[1]=e,Cg(Pg)},Ng={Feature:function(t,e){return mr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(mr(n[i].geometry,e))return!0;return!1}},zg={Sphere:function(){return!0},Point:function(t,e){return gr(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(gr(n[i],e))return!0;return!1},LineString:function(t,e){return vr(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(vr(n[i],e))return!0;return!1},Polygon:function(t,e){return yr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(yr(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(mr(n[i],e))return!0;return!1}},Ig=function(t,e){return(t&&Ng.hasOwnProperty(t.type)?Ng[t.type]:mr)(t,e)},Dg=function(t,e){var n=t[0]*Am,i=t[1]*Am,r=e[0]*Am,o=e[1]*Am,a=Dm(i),s=Zm(i),u=Dm(o),l=Zm(o),c=a*Dm(n),h=a*Zm(n),f=u*Dm(r),d=u*Zm(r),p=2*yi(jm(bi(o-i)+a*u*bi(r-n))),_=Zm(p),m=p?function(t){var e=Zm(t*=p)/_,n=Zm(p-t)/_,i=n*c+e*f,r=n*h+e*d,o=n*s+e*l;return[Im(r,i)*Pm,Im(o,jm(i*i+r*r))*Pm]}:function(){return[n*Pm,i*Pm]};return m.distance=p,m},Og=function(t){return t},Rg=H_(),Bg=H_(),Fg={point:wi,lineStart:wi,lineEnd:wi,polygonStart:function(){Fg.lineStart=Lr,Fg.lineEnd=Er},polygonEnd:function(){Fg.lineStart=Fg.lineEnd=Fg.point=wi,Rg.add(Nm(Bg)),Bg.reset()},result:function(){var t=Rg/2;return Rg.reset(),t}},Zg=1/0,Ug=Zg,jg=-Zg,Vg=jg,Gg={point:Pr,lineStart:wi,lineEnd:wi,polygonStart:wi,polygonEnd:wi,result:function(){var t=[[Zg,Ug],[jg,Vg]];return jg=Vg=-(Ug=Zg=1/0),t}},qg=0,Hg=0,Wg=0,Yg=0,Xg=0,Kg=0,$g=0,Jg=0,Qg=0,tv={point:Ar,lineStart:Nr,lineEnd:Dr,polygonStart:function(){tv.lineStart=Or,tv.lineEnd=Rr},polygonEnd:function(){tv.point=Ar,tv.lineStart=Nr,tv.lineEnd=Dr},result:function(){var t=Qg?[$g/Qg,Jg/Qg]:Kg?[Yg/Kg,Xg/Kg]:Wg?[qg/Wg,Hg/Wg]:[NaN,NaN];return qg=Hg=Wg=Yg=Xg=Kg=$g=Jg=Qg=0,t}};Zr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Em)}},result:wi};var ev,nv,iv,rv,ov,av=H_(),sv={point:wi,lineStart:function(){sv.point=Ur},lineEnd:function(){ev&&jr(nv,iv),sv.point=wi},polygonStart:function(){ev=!0},polygonEnd:function(){ev=null},result:function(){var t=+av;return av.reset(),t}};Vr.prototype={_radius:4.5,_circle:Gr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Gr(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var uv=function(t,e){function n(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Hm(t,i(r))),r.result()}var i,r,o=4.5;return n.area=function(t){return Hm(t,i(Fg)),Fg.result()},n.measure=function(t){return Hm(t,i(sv)),sv.result()},n.bounds=function(t){return Hm(t,i(Gg)),Gg.result()},n.centroid=function(t){return Hm(t,i(tv)),tv.result()},n.projection=function(e){return arguments.length?(i=null==e?(t=null,Og):(t=e).stream,n):t},n.context=function(t){return arguments.length?(r=null==t?(e=null,new Vr):new Zr(e=t),"function"!=typeof o&&r.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),n):o},n.projection(t).context(e)},lv=function(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function u(){w.point=s,m.lineStart()}function l(){w.point=a,m.lineEnd()}function c(t,e){_.push([t,e]);var n=r(t,e);y.point(n[0],n[1])}function h(){y.lineStart(),_=[]}function f(){c(_[0][0],_[0][1]),y.lineEnd();var t,e,n,i,r=y.clean(),a=v.result(),s=a.length;if(_.pop(),d.push(_),_=null,s)if(1&r){if(n=a[0],(e=n.length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else s>1&&2&r&&a.push(a.pop().concat(a.shift())),p.push(a.filter(qr))}var d,p,_,m=e(o),g=r.invert(i[0],i[1]),v=gg(),y=e(v),b=!1,w={point:a,lineStart:u,lineEnd:l,polygonStart:function(){w.point=c,w.lineStart=h,w.lineEnd=f,p=[],d=[]},polygonEnd:function(){w.point=a,w.lineStart=u,w.lineEnd=l,p=bc(p);var t=kg(d,g);p.length?(b||(o.polygonStart(),b=!0),bg(p,Hr,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return w}},cv=lv(function(){return!0},Wr,Xr,[-Lm,-Sm]),hv=function(t,e){function n(n,i,r,o){sr(o,t,e,r,n,i)}function i(t,e){return Dm(t)*Dm(e)>s}function r(t){var e,n,r,s,c;return{lineStart:function(){s=r=!1,c=1},point:function(h,f){var d,p=[h,f],_=i(h,f),m=u?_?0:a(h,f):_?a(h+(h<0?Lm:-Lm),f):0;if(!e&&(s=r=_)&&t.lineStart(),_!==r&&(!(d=o(e,p))||yg(e,d)||yg(p,d))&&(p[0]+=km,p[1]+=km,_=i(p[0],p[1])),_!==r)c=0,_?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(l&&e&&u^_){var g;m&n||!(g=o(p,e,!0))||(c=0,u?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!_||e&&yg(e,p)||t.point(p[0],p[1]),e=p,r=_,n=m},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return c|(s&&r)<<1}}}function o(t,e,n){var i=Pi(t),r=Pi(e),o=[1,0,0],a=Ni(i,r),u=Ai(a,a),l=a[0],c=u-l*l;if(!c)return!n&&t;var h=s*u/c,f=-s*l/c,d=Ni(o,a),p=Ii(o,h);zi(p,Ii(a,f));var _=d,m=Ai(p,_),g=Ai(_,_),v=m*m-g*(Ai(p,p)-1);if(!(v<0)){var y=jm(v),b=Ii(_,(-m-y)/g);if(zi(b,p),b=Ei(b),!n)return b;var w,x=t[0],M=e[0],T=t[1],k=e[1];M<x&&(w=x,x=M,M=w);var L=M-x,S=Nm(L-Lm)<km,C=S||L<km;if(!S&&k<T&&(w=T,T=k,k=w),C?S?T+k>0^b[1]<(Nm(b[0]-x)<km?T:k):T<=b[1]&&b[1]<=k:L>Lm^(x<=b[0]&&b[0]<=M)){var E=Ii(_,(-m+y)/g);return zi(E,p),[b,Ei(E)]}}}function a(e,n){var i=u?t:Lm-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var s=Dm(t),u=s>0,l=Nm(s)>km;return lv(i,r,n,u?[0,-t]:[-Lm,t-Lm])},fv=function(t){return{stream:Kr(t)}};$r.prototype={constructor:$r,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dv=16,pv=Dm(30*Am),_v=function(t,e){return+e?eo(t,e):to(t)},mv=Kr({point:function(t,e){this.stream.point(t*Am,e*Am)}}),gv=function(){return ro(ao).scale(155.424).center([0,33.6442])},vv=function(){return gv().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},yv=function(){function t(t){var e=t[0],n=t[1];return s=null,r.point(e,n),s||(o.point(e,n),s)||(a.point(e,n),s)}function e(){return n=i=null,t}var n,i,r,o,a,s,u=vv(),l=gv().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=gv().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?l:r>=.166&&r<.234&&i>=-.214&&i<-.115?c:u).invert(t)},t.stream=function(t){return n&&i===t?n:n=so([u.stream(i=t),l.stream(t),c.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),l.scale(.35*e),c.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),i=+t[0],s=+t[1];return r=u.translate(t).clipExtent([[i-.455*n,s-.238*n],[i+.455*n,s+.238*n]]).stream(h),o=l.translate([i-.307*n,s+.201*n]).clipExtent([[i-.425*n+km,s+.12*n+km],[i-.214*n-km,s+.234*n-km]]).stream(h),a=c.translate([i-.205*n,s+.212*n]).clipExtent([[i-.214*n+km,s+.166*n+km],[i-.115*n-km,s+.234*n-km]]).stream(h),e()},t.fitExtent=function(e,n){return Jr(t,e,n)},t.fitSize=function(e,n){return Qr(t,e,n)},t.scale(1070)},bv=uo(function(t){return jm(2/(1+t))});bv.invert=lo(function(t){return 2*yi(t/2)});var wv=function(){return no(bv).scale(124.75).clipAngle(179.999)},xv=uo(function(t){return(t=vi(t))&&t/Zm(t)});xv.invert=lo(function(t){return t});var Mv=function(){return no(xv).scale(79.4188).clipAngle(179.999)};co.invert=function(t,e){return[t,2*zm(Rm(e))-Sm]};var Tv=function(){return ho(co).scale(961/Em)},kv=function(){return ro(po).scale(109.5).parallels([30,30])};_o.invert=_o;var Lv=function(){return no(_o).scale(152.63)},Sv=function(){return ro(mo).scale(131.154).center([0,13.9389])};go.invert=lo(zm);var Cv=function(){return no(go).scale(144.049).clipAngle(60)},Ev=function(){function t(){return r=o=null,a}var e,n,i,r,o,a,s=1,u=0,l=0,c=1,h=1,f=Og,d=null,p=Og;return a={stream:function(t){return r&&o===t?r:r=f(p(o=t))},clipExtent:function(r){return arguments.length?(p=null==r?(d=e=n=i=null,Og):hr(d=+r[0][0],e=+r[0][1],n=+r[1][0],i=+r[1][1]),t()):null==d?null:[[d,e],[n,i]]},scale:function(e){return arguments.length?(f=vo((s=+e)*c,s*h,u,l),t()):s},translate:function(e){return arguments.length?(f=vo(s*c,s*h,u=+e[0],l=+e[1]),t()):[u,l]},reflectX:function(e){return arguments.length?(f=vo(s*(c=e?-1:1),s*h,u,l),t()):c<0},reflectY:function(e){return arguments.length?(f=vo(s*c,s*(h=e?-1:1),u,l),t()):h<0},fitExtent:function(t,e){return Jr(a,t,e)},fitSize:function(t,e){return Qr(a,t,e)}}};yo.invert=lo(yi);var Pv=function(){return no(yo).scale(249.5).clipAngle(90+km)};bo.invert=lo(function(t){return 2*zm(t)});var Av=function(){return no(bo).scale(250).clipAngle(142)};wo.invert=function(t,e){return[-e,2*zm(Rm(t))-Sm]};var Nv=function(){var t=ho(wo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)},zv=function(){function t(t){var o,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Mo(n),t.y=ko(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var s=So(t),u=Co(t),l=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return t.eachAfter(r?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*i}:function(e){e.x=(e.x-l)/(c-l)*n,e.y=(1-(t.y?e.y/t.y:1))*i})}var e=xo,n=1,i=1,r=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(r=!1,n=+e[0],i=+e[1],t):r?null:[n,i]},t.nodeSize=function(e){return arguments.length?(r=!0,n=+e[0],i=+e[1],t):r?[n,i]:null},t},Iv=function(){return this.eachAfter(Eo)},Dv=function(t){var e,n,i,r,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},Ov=function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},Rv=function(t){for(var e,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=a.pop();)t(r);return this},Bv=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},Fv=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},Zv=function(t){for(var e=this,n=Po(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},Uv=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},jv=function(){var t=[];return this.each(function(e){t.push(e)}),t},Vv=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},Gv=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};Oo.prototype=Ao.prototype={constructor:Oo,count:Iv,each:Dv,eachAfter:Rv,eachBefore:Ov,sum:Bv,sort:Fv,path:Zv,ancestors:Uv,descendants:jv,leaves:Vv,links:Gv,copy:No};var qv=function(t){for(var e=(t=t.slice()).length,n=null,i=n;e;){var r=new Ro(t[e-1]);i=i?i.next=r:n=r,t[void 0]=t[--e]}return{head:n,tail:i}},Hv=function(t){return Fo(qv(t),[])},Wv=function(t){return Wo(t),t},Yv=function(t){return function(){return t}},Xv=function(){function t(t){return t.x=n/2,t.y=i/2,e?t.eachBefore(Jo(e)).eachAfter(Qo(r,.5)).eachBefore(ta(1)):t.eachBefore(Jo($o)).eachAfter(Qo(Ko,1)).eachAfter(Qo(r,t.r/Math.min(n,i))).eachBefore(ta(Math.min(n,i)/(2*t.r))),t}var e=null,n=1,i=1,r=Ko;return t.radius=function(n){return arguments.length?(e=Yo(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r="function"==typeof e?e:Yv(+e),t):r},t},Kv=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},$v=function(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*l},Jv=function(){function t(t){var a=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=i/a,t.eachBefore(e(i,a)),o&&t.eachBefore(Kv),t}function e(t,e){return function(n){n.children&&$v(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,o=n.y0,a=n.x1-r,s=n.y1-r;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),n.x0=i,n.y0=o,n.x1=a,n.y1=s}}var n=1,i=1,r=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r=+e,t):r},t},Qv="$",ty={depth:-1},ey={},ny=function(){function t(t){var i,r,o,a,s,u,l,c=t.length,h=new Array(c),f={};for(r=0;r<c;++r)i=t[r],s=h[r]=new Oo(i),null!=(u=e(i,r,t))&&(u+="")&&(l=Qv+(s.id=u),f[l]=l in f?ey:s);for(r=0;r<c;++r)if(s=h[r],null!=(u=n(t[r],r,t))&&(u+="")){if(!(a=f[Qv+u]))throw new Error("missing: "+u);if(a===ey)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=ty,o.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(Do),o.parent=null,c>0)throw new Error("cycle");return o}var e=ea,n=na;return t.id=function(n){return arguments.length?(e=Xo(n),t):e},t.parentId=function(e){return arguments.length?(n=Xo(e),t):n},t};la.prototype=Object.create(Oo.prototype);var iy=function(){function t(t){var i=ca(t);if(i.eachAfter(e),i.parent.m=-i.z,i.eachBefore(n),u)t.eachBefore(r);else{var l=t,c=t,h=t;t.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var f=l===c?1:o(l,c)/2,d=f-l.x,p=a/(c.x+f+d),_=s/(h.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*_})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){sa(t);var a=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+o(t._,r._),t.m=t.z-a):t.z=a}else r&&(t.z=r.z+o(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var i,r=t,a=t,s=e,u=r.parent.children[0],l=r.m,c=a.m,h=s.m,f=u.m;s=oa(s),r=ra(r),s&&r;)u=ra(u),a=oa(a),a.a=t,i=s.z+h-r.z-l+o(s._,r._),i>0&&(aa(ua(s,t,n),t,i),l+=i,c+=i),h+=s.m,l+=r.m,f+=u.m,c+=a.m;s&&!oa(a)&&(a.t=s,a.m+=h-c),r&&!ra(u)&&(u.t=r,u.m+=l-f,n=t)}return n}function r(t){t.x*=a,t.y=t.depth*s}var o=ia,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t},ry=function(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*l},oy=(1+Math.sqrt(5))/2,ay=function t(e){function n(t,n,i,r,o){ha(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(oy),sy=function(){function t(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(e),a=[0],i&&t.eachBefore(Kv),t}function e(t){var e=a[t.depth],i=t.x0+e,r=t.y0+e,o=t.x1-e,f=t.y1-e;o<i&&(i=o=(i+o)/2),f<r&&(r=f=(r+f)/2),t.x0=i,t.y0=r,t.x1=o,t.y1=f,t.children&&(e=a[t.depth+1]=s(t)/2,i+=h(t)-e,r+=u(t)-e,o-=l(t)-e,f-=c(t)-e,o<i&&(i=o=(i+o)/2),f<r&&(r=f=(r+f)/2),n(t,i,r,o,f))}var n=ay,i=!1,r=1,o=1,a=[0],s=Ko,u=Ko,l=Ko,c=Ko,h=Ko;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(r=+e[0],o=+e[1],t):[r,o]},t.tile=function(e){return arguments.length?(n=Xo(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:Yv(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:Yv(+e),t):u},t.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:Yv(+e),t):l},t.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:Yv(+e),t):c},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:Yv(+e),t):h},t},uy=function(t,e,n,i,r){function o(t,e,n,i,r,a,s){if(t>=e-1){var l=u[t];return l.x0=i,l.y0=r,l.x1=a,l.y1=s,void 0}for(var h=c[t],f=n/2+h,d=t+1,p=e-1;d<p;){var _=d+p>>>1;c[_]<f?d=_+1:p=_}f-c[d-1]<c[d]-f&&t+1<d&&--d;var m=c[d]-h,g=n-m;if(a-i>s-r){var v=(i*g+a*m)/n;o(t,d,m,i,r,v,s),o(d,e,g,v,r,a,s)}else{var y=(r*g+s*m)/n;o(t,d,m,i,r,a,y),o(d,e,g,i,y,a,s)}}var a,s,u=t.children,l=u.length,c=new Array(l+1);for(c[0]=s=a=0;a<l;++a)c[a+1]=s+=u[a].value;o(0,l,t.value,e,n,i,r)},ly=function(t,e,n,i,r){(1&t.depth?ry:$v)(t,e,n,i,r)},cy=function t(e){function n(t,n,i,r,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,c,h=-1,f=a.length,d=t.value;++h<f;){for(s=a[h],u=s.children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?$v(s,n,i,r,i+=(o-i)*s.value/d):ry(s,n,i,n+=(r-n)*s.value/d,o),d-=s.value}else t._squarify=a=ha(e,t,n,i,r,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(oy),hy=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},fy=function(t){for(var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],u=0;++i<r;)e=s,s=t[i],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[o/u,a/u]},dy=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},py=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(fa),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=da(i),a=da(r),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[i[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[i[a[e]][2]]);return l},_y=function(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,h=0;h<r;++h)o=t[h],n=o[0],i=o[1],i>s!=l>s&&a<(u-n)*(s-i)/(l-i)+n&&(c=!c),u=n,l=i;return c},my=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],u=0;++i<r;)e=a,n=s,o=t[i],a=o[0],s=o[1],e-=a,n-=s,u+=Math.sqrt(e*e+n*n);return u},gy=[].slice,vy={};pa.prototype=ba.prototype={constructor:pa,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=gy.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),_a(this),this},abort:function(){return null==this._error&&va(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},ya(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,ya(this),this}};var yy=function(){return Math.random()},by=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(yy),wy=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(yy),xy=function t(e){function n(){var t=wy.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(yy),My=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(yy),Ty=function t(e){function n(t){var n=My.source(e)(t);return function(){return n()/t}}return n.source=t,n}(yy),ky=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(yy),Ly=function(t,e){function n(t){var e,n=l.status;if(!n&&xa(l)||n>=200&&n<300||304===n){if(o)try{e=o.call(i,l)}catch(t){return void s.call("error",i,t)}else e=l;s.call("load",i,e)}else s.call("error",i,t)}var i,r,o,a,s=_("beforesend","progress","load","error"),u=Vn(),l=new XMLHttpRequest,c=null,h=null,f=0;if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=n:l.onreadystatechange=function(t){l.readyState>3&&n(t)},l.onprogress=function(t){s.call("progress",i,t)},i={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),i)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",i):r},responseType:function(t){return arguments.length?(a=t,i):a},timeout:function(t){return arguments.length?(f=+t,i):f},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",i)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",i)},response:function(t){return o=t,i},get:function(t,e){return i.send("GET",t,e)},post:function(t,e){return i.send("POST",t,e)},send:function(e,n,o){return l.open(e,t,!0,c,h),null==r||u.has("accept")||u.set("accept",r+",*/*"),l.setRequestHeader&&u.each(function(t,e){l.setRequestHeader(e,t)}),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=a&&(l.responseType=a),f>0&&(l.timeout=f),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=wa(o)),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),s.call("beforesend",i,l),l.send(null==n?null:n),i},abort:function(){return l.abort(),i},on:function(){var t=s.on.apply(s,arguments);return t===s?i:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return i.get(e)}return i},Sy=function(t,e){return function(n,i){var r=Ly(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}},Cy=Sy("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Ey=Sy("application/json",function(t){return JSON.parse(t.responseText)}),Py=Sy("text/plain",function(t){return t.responseText}),Ay=Sy("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),Ny=function(t,e){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=Ly(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(Ma(e,i=t)):i},o.row(i),r?o.get(r):o}},zy=Ny("text/csv",Xp),Iy=Ny("text/tab-separated-values",t_),Dy=Array.prototype,Oy=Dy.map,Ry=Dy.slice,By={name:"implicit"},Fy=function(t){return function(){return t}},Zy=function(t){return+t},Uy=[0,1],jy=function(e,n,i){var o,a=e[0],s=e[e.length-1],u=r(a,s,null==n?10:n);switch(i=di(null==i?",f":i),i.type){case"s":var l=Math.max(Math.abs(a),Math.abs(s));return null!=i.precision||isNaN(o=G_(u,l))||(i.precision=o),t.formatPrefix(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=q_(u,Math.max(Math.abs(a),Math.abs(s))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=V_(u))||(i.precision=o-2*("%"===i.type))}return t.format(i)},Vy=function(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t},Gy=new Date,qy=new Date,Hy=$a(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Hy.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?$a(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Hy:null};var Wy=Hy.range,Yy=6e4,Xy=6048e5,Ky=$a(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),$y=Ky.range,Jy=$a(function(t){t.setTime(Math.floor(t/Yy)*Yy)},function(t,e){t.setTime(+t+e*Yy)},function(t,e){return(e-t)/Yy},function(t){return t.getMinutes()}),Qy=Jy.range,tb=$a(function(t){var e=t.getTimezoneOffset()*Yy%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),eb=tb.range,nb=$a(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yy)/864e5},function(t){return t.getDate()-1}),ib=nb.range,rb=Ja(0),ob=Ja(1),ab=Ja(2),sb=Ja(3),ub=Ja(4),lb=Ja(5),cb=Ja(6),hb=rb.range,fb=ob.range,db=ab.range,pb=sb.range,_b=ub.range,mb=lb.range,gb=cb.range,vb=$a(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),yb=vb.range,bb=$a(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});bb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$a(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var wb=bb.range,xb=$a(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Yy)},function(t,e){return(e-t)/Yy},function(t){return t.getUTCMinutes()}),Mb=xb.range,Tb=$a(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),kb=Tb.range,Lb=$a(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Sb=Lb.range,Cb=Qa(0),Eb=Qa(1),Pb=Qa(2),Ab=Qa(3),Nb=Qa(4),zb=Qa(5),Ib=Qa(6),Db=Cb.range,Ob=Eb.range,Rb=Pb.range,Bb=Ab.range,Fb=Nb.range,Zb=zb.range,Ub=Ib.range,jb=$a(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Vb=jb.range,Gb=$a(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Gb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$a(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var qb,Hb=Gb.range,Wb={"-":"",_:" ",0:"0"},Yb=/^\s*\d+/,Xb=/^%/,Kb=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;$s({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var $b=Date.prototype.toISOString?Js:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Jb=+new Date("2000-01-01T00:00:00.000Z")?Qs:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Qb=1e3,tw=60*Qb,ew=60*tw,nw=24*ew,iw=7*nw,rw=30*nw,ow=365*nw,aw=function(){return nu(bb,vb,rb,nb,tb,Jy,Ky,Hy,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},sw=function(){return nu(Gb,jb,Cb,Lb,Tb,xb,Ky,Hy,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},uw=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},lw=uw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cw=uw("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),hw=uw("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),fw=uw("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),dw=Xf(Yt(300,.5,0),Yt(-240,.5,1)),pw=Xf(Yt(-100,.75,.35),Yt(80,1.5,.8)),_w=Xf(Yt(260,.75,.35),Yt(80,1.5,.8)),mw=Yt(),gw=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return mw.h=360*t-100,mw.s=1.5-1.5*e,mw.l=.8-.9*e,mw+""},vw=iu(uw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),yw=iu(uw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),bw=iu(uw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ww=iu(uw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),xw=function(t){return function(){return t}},Mw=Math.abs,Tw=Math.atan2,kw=Math.cos,Lw=Math.max,Sw=Math.min,Cw=Math.sin,Ew=Math.sqrt,Pw=1e-12,Aw=Math.PI,Nw=Aw/2,zw=2*Aw,Iw=function(){function t(){var t,l,c=+e.apply(this,arguments),h=+n.apply(this,arguments),f=o.apply(this,arguments)-Nw,d=a.apply(this,arguments)-Nw,p=Mw(d-f),_=d>f;if(u||(u=t=On()),h<c&&(l=h,h=c,c=l),h>Pw)if(p>zw-Pw)u.moveTo(h*kw(f),h*Cw(f)),u.arc(0,0,h,f,d,!_),c>Pw&&(u.moveTo(c*kw(d),c*Cw(d)),u.arc(0,0,c,d,f,_));else{var m,g,v=f,y=d,b=f,w=d,x=p,M=p,T=s.apply(this,arguments)/2,k=T>Pw&&(r?+r.apply(this,arguments):Ew(c*c+h*h)),L=Sw(Mw(h-c)/2,+i.apply(this,arguments)),S=L,C=L;if(k>Pw){var E=au(k/c*Cw(T)),P=au(k/h*Cw(T));(x-=2*E)>Pw?(E*=_?1:-1,b+=E,w-=E):(x=0,b=w=(f+d)/2),(M-=2*P)>Pw?(P*=_?1:-1,v+=P,y-=P):(M=0,v=y=(f+d)/2)}var A=h*kw(v),N=h*Cw(v),z=c*kw(w),I=c*Cw(w);if(L>Pw){var D=h*kw(y),O=h*Cw(y),R=c*kw(b),B=c*Cw(b);if(p<Aw){var F=x>Pw?fu(A,N,R,B,D,O,z,I):[z,I],Z=A-F[0],U=N-F[1],j=D-F[0],V=O-F[1],G=1/Cw(ou((Z*j+U*V)/(Ew(Z*Z+U*U)*Ew(j*j+V*V)))/2),q=Ew(F[0]*F[0]+F[1]*F[1]);S=Sw(L,(c-q)/(G-1)),C=Sw(L,(h-q)/(G+1))}}M>Pw?C>Pw?(m=du(R,B,A,N,h,C,_),g=du(D,O,z,I,h,C,_),u.moveTo(m.cx+m.x01,m.cy+m.y01),C<L?u.arc(m.cx,m.cy,C,Tw(m.y01,m.x01),Tw(g.y01,g.x01),!_):(u.arc(m.cx,m.cy,C,Tw(m.y01,m.x01),Tw(m.y11,m.x11),!_),u.arc(0,0,h,Tw(m.cy+m.y11,m.cx+m.x11),Tw(g.cy+g.y11,g.cx+g.x11),!_),u.arc(g.cx,g.cy,C,Tw(g.y11,g.x11),Tw(g.y01,g.x01),!_))):(u.moveTo(A,N),u.arc(0,0,h,v,y,!_)):u.moveTo(A,N),c>Pw&&x>Pw?S>Pw?(m=du(z,I,D,O,c,-S,_),g=du(A,N,R,B,c,-S,_),u.lineTo(m.cx+m.x01,m.cy+m.y01),S<L?u.arc(m.cx,m.cy,S,Tw(m.y01,m.x01),Tw(g.y01,g.x01),!_):(u.arc(m.cx,m.cy,S,Tw(m.y01,m.x01),Tw(m.y11,m.x11),!_),u.arc(0,0,c,Tw(m.cy+m.y11,m.cx+m.x11),Tw(g.cy+g.y11,g.cx+g.x11),_),u.arc(g.cx,g.cy,S,Tw(g.y11,g.x11),Tw(g.y01,g.x01),!_))):u.arc(0,0,c,w,b,_):u.lineTo(z,I)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=su,n=uu,i=xw(0),r=null,o=lu,a=cu,s=hu,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Aw/2;return[kw(i)*t,Cw(i)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:xw(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:xw(+e),t):n},t.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:xw(+e),t):i},t.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:xw(+e),t):r},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:xw(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:xw(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:xw(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t};pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Dw=function(t){return new pu(t)},Ow=function(){function t(t){var s,u,l,c=t.length,h=!1;for(null==r&&(a=o(l=On())),s=0;s<=c;++s)!(s<c&&i(u=t[s],s,t))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(u,s,t),+n(u,s,t));if(l)return a=null,l+""||null}var e=_u,n=mu,i=xw(!0),r=null,o=Dw,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:xw(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:xw(+e),t):n},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:xw(!!e),t):i},t.curve=function(e){return arguments.length?(o=e,null!=r&&(a=o(r)),t):o},t.context=function(e){return arguments.length?(null==e?r=a=null:a=o(r=e),t):r},t},Rw=function(){function t(t){var e,c,h,f,d,p=t.length,_=!1,m=new Array(p),g=new Array(p);for(null==s&&(l=u(d=On())),e=0;e<=p;++e){if(!(e<p&&a(f=t[e],e,t))===_)if(_=!_)c=e,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=e-1;h>=c;--h)l.point(m[h],g[h]);l.lineEnd(),l.areaEnd()}_&&(m[e]=+n(f,e,t),g[e]=+r(f,e,t),l.point(i?+i(f,e,t):m[e],o?+o(f,e,t):g[e]))}if(d)return l=null,d+""||null}function e(){return Ow().defined(a).curve(u).context(s)}var n=_u,i=null,r=xw(0),o=mu,a=xw(!0),s=null,u=Dw,l=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:xw(+e),i=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:xw(+e),t):n},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:xw(+e),t):i},t.y=function(e){return arguments.length?(r="function"==typeof e?e:xw(+e),o=null,t):r},t.y0=function(e){return arguments.length?(r="function"==typeof e?e:xw(+e),t):r},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:xw(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(r)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(i).y(r)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:xw(!!e),t):a},t.curve=function(e){return arguments.length?(u=e,null!=s&&(l=u(s)),t):u},t.context=function(e){return arguments.length?(null==e?s=l=null:l=u(s=e),t):s},t},Bw=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Fw=function(t){return t},Zw=function(){function t(t){var s,u,l,c,h,f=t.length,d=0,p=new Array(f),_=new Array(f),m=+r.apply(this,arguments),g=Math.min(zw,Math.max(-zw,o.apply(this,arguments)-m)),v=Math.min(Math.abs(g)/f,a.apply(this,arguments)),y=v*(g<0?-1:1);for(s=0;s<f;++s)(h=_[p[s]=s]=+e(t[s],s,t))>0&&(d+=h);for(null!=n?p.sort(function(t,e){return n(_[t],_[e])}):null!=i&&p.sort(function(e,n){return i(t[e],t[n])}),s=0,l=d?(g-f*y)/d:0;s<f;++s,m=c)u=p[s],h=_[u],c=m+(h>0?h*l:0)+y,_[u]={data:t[u],index:s,value:h,startAngle:m,endAngle:c,padAngle:v};return _}var e=Fw,n=Bw,i=null,r=xw(0),o=xw(zw),a=xw(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:xw(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,i=null,t):n},t.sort=function(e){return arguments.length?(i=e,n=null,t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:xw(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:xw(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:xw(+e),t):a},t},Uw=vu(Dw);gu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var jw=function(){return yu(Ow().curve(Uw))},Vw=function(){var t=Rw().curve(Uw),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return yu(n())},delete t.lineX0,t.lineEndAngle=function(){return yu(i())},delete t.lineX1,t.lineInnerRadius=function(){return yu(r())},delete t.lineY0,t.lineOuterRadius=function(){return yu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(vu(t)):e()._curve},t},Gw=Array.prototype.slice,qw=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},Hw={draw:function(t,e){var n=Math.sqrt(e/Aw);t.moveTo(n,0),t.arc(0,0,n,0,zw)}},Ww={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Yw=Math.sqrt(1/3),Xw=2*Yw,Kw={draw:function(t,e){var n=Math.sqrt(e/Xw),i=n*Yw;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},$w=Math.sin(Aw/10)/Math.sin(7*Aw/10),Jw=Math.sin(zw/10)*$w,Qw=-Math.cos(zw/10)*$w,tx={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=Jw*n,r=Qw*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=zw*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},ex={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},nx=Math.sqrt(3),ix={draw:function(t,e){var n=-Math.sqrt(e/(3*nx));t.moveTo(0,2*n),t.lineTo(-nx*n,-n),t.lineTo(nx*n,-n),t.closePath()}},rx=-.5,ox=Math.sqrt(3)/2,ax=1/Math.sqrt(12),sx=3*(ax/2+1),ux={draw:function(t,e){var n=Math.sqrt(e/sx),i=n/2,r=n*ax,o=i,a=n*ax+n,s=-o,u=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(rx*i-ox*r,ox*i+rx*r),t.lineTo(rx*o-ox*a,ox*o+rx*a),t.lineTo(rx*s-ox*u,ox*s+rx*u),t.lineTo(rx*i+ox*r,rx*r-ox*i),t.lineTo(rx*o+ox*a,rx*a-ox*o),t.lineTo(rx*s+ox*u,rx*u-ox*s),t.closePath()}},lx=[Hw,Ww,Kw,ex,tx,ix,ux],cx=function(){function t(){var t;if(i||(i=t=On()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}var e=xw(Hw),n=xw(64),i=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:xw(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:xw(+e),t):n},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},hx=function(){};Pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var fx=function(t){return new Pu(t)};Au.prototype={areaStart:hx,areaEnd:hx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Eu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var dx=function(t){return new Au(t)};Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Eu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var px=function(t){return new Nu(t)};zu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*a),this._beta*e[u]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var _x=function t(e){function n(t){return 1===e?new Pu(t):new zu(t,e)}return n.beta=function(e){return t(+e)},n}(.85);Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Iu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Iu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mx=function t(e){function n(t){return new Du(t,e)}return n.tension=function(e){return t(+e)},n}(0);Ou.prototype={areaStart:hx,areaEnd:hx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Iu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gx=function t(e){function n(t){return new Ou(t,e)}return n.tension=function(e){return t(+e)},n}(0);Ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Iu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vx=function t(e){function n(t){return new Ru(t,e)}return n.tension=function(e){return t(+e)},n}(0);Fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Bu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yx=function t(e){function n(t){return e?new Fu(t,e):new Du(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Zu.prototype={areaStart:hx,areaEnd:hx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Bu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bx=function t(e){function n(t){return e?new Zu(t,e):new Ou(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var wx=function t(e){function n(t){return e?new Uu(t,e):new Ru(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);ju.prototype={areaStart:hx,areaEnd:hx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var xx=function(t){return new ju(t)};Wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hu(this,this._t0,qu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hu(this,qu(this,n=Gu(this,t,e)),n);break;default:Hu(this,this._t0,n=Gu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Yu.prototype=Object.create(Wu.prototype)).point=function(t,e){Wu.prototype.point.call(this,e,t)},Xu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Qu(t),r=Qu(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Mx=function(t){return new Ju(t)};tl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Tx=function(t){return new tl(t,.5)},kx=function(t,e){if((r=t.length)>1)for(var n,i,r,o=1,a=t[e[0]],s=a.length;o<r;++o)for(i=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},Lx=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},Sx=function(){function t(t){var o,a,s=e.apply(this,arguments),u=t.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var h,f=s[o],d=c[o]=new Array(u),p=0;p<u;++p)d[p]=h=[0,+r(t[p],f,p,t)],h.data=t[p];d.key=f}for(o=0,a=n(c);o<l;++o)c[a[o]].index=o;return i(c,a),c}var e=xw([]),n=Lx,i=kx,r=il;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:xw(Gw.call(n)),t):e},t.value=function(e){return arguments.length?(r="function"==typeof e?e:xw(+e),t):r},t.order=function(e){return arguments.length?(n=null==e?Lx:"function"==typeof e?e:xw(Gw.call(e)),t):n},t.offset=function(e){return arguments.length?(i=null==e?kx:e,t):i},t},Cx=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,a=t[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}kx(t,e)}},Ex=function(t,e){if((s=t.length)>1)for(var n,i,r,o,a,s,u=0,l=t[e[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(r=(i=t[e[n]][u])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):i[0]=o},Px=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}kx(t,e)}},Ax=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,u=0,l=0;s<r;++s){for(var c=t[e[s]],h=c[a][1]||0,f=c[a-1][1]||0,d=(h-f)/2,p=0;p<s;++p){var _=t[e[p]];d+=(_[a][1]||0)-(_[a-1][1]||0)}u+=h,l+=d*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,kx(t,e)}},Nx=function(t){var e=t.map(rl);return Lx(t).sort(function(t,n){return e[t]-e[n]})},zx=function(t){return Nx(t).reverse()},Ix=function(t){var e,n,i=t.length,r=t.map(rl),o=Lx(t).sort(function(t,e){return r[e]-r[t]}),a=0,s=0,u=[],l=[];for(e=0;e<i;++e)n=o[e],a<s?(a+=r[n],u.push(n)):(s+=r[n],l.push(n));return l.reverse().concat(u)},Dx=function(t){return Lx(t).reverse()},Ox=function(t){return function(){return t}};sl.prototype={constructor:sl,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hl(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ll(this,n),t=n,n=t.U),n.C=!1,i.C=!0,cl(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(cl(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ll(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?hl(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ll(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,cl(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ll(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,cl(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ll(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,cl(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Rx,Bx,Fx,Zx,Ux,jx=[],Vx=[],Gx=1e-6,qx=1e-12;Ol.prototype={constructor:Ol,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return bl(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,a,s=n.site,u=-1,l=e[r[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,l=e[r[u]],c=l.left===s?l.right:l.left,a&&c&&i<a.index&&i<c.index&&Il(s,a,c)<0&&t.push([s.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var u=t-r.site[0],l=e-r.site[1],c=u*u+l*l;do{r=o.cells[i=a],a=null,r.halfedges.forEach(function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=i,null==n||c<=n*n?r.site:null}};var Hx=function(){function t(t){return new Ol(t.map(function(i,r){var o=[Math.round(e(i,r,t)/Gx)*Gx,Math.round(n(i,r,t)/Gx)*Gx];return o.index=r,o.data=i,o}),i)}var e=ol,n=al,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ox(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Ox(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t},Wx=function(t){return function(){return t}};Bl.prototype={constructor:Bl,scale:function(t){return 1===t?this:new Bl(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Bl(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yx=new Bl(1,0,0);Fl.prototype=Bl.prototype;var Xx=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Kx=function(){function e(t){t.on("wheel.zoom",l).on("mousedown.zoom",c).on("dblclick.zoom",h).on("touchstart.zoom",f).on("touchmove.zoom",d).on("touchend.zoom touchcancel.zoom",p).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Vl)}function n(t,e){return e=Math.max(b,Math.min(w,e)),e===t.k?t:new Bl(e,t.x,t.y)}function i(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Bl(t.k,i,r)}function r(t,e){var n=t.invertX(e[0][0])-x,i=t.invertX(e[1][0])-M,r=t.invertY(e[0][1])-T,o=t.invertY(e[1][1])-k;return t.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=s(t,i),a=y.apply(t,i),u=n||o(a),l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,i):e,f=S(c.invert(u).concat(l/c.k),h.invert(u).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=l/e[2];t=new Bl(n,u[0]-e[0]*n,u[1]-e[1]*n)}r.zoom(null,t)}})}function s(t,e){for(var n,i=0,r=C.length;i<r;++i)if((n=C[i]).that===t)return n;return new u(t,e)}function u(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function l(){function e(){o.wheel=null,o.end()}if(v.apply(this,arguments)){var o=s(this,arguments),a=this.__zoom,u=Math.max(b,Math.min(w,a.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),l=Xc(this);if(o.wheel)o.mouse[0][0]===l[0]&&o.mouse[0][1]===l[1]||(o.mouse[1]=a.invert(o.mouse[0]=l)),clearTimeout(o.wheel);else{if(a.k===u)return;o.mouse=[l,a.invert(l)],vd(this),o.start()}Xx(),o.wheel=setTimeout(e,N),o.zoom("mouse",r(i(n(a,u),o.mouse[0],o.mouse[1]),o.extent))}}function c(){function e(){if(Xx(),!o.moved){var e=t.event.clientX-l,n=t.event.clientY-c;o.moved=e*e+n*n>z}o.zoom("mouse",r(i(o.that.__zoom,o.mouse[0]=Xc(o.that),o.mouse[1]),o.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),yt(t.event.view,o.moved),Xx(),o.end()}if(!g&&v.apply(this,arguments)){var o=s(this,arguments),a=Ah(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=Xc(this),l=t.event.clientX,c=t.event.clientY;Oh(t.event.view),Zl(),o.mouse=[u,this.__zoom.invert(u)],vd(this),o.start()}}function h(){if(v.apply(this,arguments)){var o=this.__zoom,s=Xc(this),u=o.invert(s),l=o.k*(t.event.shiftKey?.5:2),c=r(i(n(o,l),s,u),y.apply(this,arguments));Xx(),L>0?Ah(this).transition().duration(L).call(a,c,s):Ah(this).call(e.transform,c)}}function f(){if(v.apply(this,arguments)){var e,n,i,r,o=s(this,arguments),a=t.event.changedTouches,u=a.length;for(Zl(),n=0;n<u;++n)i=a[n],r=zh(this,a,i.identifier),r=[r,this.__zoom.invert(r),i.identifier],o.touch0?o.touch1||(o.touch1=r):(o.touch0=r,e=!0);if(m&&(m=clearTimeout(m),!o.touch1))return o.end(),void((r=Ah(this).on("dblclick.zoom"))&&r.apply(this,arguments));e&&(m=setTimeout(function(){m=null},A),vd(this),o.start())}}function d(){var e,o,a,u,l=s(this,arguments),c=t.event.changedTouches,h=c.length;for(Xx(),m&&(m=clearTimeout(m)),e=0;e<h;++e)o=c[e],a=zh(this,c,o.identifier),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=a:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=a);if(o=l.that.__zoom,l.touch1){var f=l.touch0[0],d=l.touch0[1],p=l.touch1[0],_=l.touch1[1],g=(g=p[0]-f[0])*g+(g=p[1]-f[1])*g,v=(v=_[0]-d[0])*v+(v=_[1]-d[1])*v;o=n(o,Math.sqrt(g/v)),a=[(f[0]+p[0])/2,(f[1]+p[1])/2],u=[(d[0]+_[0])/2,(d[1]+_[1])/2]}else{if(!l.touch0)return;a=l.touch0[0],u=l.touch0[1]}l.zoom("touch",r(i(o,a,u),l.extent))}function p(){var e,n,i=s(this,arguments),r=t.event.changedTouches,o=r.length;for(Zl(),g&&clearTimeout(g),g=setTimeout(function(){g=null},A),e=0;e<o;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}var m,g,v=Ul,y=jl,b=0,w=1/0,x=-w,M=w,T=x,k=M,L=250,S=Vf,C=[],P=_("start","zoom","end"),A=500,N=150,z=0;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Vl),t!==n?a(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(t,a){e.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,s=o(t),u=e.invert(s);return r(i(n(e,"function"==typeof a?a.apply(this,arguments):a),s,u),t)})},e.translateBy=function(t,n,i){e.transform(t,function(){return r(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),y.apply(this,arguments))})},u.prototype={start:function(){return 1==++this.active&&(this.index=C.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(C.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){E(new Rl(e,t,this.that.__zoom),P.apply,P,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(v="function"==typeof t?t:Wx(!!t),e):v},e.extent=function(t){return arguments.length?(y="function"==typeof t?t:Wx([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):y},e.scaleExtent=function(t){return arguments.length?(b=+t[0],w=+t[1],e):[b,w]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],M=+t[1][0],T=+t[0][1],k=+t[1][1],e):[[x,T],[M,k]]},e.duration=function(t){return arguments.length?(L=+t,e):L},e.interpolate=function(t){return arguments.length?(S=t,e):S},e.on=function(){var t=P.on.apply(P,arguments);return t===P?e:t},e.clickDistance=function(t){return arguments.length?(z=(t=+t)*t,e):Math.sqrt(z)},e};t.version="4.9.1",t.bisect=Wl,t.bisectRight=Wl,t.bisectLeft=Yl,t.ascending=Gl,t.bisector=ql,t.cross=Kl,t.descending=$l,t.deviation=tc,t.extent=ec,t.histogram=dc,t.thresholdFreedmanDiaconis=_c,t.thresholdScott=mc,t.thresholdSturges=fc,t.max=gc,t.mean=vc,t.median=yc,t.merge=bc,t.min=wc,t.pairs=Xl,t.permute=xc,t.quantile=pc,t.range=sc,t.scan=Mc,t.shuffle=Tc,t.sum=kc,t.ticks=hc,t.tickIncrement=i,t.tickStep=r,t.transpose=Lc,t.variance=Ql,t.zip=Sc,t.axisTop=h,t.axisRight=f,t.axisBottom=d,t.axisLeft=p,t.brush=Cp,t.brushX=An,t.brushY=Nn,t.brushSelection=Pn,t.chord=Dp,t.ribbon=Up,t.nest=jp,t.set=Xn,t.map=Vn,t.keys=Gp,t.values=qp,t.entries=Hp,t.color=Lt,t.rgb=Pt,t.hsl=It,t.lab=Bt,t.hcl=qt,t.cubehelix=Yt,t.dispatch=_,t.drag=Bh,t.dragDisable=Oh,t.dragEnable=yt,t.dsvFormat=Wp,t.csvParse=Xp,t.csvParseRows=Kp,t.csvFormat=$p,t.csvFormatRows=Jp,t.tsvParse=t_,t.tsvParseRows=e_,t.tsvFormat=n_,t.tsvFormatRows=i_,t.easeLinear=rn,t.easeQuad=sn,t.easeQuadIn=on,t.easeQuadOut=an,t.easeQuadInOut=sn,t.easeCubic=cn,t.easeCubicIn=un,t.easeCubicOut=ln,t.easeCubicInOut=cn,t.easePoly=Vd,t.easePolyIn=Ud,t.easePolyOut=jd,t.easePolyInOut=Vd,t.easeSin=dn,t.easeSinIn=hn,t.easeSinOut=fn,t.easeSinInOut=dn,t.easeExp=mn,t.easeExpIn=pn,t.easeExpOut=_n,t.easeExpInOut=mn,t.easeCircle=yn,t.easeCircleIn=gn,t.easeCircleOut=vn,t.easeCircleInOut=yn,t.easeBounce=wn,t.easeBounceIn=bn,t.easeBounceOut=wn,t.easeBounceInOut=xn,t.easeBack=rp,t.easeBackIn=np,t.easeBackOut=ip,t.easeBackInOut=rp,t.easeElastic=sp,t.easeElasticIn=ap,t.easeElasticOut=sp,t.easeElasticInOut=up,t.forceCenter=r_,t.forceCollide=x_,t.forceLink=M_,t.forceManyBody=S_,t.forceSimulation=L_,t.forceX=C_,t.forceY=E_,t.formatDefaultLocale=_i,t.formatLocale=j_,t.formatSpecifier=di,t.precisionFixed=V_,t.precisionPrefix=G_,t.precisionRound=q_,t.geoArea=Km,t.geoBounds=Qm,t.geoCentroid=eg,t.geoCircle=mg,t.geoClipExtent=Mg,t.geoContains=Ig,t.geoDistance=Ag,t.geoGraticule=Tr,t.geoGraticule10=kr,t.geoInterpolate=Dg,t.geoLength=Cg,t.geoPath=uv,t.geoAlbers=vv,t.geoAlbersUsa=yv,t.geoAzimuthalEqualArea=wv,t.geoAzimuthalEqualAreaRaw=bv,t.geoAzimuthalEquidistant=Mv,t.geoAzimuthalEquidistantRaw=xv,t.geoConicConformal=kv,t.geoConicConformalRaw=po,t.geoConicEqualArea=gv,t.geoConicEqualAreaRaw=ao,t.geoConicEquidistant=Sv,t.geoConicEquidistantRaw=mo,t.geoEquirectangular=Lv,t.geoEquirectangularRaw=_o,t.geoGnomonic=Cv,t.geoGnomonicRaw=go,t.geoIdentity=Ev,t.geoProjection=no,t.geoProjectionMutator=io,t.geoMercator=Tv,t.geoMercatorRaw=co,t.geoOrthographic=Pv,t.geoOrthographicRaw=yo,t.geoStereographic=Av,t.geoStereographicRaw=bo,t.geoTransverseMercator=Nv,t.geoTransverseMercatorRaw=wo,t.geoRotation=_g,t.geoStream=Hm,t.geoTransform=fv,t.cluster=zv,t.hierarchy=Ao,t.pack=Xv,t.packSiblings=Wv,t.packEnclose=Hv,t.partition=Jv,t.stratify=ny,t.tree=iy,t.treemap=sy,t.treemapBinary=uy,t.treemapDice=$v,t.treemapSlice=ry,t.treemapSliceDice=ly,t.treemapSquarify=ay,t.treemapResquarify=cy,t.interpolate=Df,t.interpolateArray=Cf,t.interpolateBasis=xf,t.interpolateBasisClosed=Mf,t.interpolateDate=Ef,t.interpolateNumber=Pf,t.interpolateObject=Af,t.interpolateRound=Of,t.interpolateString=If,t.interpolateTransformCss=Zf,t.interpolateTransformSvg=Uf,t.interpolateZoom=Vf,t.interpolateRgb=kf,t.interpolateRgbBasis=Lf,t.interpolateRgbBasisClosed=Sf,t.interpolateHsl=Gf,t.interpolateHslLong=qf,t.interpolateLab=fe,t.interpolateHcl=Hf,t.interpolateHclLong=Wf,t.interpolateCubehelix=Yf,t.interpolateCubehelixLong=Xf,t.quantize=Kf,t.path=On,t.polygonArea=hy,t.polygonCentroid=fy;t.polygonHull=py,t.polygonContains=_y,t.polygonLength=my,t.quadtree=ri,t.queue=ba,t.randomUniform=by,t.randomNormal=wy,t.randomLogNormal=xy,t.randomBates=Ty,t.randomIrwinHall=My,t.randomExponential=ky,t.request=Ly,t.html=Cy,t.json=Ey,t.text=Py,t.xml=Ay,t.csv=zy,t.tsv=Iy,t.scaleBand=ka,t.scalePoint=Sa,t.scaleIdentity=Ra,t.scaleLinear=Oa,t.scaleLog=Ga,t.scaleOrdinal=Ta,t.scaleImplicit=By,t.scalePow=Ha,t.scaleSqrt=Wa,t.scaleQuantile=Ya,t.scaleQuantize=Xa,t.scaleThreshold=Ka,t.scaleTime=aw,t.scaleUtc=sw,t.schemeCategory10=lw,t.schemeCategory20b=cw,t.schemeCategory20c=hw,t.schemeCategory20=fw,t.interpolateCubehelixDefault=dw,t.interpolateRainbow=gw,t.interpolateWarm=pw,t.interpolateCool=_w,t.interpolateViridis=vw,t.interpolateMagma=yw,t.interpolateInferno=bw,t.interpolatePlasma=ww,t.scaleSequential=ru,t.creator=Fc,t.local=x,t.matcher=Gc,t.mouse=Xc,t.namespace=Bc,t.namespaces=Rc,t.select=Ah,t.selectAll=Nh,t.selection=gt,t.selector=Kc,t.selectorAll=Jc,t.style=q,t.touch=zh,t.touches=Ih,t.window=gh,t.customEvent=E,t.arc=Iw,t.area=Rw,t.line=Ow,t.pie=Zw,t.radialArea=Vw,t.radialLine=jw,t.linkHorizontal=Lu,t.linkVertical=Su,t.linkRadial=Cu,t.symbol=cx,t.symbols=lx,t.symbolCircle=Hw,t.symbolCross=Ww,t.symbolDiamond=Kw,t.symbolSquare=ex,t.symbolStar=tx,t.symbolTriangle=ix,t.symbolWye=ux,t.curveBasisClosed=dx,t.curveBasisOpen=px,t.curveBasis=fx,t.curveBundle=_x,t.curveCardinalClosed=gx,t.curveCardinalOpen=vx,t.curveCardinal=mx,t.curveCatmullRomClosed=bx,t.curveCatmullRomOpen=wx,t.curveCatmullRom=yx,t.curveLinearClosed=xx,t.curveLinear=Dw,t.curveMonotoneX=Ku,t.curveMonotoneY=$u,t.curveNatural=Mx,t.curveStep=Tx,t.curveStepAfter=nl,t.curveStepBefore=el,t.stack=Sx,t.stackOffsetExpand=Cx,t.stackOffsetDiverging=Ex,t.stackOffsetNone=kx,t.stackOffsetSilhouette=Px,t.stackOffsetWiggle=Ax,t.stackOrderAscending=Nx,t.stackOrderDescending=zx,t.stackOrderInsideOut=Ix,t.stackOrderNone=Lx,t.stackOrderReverse=Dx,t.timeInterval=$a,t.timeMillisecond=Hy,t.timeMilliseconds=Wy,t.utcMillisecond=Hy,t.utcMilliseconds=Wy,t.timeSecond=Ky,t.timeSeconds=$y,t.utcSecond=Ky,t.utcSeconds=$y,t.timeMinute=Jy,t.timeMinutes=Qy,t.timeHour=tb,t.timeHours=eb,t.timeDay=nb,t.timeDays=ib,t.timeWeek=rb,t.timeWeeks=hb,t.timeSunday=rb,t.timeSundays=hb,t.timeMonday=ob,t.timeMondays=fb,t.timeTuesday=ab,t.timeTuesdays=db,t.timeWednesday=sb,t.timeWednesdays=pb,t.timeThursday=ub,t.timeThursdays=_b,t.timeFriday=lb,t.timeFridays=mb,t.timeSaturday=cb,t.timeSaturdays=gb,t.timeMonth=vb,t.timeMonths=yb,t.timeYear=bb,t.timeYears=wb,t.utcMinute=xb,t.utcMinutes=Mb,t.utcHour=Tb,t.utcHours=kb,t.utcDay=Lb,t.utcDays=Sb,t.utcWeek=Cb,t.utcWeeks=Db,t.utcSunday=Cb,t.utcSundays=Db,t.utcMonday=Eb,t.utcMondays=Ob,t.utcTuesday=Pb,t.utcTuesdays=Rb,t.utcWednesday=Ab,t.utcWednesdays=Bb,t.utcThursday=Nb,t.utcThursdays=Fb,t.utcFriday=zb,t.utcFridays=Zb,t.utcSaturday=Ib,t.utcSaturdays=Ub,t.utcMonth=jb,t.utcMonths=Vb,t.utcYear=Gb,t.utcYears=Hb,t.timeFormatDefaultLocale=$s,t.timeFormatLocale=is,t.isoFormat=$b,t.isoParse=Jb,t.now=_e,t.timer=ve,t.timerFlush=ye,t.timeout=ad,t.interval=sd,t.transition=en,t.active=fp,t.interrupt=vd,t.voronoi=Hx,t.zoom=Kx,t.zoomTransform=Fl,t.zoomIdentity=Yx,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(4),l=(n.n(u),n(3)),c=n(28),h=n.n(c),f=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.zs=t.zs,n.grid=n._buildGrid(),n._updateRange(),n}return s(e,t),d(e,null,[{key:"fromASCIIGrid",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.split("\n"),r=e._parseASCIIGridHeader(i.slice(0,6)),o=[],a=6;a<i.length;a++){var s=i[a].trim();if(""===s)break;s.split(" ").forEach(function(t){var e=parseFloat(t),i=e!==r.noDataValue?e*n:null;o.push(i)})}var u=r;return u.zs=o,new e(u)}},{key:"_parseASCIIGridHeader",value:function(t){try{var e=t.map(function(t){var e=t.split(" ").filter(function(t){return""!=t});return r({},e[0].trim().toUpperCase(),parseFloat(e[1].trim()))}),n="XLLCORNER"in e[2],i=e[4].CELLSIZE;return{nCols:parseInt(e[0].NCOLS),nRows:parseInt(e[1].NROWS),xllCorner:n?e[2].XLLCORNER:e[2].XLLCENTER-i,yllCorner:n?e[3].YLLCORNER:e[3].YLLCENTER-i,cellXSize:i,cellYSize:i,noDataValue:e[5].NODATA_VALUE}}catch(t){throw new Error("Not a valid ASCIIGrid Header: "+t)}}},{key:"fromGeoTIFF",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.multipleFromGeoTIFF(t,[n])[0]}},{key:"multipleFromGeoTIFF",value:function(t,n){var r=h.a.parse(t),o=r.getImage(),a=o.readRasters(),s={i:1,j:1,k:1,x:0,y:0,z:0};o.hasOwnProperty("tiepoint")&&(s=o.getTiePoints()[0]);var u=o.getFileDirectory(),l=0,c=0;if(u.hasOwnProperty("ModelPixelScale")){var d=f(u.ModelPixelScale,2);l=d[0],c=d[1]}else if(u.hasOwnProperty("ModelTransformation")){var p=u.ModelTransformation;l=p[0],c=-p[5]}void 0!==n&&0!==n.length||(n=[].concat(i(Array(a.length).keys())));return n.map(function(t){var n=a[t];if(u.GDAL_NODATA){var i=parseFloat(u.GDAL_NODATA);n=Array.from(n).map(function(t){return t===i?null:t})}return new e({nCols:o.getWidth(),nRows:o.getHeight(),xllCorner:s.x,yllCorner:s.y-o.getHeight()*c,cellXSize:l,cellYSize:c,zs:n})})}}]),d(e,[{key:"_buildGrid",value:function(){return this._arrayTo2d(this.zs,this.nRows,this.nCols)}},{key:"_arrayTo2d",value:function(t,e,n){for(var i=[],r=0,o=0;o<e;o++){for(var a=[],s=0;s<n;s++,r++){var u=t[r];a[s]=this._isValid(u)?u:null}i[o]=a}return i}},{key:"_newDataArrays",value:function(t){t.zs=[]}},{key:"_pushValueToArrays",value:function(t,e){t.zs.push(e)}},{key:"_makeNewFrom",value:function(t){return new e(t)}},{key:"_calculateRange",value:function(){var t=this.zs;return this._inFilter&&(t=t.filter(this._inFilter)),[u.min(t),u.max(t)]}},{key:"_doInterpolation",value:function(t,e,n,i,r,o){var a=1-t,s=1-e;return n*a*s+i*t*s+r*a*e+o*t*e}}]),e}(l.a);e.a=p},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){i(this,t),this.u=e,this.v=n}return r(t,[{key:"magnitude",value:function(){return Math.sqrt(this.u*this.u+this.v*this.v)}},{key:"directionTo",value:function(){var t=Math.atan2(this.u,this.v),e=t*(180/Math.PI);return e<0&&(e+=360),e}},{key:"directionFrom",value:function(){return(this.directionTo()+180)%360}}]),t}();e.a=o},function(t,e,n){"use strict";var i,r={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams"},o={};for(i in r)o[r[i]]=parseInt(i);var a=[o.BitsPerSample,o.ExtraSamples,o.SampleFormat,o.StripByteCounts,o.StripOffsets,o.StripRowCounts,o.TileByteCounts,o.TileOffsets],s={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",16:"LONG8",17:"SLONG8",18:"IFD8"},u={};for(i in s)u[s[i]]=parseInt(i);var l={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},c={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},h={};for(i in c)h[c[i]]=parseInt(i);var f;"undefined"==typeof window?f=function(t){return(new(0,n(42).DOMParser)).parseFromString(t,"text/xml")}:void 0!==window.DOMParser?f=function(t){return(new window.DOMParser).parseFromString(t,"text/xml")}:void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")&&(f=function(t){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}),t.exports={fieldTags:o,fieldTagNames:r,arrayFields:a,fieldTypes:u,fieldTypeNames:s,photometricInterpretations:l,geoKeys:h,geoKeyNames:c,parseXml:f}},function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function i(t,e){function i(){}var r=t.prototype;if(Object.create){var o=Object.create(e.prototype);r.__proto__=o}r instanceof e||(i.prototype=e.prototype,i=new i,n(r,i),t.prototype=r=i),r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}function r(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,rt[t]),this.message=rt[t],Error.captureStackTrace&&Error.captureStackTrace(this,r);return n.code=t,e&&(this.message=this.message+": "+e),n}function o(){}function a(t,e){this._node=t,this._refresh=e,s(this)}function s(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);U(t,"length",i.length),n(i,t),t._inc=e}}function u(){}function l(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function c(t,e,n,i){if(i?e[l(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&v(r,t,i),g(r,t,n))}}function h(t,e,n){var i=l(e,n);if(!(i>=0))throw r(at,new Error(t.tagName+"@"+n));for(var o=e.length-1;i<o;)e[i]=e[++i];if(e.length=o,t){var a=t.ownerDocument;a&&(v(a,t,n),n.ownerElement=null)}}function f(t){if(this._features={},t)for(var e in t)this._features=t[e]}function d(){}function p(t){return"<"==t&&"&lt;"||">"==t&&"&gt;"||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function _(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(_(t,e))return!0}while(t=t.nextSibling)}function m(){}function g(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function v(t,e,n,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function y(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function b(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,y(t.ownerDocument,t),e}function w(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===et){var r=e.firstChild;if(null==r)return e;var o=e.lastChild}else r=o=e;var a=n?n.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:t.firstChild=r,null==n?t.lastChild=o:n.previousSibling=o;do{r.parentNode=t}while(r!==o&&(r=r.nextSibling));return y(t.ownerDocument||t,t),e.nodeType==et&&(e.firstChild=e.lastChild=null),e}function x(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e);var i=t.lastChild}var i=t.lastChild;return e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,y(t.ownerDocument,t,e),e}function M(){this._nsMap={}}function T(){}function k(){}function L(){}function S(){}function C(){}function E(){}function P(){}function A(){}function N(){}function z(){}function I(){}function D(){}function O(t,e){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r){var r=i.lookupPrefix(o);if(null==r)var a=[{namespace:o,prefix:null}]}return B(this,n,t,e,a),n.join("")}function R(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==i)return a.namespace!=r}return!0}function B(t,e,n,i,r){if(i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case q:r||(r=[]);var o=(r.length,t.attributes),a=o.length,s=t.firstChild,u=t.tagName;n=V===t.namespaceURI||n,e.push("<",u);for(var l=0;l<a;l++){var c=o.item(l);"xmlns"==c.prefix?r.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&r.push({prefix:"",namespace:c.value})}for(var l=0;l<a;l++){var c=o.item(l);if(R(c,n,r)){var h=c.prefix||"",f=c.namespaceURI,d=h?" xmlns:"+h:" xmlns";e.push(d,'="',f,'"'),r.push({prefix:h,namespace:f})}B(c,e,n,i,r)}if(R(t,n,r)){var h=t.prefix||"",f=t.namespaceURI,d=h?" xmlns:"+h:" xmlns";e.push(d,'="',f,'"'),r.push({prefix:h,namespace:f})}if(s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;s;)s.data?e.push(s.data):B(s,e,n,i,r),s=s.nextSibling;else for(;s;)B(s,e,n,i,r),s=s.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Q:case et:for(var s=t.firstChild;s;)B(s,e,n,i,r),s=s.nextSibling;return;case H:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,p),'"');case W:return e.push(t.data.replace(/[<&]/g,p));case Y:return e.push("<![CDATA[",t.data,"]]>");case J:return e.push("\x3c!--",t.data,"--\x3e");case tt:var _=t.publicId,m=t.systemId;if(e.push("<!DOCTYPE ",t.name),_)e.push(' PUBLIC "',_),m&&"."!=m&&e.push('" "',m),e.push('">');else if(m&&"."!=m)e.push(' SYSTEM "',m,'">');else{var g=t.internalSubset;g&&e.push(" [",g,"]"),e.push(">")}return;case $:return e.push("<?",t.target," ",t.data,"?>");case X:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function F(t,e,n){var i;switch(e.nodeType){case q:i=e.cloneNode(!1),i.ownerDocument=t;case et:break;case H:n=!0}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(F(t,r,n)),r=r.nextSibling;return i}function Z(t,e,n){var i=new e.constructor;for(var r in e){var a=e[r];"object"!=typeof a&&a!=i[r]&&(i[r]=a)}switch(e.childNodes&&(i.childNodes=new o),i.ownerDocument=t,i.nodeType){case q:var s=e.attributes,l=i.attributes=new u,c=s.length;l._ownerElement=i;for(var h=0;h<c;h++)i.setAttributeNode(Z(t,s.item(h),!0));break;case H:n=!0}if(n)for(var f=e.firstChild;f;)i.appendChild(Z(t,f,n)),f=f.nextSibling;return i}function U(t,e,n){t[e]=n}function j(t){switch(t.nodeType){case q:case et:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(j(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}var V="http://www.w3.org/1999/xhtml",G={},q=G.ELEMENT_NODE=1,H=G.ATTRIBUTE_NODE=2,W=G.TEXT_NODE=3,Y=G.CDATA_SECTION_NODE=4,X=G.ENTITY_REFERENCE_NODE=5,K=G.ENTITY_NODE=6,$=G.PROCESSING_INSTRUCTION_NODE=7,J=G.COMMENT_NODE=8,Q=G.DOCUMENT_NODE=9,tt=G.DOCUMENT_TYPE_NODE=10,et=G.DOCUMENT_FRAGMENT_NODE=11,nt=G.NOTATION_NODE=12,it={},rt={},ot=(it.INDEX_SIZE_ERR=(rt[1]="Index size error",1),it.DOMSTRING_SIZE_ERR=(rt[2]="DOMString size error",2),it.HIERARCHY_REQUEST_ERR=(rt[3]="Hierarchy request error",3)),at=(it.WRONG_DOCUMENT_ERR=(rt[4]="Wrong document",4),it.INVALID_CHARACTER_ERR=(rt[5]="Invalid character",5),it.NO_DATA_ALLOWED_ERR=(rt[6]="No data allowed",6),it.NO_MODIFICATION_ALLOWED_ERR=(rt[7]="No modification allowed",7),it.NOT_FOUND_ERR=(rt[8]="Not found",8)),st=(it.NOT_SUPPORTED_ERR=(rt[9]="Not supported",9),it.INUSE_ATTRIBUTE_ERR=(rt[10]="Attribute in use",10));it.INVALID_STATE_ERR=(rt[11]="Invalid state",11),it.SYNTAX_ERR=(rt[12]="Syntax error",12),it.INVALID_MODIFICATION_ERR=(rt[13]="Invalid modification",13),it.NAMESPACE_ERR=(rt[14]="Invalid namespace",14),it.INVALID_ACCESS_ERR=(rt[15]="Invalid access",15);r.prototype=Error.prototype,n(it,r),o.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)B(this[i],n,t,e);return n.join("")}},a.prototype.item=function(t){return s(this),this[t]},i(a,o),u.prototype={length:0,item:o.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new r(st);var n=this.getNamedItem(t.nodeName);return c(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new r(st);return e=this.getNamedItemNS(t.namespaceURI,t.localName),c(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return h(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return h(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}},f.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var i=new m;if(i.implementation=this,i.childNodes=new o,i.doctype=n,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new E;return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=n,i}},d.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return w(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return b(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return Z(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==W&&t.nodeType==W?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var i in n)if(n[i]==t)return i;e=e.nodeType==H?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==H?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(G,d),n(G,d.prototype),m.prototype={nodeName:"#document",nodeType:Q,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==et){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return null==this.documentElement&&t.nodeType==q&&(this.documentElement=t),w(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),b(this,t)},importNode:function(t,e){return F(this,t,e)},getElementById:function(t){var e=null;return _(this.documentElement,function(n){if(n.nodeType==q&&n.getAttribute("id")==t)return e=n,!0}),e},createElement:function(t){var e=new M;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new o,(e.attributes=new u)._ownerElement=e,e},createDocumentFragment:function(){var t=new z;return t.ownerDocument=this,t.childNodes=new o,t},createTextNode:function(t){var e=new L;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new S;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new C;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new I;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new T;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new N;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new M,i=e.split(":"),r=n.attributes=new u;return n.childNodes=new o,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new T,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},i(m,d),M.prototype={nodeType:q,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===et?this.insertBefore(t,null):x(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new a(this,function(e){var n=[];return _(e,function(i){i===e||i.nodeType!=q||"*"!==t&&i.tagName!=t||n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new a(this,function(n){var i=[];return _(n,function(r){r===n||r.nodeType!==q||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)}),i})}},m.prototype.getElementsByTagName=M.prototype.getElementsByTagName,m.prototype.getElementsByTagNameNS=M.prototype.getElementsByTagNameNS,i(M,d),T.prototype.nodeType=H,i(T,d),k.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(rt[ot])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},i(k,d),L.prototype={nodeName:"#text",nodeType:W,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},i(L,k),S.prototype={nodeName:"#comment",nodeType:J},i(S,k),C.prototype={nodeName:"#cdata-section",nodeType:Y},i(C,k),E.prototype.nodeType=tt,i(E,d),P.prototype.nodeType=nt,i(P,d),A.prototype.nodeType=K,i(A,d),N.prototype.nodeType=X,i(N,d),z.prototype.nodeName="#document-fragment",z.prototype.nodeType=et,i(z,d),I.prototype.nodeType=$,i(I,d),D.prototype.serializeToString=function(t,e,n){return O.call(t,e,n)},d.prototype.toString=O;try{Object.defineProperty&&(Object.defineProperty(a.prototype,"length",{get:function(){return s(this),this.$$length}}),Object.defineProperty(d.prototype,"textContent",{get:function(){return j(this)},set:function(t){switch(this.nodeType){case q:case et:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),U=function(t,e,n){t["$$"+e]=n})}catch(t){}e.DOMImplementation=f,e.XMLSerializer=D},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=(n.n(a),n(6)),u=n(3),l=n(5),c=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.us=t.us,n.vs=t.vs,n.grid=n._buildGrid(),n.range=n._calculateRange(),n}return o(e,t),h(e,null,[{key:"fromASCIIGrids",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=l.a.fromASCIIGrid(t,i),o=l.a.fromASCIIGrid(n,i);return new e(e._paramsFromScalarFields(r,o))}},{key:"fromGeoTIFFs",value:function(t,n){var i=l.a.fromGeoTIFF(t),r=l.a.fromGeoTIFF(n);return new e(e._paramsFromScalarFields(i,r))}},{key:"fromMultibandGeoTIFF",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],i=l.a.multipleFromGeoTIFF(t,n),r=c(i,2),o=r[0],a=r[1];return new e(e._paramsFromScalarFields(o,a))}},{key:"_paramsFromScalarFields",value:function(t,e){return{nCols:t.nCols,nRows:t.nRows,xllCorner:t.xllCorner,yllCorner:t.yllCorner,cellXSize:t.cellXSize,cellYSize:t.cellYSize,us:t.zs,vs:e.zs}}}]),h(e,[{key:"getScalarField",value:function(t){var e=this._getFunctionFor(t),n={nCols:this.params.nCols,nRows:this.params.nRows,xllCorner:this.params.xllCorner,yllCorner:this.params.yllCorner,cellXSize:this.params.cellXSize,cellYSize:this.params.cellYSize,zs:this._applyOnField(e)};return new l.a(n)}},{key:"_getFunctionFor",value:function(t){return function(e,n){return new s.a(e,n)[t]()}}},{key:"_applyOnField",value:function(t){for(var e=[],n=this.numCells(),i=0;i<n;i++){var r=this.us[i],o=this.vs[i];this._isValid(r)&&this._isValid(o)?e.push(t(r,o)):e.push(null)}return e}},{key:"_buildGrid",value:function(){return this._arraysTo2d(this.us,this.vs,this.nRows,this.nCols)}},{key:"_arraysTo2d",value:function(t,e,n,i){for(var r=[],o=0,a=0;a<n;a++){for(var u=[],l=0;l<i;l++,o++){var c=t[o],h=e[o],f=this._isValid(c)&&this._isValid(h);u[l]=f?new s.a(c,h):null}r[a]=u}return r}},{key:"_newDataArrays",value:function(t){t.us=[],t.vs=[]}},{key:"_pushValueToArrays",value:function(t,e){t.us.push(e.u),t.vs.push(e.v)}},{key:"_makeNewFrom",value:function(t){return new e(t)}},{key:"_calculateRange",value:function(){var t=this.getCells().map(function(t){return t.value}).filter(function(t){return null!==t});this._inFilter&&(t=t.filter(this._inFilter));var e=t.map(function(t){return t.magnitude()});return[a.min(e),a.max(e)]}},{key:"_doInterpolation",value:function(t,e,n,i,r,o){var a=1-t,u=1-e,l=a*u,c=t*u,h=a*e,f=t*e,d=n.u*l+i.u*c+r.u*h+o.u*f,p=n.v*l+i.v*c+r.v*h+o.v*f;return new s.a(d,p)}},{key:"_isValid",value:function(t){return null!==t&&void 0!==t}}]),e}(u.a);e.a=f},function(t,e){var n=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();L.Control.ColorBar=L.Control.extend({options:{position:"bottomleft",width:300,height:15,margin:15,background:"#fff",textColor:"black",steps:100,decimals:2,units:"uds",title:"Legend",labels:[],labelFontSize:10,labelTextPosition:"middle"},initialize:function(t,e,n){this.color=t,this.range=e,L.Util.setOptions(this,n)},onAdd:function(t){this._map=t;var e=L.DomUtil.create("div","leaflet-control-colorBar leaflet-bar leaflet-control");return e.style.padding="10px",L.DomEvent.addListener(e,"click",L.DomEvent.stopPropagation).addListener(e,"click",L.DomEvent.preventDefault),e.style.backgroundColor=this.options.background,e.style.cursor="text",e.innerHTML=this.title()+this.palette(),e},title:function(){var t=document.createElement("div");return d3.select(t).append("span").style("color",this.options.textColor).style("display","block").style("margin-bottom","5px").attr("class","leaflet-control-colorBar-title").text(this.options.title),t.innerHTML},palette:function(){var t=document.createElement("div"),e=this._createSvgIn(t);return this._appendColorBarTo(e),this.options.labels&&this._appendLabelsTo(e),t.innerHTML},_createSvgIn:function(t){var e=this.options.labels?this.options.margin:0;return d3.select(t).append("svg").attr("width",this.options.width+2*this.options.margin).attr("height",this.options.height+e)},_appendColorBarTo:function(t){var e=this,n=this._getColorPerValue(),i=this.options.width/n.length,r=t.append("g").attr("id","colorBar-buckets"),o=r.selectAll("rect").data(n).enter().append("rect");o.attr("x",function(t,n){return n*i+e.options.margin}).attr("y",function(){return 0}).attr("height",function(){return e.options.height}).attr("width",function(){return i}).attr("stroke-width",2).attr("stroke-linecap","butt").attr("stroke",function(t){return t.color.hex()}).attr("fill",function(t){return t.color.hex()}),o.append("title").text(function(t){return t.value.toFixed(e.options.decimals)+" "+e.options.units})},_appendLabelsTo:function(t){var e=this,n=this._getPositionPerLabelValue();t.append("g").attr("id","colorBar-labels").selectAll("text").data(n).enter().append("text").attr("x",function(t){return t.position+e.options.margin}).attr("y",this.options.height+this.options.margin).attr("font-size",this.options.labelFontSize+"px").attr("text-anchor",this.options.labelTextPosition).attr("fill",this.options.textColor).attr("class","leaflet-control-colorBar-label").text(function(t){return""+t.value.toFixed(e.options.decimals)})},_getColorPerValue:function(){var t=this,e=n(this.range,2),i=e[0],r=e[1],o=(r-i)/this.options.steps;return d3.range(i,r+o,o).map(function(e){return{value:e,color:t.color(e)}})},_getPositionPerLabelValue:function(){var t=d3.scaleLinear().range([0,this.options.width]).domain(this.range);return this.options.labels.map(function(e){return{value:e,position:t(e)}})}}),L.control.colorBar=function(t,e,n){return new L.Control.ColorBar(t,e,n)}},function(t,e){L.CanvasLayer.Field=L.CanvasLayer.extend({options:{mouseMoveCursor:{value:"pointer",noValue:"default"},opacity:1,onClick:null,onMouseMove:null,inFilter:null},initialize:function(t,e){L.Util.setOptions(this,e),this._visible=!0,t&&this.setData(t)},getEvents:function(){var t=L.CanvasLayer.prototype.getEvents.call(this);return t.zoomstart=this._hideCanvas.bind(this),t.zoomend=this._showCanvas.bind(this),t},onLayerDidMount:function(){this._enableIdentify(),this._ensureCanvasAlignment()},show:function(){this._visible=!0,this._showCanvas(),this._enableIdentify()},hide:function(){this._visible=!1,this._hideCanvas(),this._disableIdentify()},isVisible:function(){return this._visible},_showCanvas:function(){this._canvas&&this._visible&&(this._canvas.style.visibility="visible")},_hideCanvas:function(){this._canvas&&(this._canvas.style.visibility="hidden")},_enableIdentify:function(){this._map.on("click",this._onClick,this),this._map.on("mousemove",this._onMouseMove,this),this.options.onClick&&this.on("click",this.options.onClick,this),this.options.onMouseMove&&this.on("mousemove",this.options.onMouseMove,this)},_disableIdentify:function(){this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this),this.options.onClick&&this.off("click",this.options.onClick,this),this.options.onMouseMove&&this.off("mousemove",this.options.onMouseMove,this)},_ensureCanvasAlignment:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t)},onLayerWillUnmount:function(){this._disableIdentify()},needRedraw:function(){this._map&&this._field&&L.CanvasLayer.prototype.needRedraw.call(this)},onDrawLayer:function(t){throw new TypeError("Must be overriden")},setData:function(t){this.options.inFilter&&t.setFilter(this.options.inFilter),this._field=t,this.needRedraw(),this.fire("load")},setFilter:function(t){this.options.inFilter=t,this._field&&this._field.setFilter(t),this.needRedraw()},setOpacity:function(t){return this.options.opacity=t,this._canvas&&this._updateOpacity(),this},getBounds:function(){var t=this._field.extent(),e=L.latLng(t[1],t[0]),n=L.latLng(t[3],t[2]);return L.latLngBounds(e,n)},_onClick:function(t){var e=this._queryValue(t);this.fire("click",e)},_onMouseMove:function(t){var e=this._queryValue(t);this._changeCursorOn(e),this.fire("mousemove",e)},_changeCursorOn:function(t){if(this.options.mouseMoveCursor){var e=this.options.mouseMoveCursor,n=e.value,i=e.noValue;this._map.getContainer().style.cursor=null!==t.value?n:i}},_updateOpacity:function(){L.DomUtil.setOpacity(this._canvas,this.options.opacity)},_queryValue:function(t){var e=this._field?this._field.valueAt(t.latlng.lng,t.latlng.lat):null;return{latlng:t.latlng,value:e}},_getDrawingContext:function(){var t=this._canvas.getContext("2d");return t.clearRect(0,0,this._canvas.width,this._canvas.height),t}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(20),o=n.n(r),a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();L.CanvasLayer.ScalarField=L.CanvasLayer.Field.extend({options:{type:"colormap",color:null,interpolate:!1,vectorSize:20,arrowDirection:"from"},initialize:function(t,e){L.CanvasLayer.Field.prototype.initialize.call(this,t,e),L.Util.setOptions(this,e)},_defaultColorScale:function(){return o.a.scale(["white","black"]).domain(this._field.range)},setColor:function(t){this.options.color=t,this.needRedraw()},onDrawLayer:function(t){if(this.isVisible()){this._updateOpacity();this._getRendererMethod()()}},_getRendererMethod:function(){switch(this.options.type){case"colormap":return this._drawImage.bind(this);case"vector":return this._drawArrows.bind(this);default:throw Error("Unkwown renderer type: "+this.options.type)}},_ensureColor:function(){null===this.options.color&&this.setColor(this._defaultColorScale())},_showCanvas:function(){L.CanvasLayer.Field.prototype._showCanvas.call(this),this.needRedraw()},_drawImage:function(){this._ensureColor();var t=this._getDrawingContext(),e=this._canvas.width,n=this._canvas.height,i=t.createImageData(e,n),r=i.data;this._prepareImageIn(r,e,n),t.putImageData(i,0,0)},_prepareImageIn:function(t,e,n){for(var i=this.options.interpolate?"interpolatedValueAt":"valueAt",r=0,o=0;o<n;o++)for(var s=0;s<e;s++){var u=this._map.containerPointToLatLng([s,o]),l=u.lng,c=u.lat,h=this._field[i](l,c);if(null!==h){var f=this._getColorFor(h),d=f.rgba(),p=a(d,4),_=p[0],m=p[1],g=p[2],v=p[3];t[r]=_,t[r+1]=m,t[r+2]=g,t[r+3]=parseInt(255*v)}r+=4}},_drawArrows:function(){var t=this._pixelBounds(),e=(t.max.x-t.min.x)/this._field.nCols,n=Math.max(1,Math.floor(1.2*this.options.vectorSize/e)),r=this._getDrawingContext();r.strokeStyle=this.options.color;for(var o=this._map.getBounds(),s=0;s<this._field.height;s+=n)for(var u=0;u<this._field.width;u+=n){var l=this._field._lonLatAtIndexes(u,s),c=a(l,2),h=c[0],f=c[1],d=this._field.valueAt(h,f),p=L.latLng(f,h);if(null!==d&&o.contains(p)){var _=new i.a(p,d,this.cellXSize,this.cellYSize);this._drawArrow(_,r)}}},_pixelBounds:function(){var t=this.getBounds(),e=this._map.latLngToContainerPoint(t.getNorthWest()),n=this._map.latLngToContainerPoint(t.getSouthEast());return L.bounds(e,n)},_drawArrow:function(t,e){var n=this._map.latLngToContainerPoint(t.center),i=this.options.color;"function"==typeof i&&(e.strokeStyle=i(t.value));var r=this.options.vectorSize;e.save(),e.translate(n.x,n.y);var o=(90+t.value)*Math.PI/180;"towards"===this.options.arrowDirection&&(o+=Math.PI),e.rotate(o),e.beginPath(),e.moveTo(-r/2,0),e.lineTo(+r/2,0),e.moveTo(.25*r,.25*-r),e.lineTo(+r/2,0),e.lineTo(.25*r,.25*r),e.stroke(),e.restore()},_getColorFor:function(t){var e=this.options.color;return"function"==typeof e&&(e=this.options.color(t)),o()(e)}}),L.canvasLayer.scalarField=function(t,e){return new L.CanvasLayer.ScalarField(t,e)}},function(t,e){function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}L.CanvasLayer.SimpleLonLat=L.CanvasLayer.extend({options:{color:"gray"},initialize:function(t,e){this.points=t,L.Util.setOptions(this,e)},onLayerDidMount:function(){},onLayerWillUnmount:function(){},setData:function(t){this.needRedraw()},onDrawLayer:function(t){var e=t.canvas.getContext("2d");e.clearRect(0,0,t.canvas.width,t.canvas.height),e.fillStyle=this.options.color;var n=!0,i=!1,r=void 0;try{for(var o,a=this.points[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=t.layer._map.latLngToContainerPoint(s);e.beginPath(),e.fillRect(u.x,u.y,2,2),e.fill(),e.closePath(),e.stroke()}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}},getBounds:function(){var t=this.points.map(function(t){return t.lng}),e=this.points.map(function(t){return t.lat}),i=Math.min.apply(Math,n(t)),r=Math.min.apply(Math,n(e)),o=Math.max.apply(Math,n(t)),a=Math.max.apply(Math,n(e)),s=L.latLng(r,i),u=L.latLng(a,o);return L.latLngBounds(s,u)}}),L.canvasLayer.simpleLonLat=function(t,e){return new L.CanvasLayer.SimpleLonLat(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);n.n(i);L.CanvasLayer.VectorFieldAnim=L.CanvasLayer.Field.extend({options:{paths:800,color:"white",width:1,fade:.96,duration:20,maxAge:200,velocityScale:2e-4},initialize:function(t,e){L.CanvasLayer.Field.prototype.initialize.call(this,t,e),L.Util.setOptions(this,e),this.timer=null},onLayerDidMount:function(){L.CanvasLayer.Field.prototype.onLayerDidMount.call(this),this._map.on("move resize",this._stopAnimation,this)},onLayerWillUnmount:function(){L.CanvasLayer.Field.prototype.onLayerWillUnmount.call(this),this._map.off("move resize",this._stopAnimation,this),this._stopAnimation()},_hideCanvas:function(){L.CanvasLayer.Field.prototype._hideCanvas.call(this),this._stopAnimation()},onDrawLayer:function(t){function e(){o.forEach(function(t){t.age>a.options.maxAge&&(t.age=0,a._field.randomPosition(t));var e=a._field.valueAt(t.x,t.y);if(null===e)t.age=a.options.maxAge;else{var n=t.x+e.u*a.options.velocityScale,i=t.y+e.v*a.options.velocityScale;a._field.hasValueAt(n,i)?(t.xt=n,t.yt=i,t.m=e.magnitude()):t.age=a.options.maxAge}t.age+=1})}function n(){var e=r.globalCompositeOperation;r.globalCompositeOperation="destination-in",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.globalCompositeOperation=e,r.fillStyle="rgba(0, 0, 0, "+a.options.fade+")",r.lineWidth=a.options.width,r.strokeStyle=a.options.color,o.forEach(function(e){a._drawParticle(t,r,e)})}if(this._field&&this.isVisible()){this._updateOpacity();var r=this._getDrawingContext(),o=this._prepareParticlePaths();this.timer=i.timer(function(){e(),n()},this.options.duration);var a=this}},_drawParticle:function(t,e,n){var i=new L.latLng(n.y,n.x),r=new L.latLng(n.yt,n.xt);if(t.bounds.contains(i)&&n.age<=this.options.maxAge){var o=t.layer._map.latLngToContainerPoint(i),a=t.layer._map.latLngToContainerPoint(r);e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(a.x,a.y),n.x=n.xt,n.y=n.yt;var s=this.options.color;"function"==typeof s&&(e.strokeStyle=s(n.m));var u=this.options.width;"function"==typeof u&&(e.lineWidth=u(n.m)),e.stroke()}},_prepareParticlePaths:function(){for(var t=[],e=0;e<this.options.paths;e++){var n=this._field.randomPosition();n.age=this._randomAge(),t.push(n)}return t},_randomAge:function(){return Math.floor(Math.random()*this.options.maxAge)},_stopAnimation:function(){this.timer&&this.timer.stop()}}),L.canvasLayer.vectorFieldAnim=function(t,e){return new L.CanvasLayer.VectorFieldAnim(t,e)}},function(t,e){L.CanvasLayer=L.Layer.extend({initialize:function(t){this._map=null,this._canvas=null,this._frame=null,this._delegate=null,L.setOptions(this,t)},delegate:function(t){return this._delegate=t,this},needRedraw:function(){return this._frame||(this._frame=L.Util.requestAnimFrame(this.drawLayer,this)),this},_onLayerDidResize:function(t){this._canvas.width=t.newSize.x,this._canvas.height=t.newSize.y},_onLayerDidMove:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t),this.drawLayer()},getEvents:function(){var t={resize:this._onLayerDidResize,moveend:this._onLayerDidMove};return this._map.options.zoomAnimation&&L.Browser.any3d&&(t.zoomanim=this._animateZoom),t},onAdd:function(t){this._map=t,this._canvas=L.DomUtil.create("canvas","leaflet-layer"),this.tiles={};var e=this._map.getSize();this._canvas.width=e.x,this._canvas.height=e.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(n?"animated":"hide")),t._panes.overlayPane.appendChild(this._canvas),t.on(this.getEvents(),this);var i=this._delegate||this;i.onLayerDidMount&&i.onLayerDidMount(),this.needRedraw()},onRemove:function(t){var e=this._delegate||this;e.onLayerWillUnmount&&e.onLayerWillUnmount(),t.getPanes().overlayPane.removeChild(this._canvas),t.off(this.getEvents(),this),this._canvas=null},addTo:function(t){return t.addLayer(this),this},LatLonToMercator:function(t){return{x:6378137*t.lng*Math.PI/180,y:6378137*Math.log(Math.tan((90+t.lat)*Math.PI/360))}},drawLayer:function(){var t=this._map.getSize(),e=this._map.getBounds(),n=this._map.getZoom(),i=this.LatLonToMercator(this._map.getCenter()),r=this.LatLonToMercator(this._map.containerPointToLatLng(this._map.getSize())),o=this._delegate||this;o.onDrawLayer&&o.onDrawLayer({layer:this,canvas:this._canvas,bounds:e,size:t,zoom:n,center:i,corner:r}),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngToNewLayerPoint(this._map.getBounds().getNorthWest(),t.zoom,t.center);L.DomUtil.setTransform(this._canvas,n,e)}}),L.canvasLayer=function(){return new L.CanvasLayer}},function(t,e,n){/* @preserve
 * Leaflet 1.3.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t,n){n(e)}(0,function(t){"use strict";function e(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r)t[e]=r[e]}return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function i(t){return t._leaflet_id=t._leaflet_id||++pe,t._leaflet_id}function r(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function o(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function a(){return!1}function s(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l(t){return u(t).split(/\s+/)}function c(t,e){t.hasOwnProperty("options")||(t.options=t.options?de(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function h(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function f(t,e){return t.replace(_e,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}function d(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function _(t){var e=+new Date,n=Math.max(0,16-(e-ve));return ve=e+n,window.setTimeout(t,n)}function m(t,e,i){if(!i||ye!==_)return ye.call(window,n(t,e));t.call(e)}function g(t){t&&be.call(window,t)}function v(){}function y(t){if("undefined"!=typeof L&&L&&L.Mixin){t=me(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function b(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function w(t,e,n){return t instanceof b?t:me(t)?new b(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new b(t.x,t.y):new b(t,e,n)}function x(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function M(t,e){return!t||t instanceof x?t:new x(t,e)}function T(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function k(t,e){return t instanceof T?t:new T(t,e)}function S(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function C(t,e,n){return t instanceof S?t:me(t)&&"object"!=typeof t[0]?3===t.length?new S(t[0],t[1],t[2]):2===t.length?new S(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new S(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new S(t,e,n)}function E(t,e,n,i){if(me(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function P(t,e,n,i){return new E(t,e,n,i)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function N(t,e){var n,i,r,o,a,s,u="";for(n=0,r=t.length;n<r;n++){for(a=t[n],i=0,o=a.length;i<o;i++)s=a[i],u+=(i?"L":"M")+s.x+" "+s.y;u+=e?hn?"z":"x":""}return u||"M0 0"}function z(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function I(t,e,n,i){return"touchstart"===e?O(t,n,i):"touchmove"===e?U(t,n,i):"touchend"===e&&j(t,n,i),this}function D(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(pn,i,!1):"touchmove"===e?t.removeEventListener(_n,i,!1):"touchend"===e&&(t.removeEventListener(mn,i,!1),t.removeEventListener(gn,i,!1)),this}function O(t,e,i){var r=n(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(vn.indexOf(t.target.tagName)<0))return;J(t)}Z(t,e)});t["_leaflet_touchstart"+i]=r,t.addEventListener(pn,r,!1),bn||(document.documentElement.addEventListener(pn,R,!0),document.documentElement.addEventListener(_n,B,!0),document.documentElement.addEventListener(mn,F,!0),document.documentElement.addEventListener(gn,F,!0),bn=!0)}function R(t){yn[t.pointerId]=t,wn++}function B(t){yn[t.pointerId]&&(yn[t.pointerId]=t)}function F(t){delete yn[t.pointerId],wn--}function Z(t,e){t.touches=[];for(var n in yn)t.touches.push(yn[n]);t.changedTouches=[t],e(t)}function U(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Z(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(_n,i,!1)}function j(t,e,n){var i=function(t){Z(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(mn,i,!1),t.addEventListener(gn,i,!1)}function V(t,e,n){function i(t){var e;if(on){if(!Re||"mouse"===t.pointerType)return;e=wn}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(o||n);a=t.touches?t.touches[0]:t,s=i>0&&i<=u,o=n}}function r(t){if(s&&!a.cancelBubble){if(on){if(!Re||"mouse"===t.pointerType)return;var n,i,r={};for(i in a)n=a[i],r[i]=n&&n.bind?n.bind(a):n;a=r}a.type="dblclick",e(a),o=null}}var o,a,s=!1,u=250;return t[Tn+xn+n]=i,t[Tn+Mn+n]=r,t[Tn+"dblclick"+n]=e,t.addEventListener(xn,i,!1),t.addEventListener(Mn,r,!1),t.addEventListener("dblclick",e,!1),this}function G(t,e){var n=t[Tn+xn+e],i=t[Tn+Mn+e],r=t[Tn+"dblclick"+e];return t.removeEventListener(xn,n,!1),t.removeEventListener(Mn,i,!1),Re||t.removeEventListener("dblclick",r,!1),this}function q(t,e,n,i){if("object"==typeof e)for(var r in e)W(t,r,e[r],n);else{e=l(e);for(var o=0,a=e.length;o<a;o++)W(t,e[o],n,i)}return this}function H(t,e,n,i){if("object"==typeof e)for(var r in e)Y(t,r,e[r],n);else if(e){e=l(e);for(var o=0,a=e.length;o<a;o++)Y(t,e[o],n,i)}else{for(var s in t[kn])Y(t,s,t[kn][s]);delete t[kn]}return this}function W(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):"");if(t[kn]&&t[kn][o])return this;var a=function(e){return n.call(r||t,e||window.event)},s=a;on&&0===e.indexOf("touch")?I(t,e,a,o):!an||"dblclick"!==e||!V||on&&Ge?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,rt(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&Fe&&(a=function(t){ot(t,s)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):V(t,a,o),t[kn]=t[kn]||{},t[kn][o]=a}function Y(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):""),a=t[kn]&&t[kn][o];if(!a)return this;on&&0===e.indexOf("touch")?D(t,e,o):!an||"dblclick"!==e||!G||on&&Ge?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a):G(t,o),t[kn][o]=null}function X(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,it(t),this}function K(t){return W(t,"mousewheel",X),this}function $(t){return q(t,"mousedown touchstart dblclick",X),W(t,"click",nt),this}function J(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Q(t){return J(t),X(t),this}function tt(t,e){if(!e)return new b(t.clientX,t.clientY);var n=e.getBoundingClientRect(),i=n.width/e.offsetWidth||1,r=n.height/e.offsetHeight||1;return new b(t.clientX/i-n.left-e.clientLeft,t.clientY/r-n.top-e.clientTop)}function et(t){return Re?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ln:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function nt(t){Sn[t.type]=!0}function it(t){var e=Sn[t.type];return Sn[t.type]=!1,e}function rt(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function ot(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ce&&n-Ce;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated)return void Q(t);Ce=n,e(t)}function at(t){return"string"==typeof t?document.getElementById(t):t}function st(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ut(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function lt(t){var e=t.parentNode;e&&e.removeChild(t)}function ct(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ht(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function ft(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function dt(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=gt(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function pt(t,e){if(void 0!==t.classList)for(var n=l(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!dt(t,e)){var o=gt(t);mt(t,(o?o+" ":"")+e)}}function _t(t,e){void 0!==t.classList?t.classList.remove(e):mt(t,u((" "+gt(t)+" ").replace(" "+e+" "," ")))}function mt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function gt(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function vt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&yt(t,e)}function yt(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function bt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function wt(t,e,n){var i=e||new b(0,0);t.style[En]=(Ke?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function xt(t,e){t._leaflet_pos=e,Qe?wt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Mt(t){return t._leaflet_pos||new b(0,0)}function Tt(){q(window,"dragstart",J)}function kt(){H(window,"dragstart",J)}function Lt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(St(),zn=t,In=t.style.outline,t.style.outline="none",q(window,"keydown",St))}function St(){zn&&(zn.style.outline=In,zn=void 0,In=void 0,H(window,"keydown",St))}function Ct(t,e){return new Rn(t,e)}function Et(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=It(t,n),t=Nt(t,n)}function Pt(t,e,n){return Math.sqrt(Ft(t,e,n,!0))}function At(t,e,n){return Ft(t,e,n)}function Nt(t,e){var n=t.length,i=typeof Uint8Array!=void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1,zt(t,r,e,0,n-1);var o,a=[];for(o=0;o<n;o++)r[o]&&a.push(t[o]);return a}function zt(t,e,n,i,r){var o,a,s,u=0;for(a=i+1;a<=r-1;a++)(s=Ft(t[a],t[i],t[r],!0))>u&&(o=a,u=s);u>n&&(e[o]=1,zt(t,e,n,i,o),zt(t,e,n,o,r))}function It(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)Bt(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function Dt(t,e,n,i,r){var o,a,s,u=i?Xn:Rt(t,n),l=Rt(e,n);for(Xn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;o=u||l,a=Ot(t,e,o,n,r),s=Rt(a,n),o===u?(t=a,u=s):(e=a,l=s)}}function Ot(t,e,n,i,r){var o,a,s=e.x-t.x,u=e.y-t.y,l=i.min,c=i.max;return 8&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):4&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(o=c.x,a=t.y+u*(c.x-t.x)/s):1&n&&(o=l.x,a=t.y+u*(l.x-t.x)/s),new b(o,a,r)}function Rt(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Bt(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Ft(t,e,n,i){var r,o=e.x,a=e.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return l>0&&(r=((t.x-o)*s+(t.y-a)*u)/l,r>1?(o=n.x,a=n.y):r>0&&(o+=s*r,a+=u*r)),s=t.x-o,u=t.y-a,i?s*s+u*u:new b(o,a)}function Zt(t){return!me(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Ut(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(t)}function jt(t,e,n){var i,r,o,a,s,u,l,c,h,f=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Rt(t[r],e);for(a=0;a<4;a++){for(c=f[a],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)s=t[r],u=t[o],s._code&c?u._code&c||(h=Ot(u,s,c,e,n),h._code=Rt(h,e),i.push(h)):(u._code&c&&(h=Ot(u,s,c,e,n),h._code=Rt(h,e),i.push(h)),i.push(s));t=i}return t}function Vt(t){return new pi(t)}function Gt(t,e){return new gi(t,e)}function qt(t,e){return new yi(t,e)}function Ht(t,e,n){return new bi(t,e,n)}function Wt(t,e){return new wi(t,e)}function Yt(t,e){return new xi(t,e)}function Xt(t,e){var n,i,r,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Kt;if(!s&&!a)return null;switch(a.type){case"Point":return n=c(s),l?l(t,n):new gi(n);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=c(s[r]),u.push(l?l(t,n):new gi(n));return new fi(u);case"LineString":case"MultiLineString":return i=$t(s,"LineString"===a.type?0:1,c),new wi(i,e);case"Polygon":case"MultiPolygon":return i=$t(s,"Polygon"===a.type?1:2,c),new xi(i,e);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var h=Xt({geometry:a.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new fi(u);default:throw new Error("Invalid GeoJSON object.")}}function Kt(t){return new S(t[1],t[0],t[2])}function $t(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)i=e?$t(t[o],e-1,n):(n||Kt)(t[o]),r.push(i);return r}function Jt(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[s(t.lng,e),s(t.lat,e),s(t.alt,e)]:[s(t.lng,e),s(t.lat,e)]}function Qt(t,e,n,i){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e?Qt(t[o],e-1,n,i):Jt(t[o],i));return!e&&n&&r.push(r[0]),r}function te(t,n){return t.feature?e({},t.feature,{geometry:n}):ee(n)}function ee(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function ne(t,e){return new Mi(t,e)}function ie(t,e,n){return new Ci(t,e,n)}function re(t){return new Ii(t)}function oe(t){return new Di(t)}function ae(t,e){return new Oi(t,e)}function se(t,e){return new Ri(t,e)}function ue(t){return cn?new Fi(t):null}function le(t){return hn||fn?new Vi(t):null}function ce(t,e){return new Gi(t,e)}function he(){return window.L=Ji,this}var fe=Object.freeze;Object.freeze=function(t){return t};var de=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),pe=0,_e=/\{ *([\w_-]+) *\}/g,me=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ge="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ve=0,ye=window.requestAnimationFrame||p("RequestAnimationFrame")||_,be=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},we=(Object.freeze||Object)({freeze:fe,extend:e,create:de,bind:n,lastId:pe,stamp:i,throttle:r,wrapNum:o,falseFn:a,formatNum:s,trim:u,splitWords:l,setOptions:c,getParamString:h,template:f,isArray:me,indexOf:d,emptyImageUrl:ge,requestFn:ye,cancelFn:be,requestAnimFrame:m,cancelAnimFrame:g});v.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,r=de(i);r.constructor=n,n.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(y(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(de(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},n},v.include=function(t){return e(this.prototype,t),this},v.mergeOptions=function(t){return e(this.prototype.options,t),this},v.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var xe={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=l(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=l(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t])){if(!e){for(r=0,o=i.length;r<o;r++)i[r].fn=a;return void delete this._events[t]}if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}},fire:function(t,n,i){if(!this.listens(t,i))return this;var r=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=n(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};xe.addEventListener=xe.on,xe.removeEventListener=xe.clearAllEventListeners=xe.off,xe.addOneTimeEventListener=xe.once,xe.fireEvent=xe.fire,xe.hasEventListeners=xe.listens;var Me=v.extend(xe),Te=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(t){return this.clone()._add(w(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(w(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new b(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new b(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(t){t=w(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=w(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=w(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},x.prototype={extend:function(t){return t=w(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof b?w(t):M(t),t instanceof x?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=M(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=M(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},T.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof S)e=t,n=t;else{if(!(t instanceof T))return t?this.extend(C(t)||k(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new S(e.lat,e.lng),this._northEast=new S(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new T(new S(e.lat-i,e.lng-r),new S(n.lat+i,n.lng+r))},getCenter:function(){return new S((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new S(this.getNorth(),this.getWest())},getSouthEast:function(){return new S(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof S||"lat"in t?C(t):k(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof T?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=k(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=k(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=k(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},S.prototype={equals:function(t,e){return!!t&&(t=C(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+s(this.lat,t)+", "+s(this.lng,t)+")"},distanceTo:function(t){return Le.distance(this,C(t))},wrap:function(){return Le.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return k([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new S(this.lat,this.lng,this.alt)}};var ke={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new x(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new S(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new T(new S(o.lat-i,o.lng-r),new S(a.lat-i,a.lng-r))}},Le=e({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),Se={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new b(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new S((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new x([-t,-t],[t,t])}()};E.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new b((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Ce,Ee,Pe,Ae,Ne=e({},Le,{code:"EPSG:3857",projection:Se,transformation:function(){var t=.5/(Math.PI*Se.R);return P(t,.5,-t,.5)}()}),ze=e({},Ne,{code:"EPSG:900913"}),Ie=document.documentElement.style,De="ActiveXObject"in window,Oe=De&&!document.addEventListener,Re="msLaunchUri"in navigator&&!("documentMode"in document),Be=z("webkit"),Fe=z("android"),Ze=z("android 2")||z("android 3"),Ue=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),je=Fe&&z("Google")&&Ue<537&&!("AudioNode"in window),Ve=!!window.opera,Ge=z("chrome"),qe=z("gecko")&&!Be&&!Ve&&!De,He=!Ge&&z("safari"),We=z("phantom"),Ye="OTransition"in Ie,Xe=0===navigator.platform.indexOf("Win"),Ke=De&&"transition"in Ie,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ze,Je="MozPerspective"in Ie,Qe=!window.L_DISABLE_3D&&(Ke||$e||Je)&&!Ye&&!We,tn="undefined"!=typeof orientation||z("mobile"),en=tn&&Be,nn=tn&&$e,rn=!window.PointerEvent&&window.MSPointerEvent,on=!(!window.PointerEvent&&!rn),an=!window.L_NO_TOUCH&&(on||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),sn=tn&&Ve,un=tn&&qe,ln=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cn=function(){return!!document.createElement("canvas").getContext}(),hn=!(!document.createElementNS||!A("svg").createSVGRect),fn=!hn&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),dn=(Object.freeze||Object)({ie:De,ielt9:Oe,edge:Re,webkit:Be,android:Fe,android23:Ze,androidStock:je,opera:Ve,chrome:Ge,gecko:qe,safari:He,phantom:We,opera12:Ye,win:Xe,ie3d:Ke,webkit3d:$e,gecko3d:Je,any3d:Qe,mobile:tn,mobileWebkit:en,mobileWebkit3d:nn,msPointer:rn,pointer:on,touch:an,mobileOpera:sn,mobileGecko:un,retina:ln,canvas:cn,svg:hn,vml:fn}),pn=rn?"MSPointerDown":"pointerdown",_n=rn?"MSPointerMove":"pointermove",mn=rn?"MSPointerUp":"pointerup",gn=rn?"MSPointerCancel":"pointercancel",vn=["INPUT","SELECT","OPTION"],yn={},bn=!1,wn=0,xn=rn?"MSPointerDown":on?"pointerdown":"touchstart",Mn=rn?"MSPointerUp":on?"pointerup":"touchend",Tn="_leaflet_",kn="_leaflet_events",Ln=Xe&&Ge?2*window.devicePixelRatio:qe?window.devicePixelRatio:1,Sn={},Cn=(Object.freeze||Object)({on:q,off:H,stopPropagation:X,disableScrollPropagation:K,disableClickPropagation:$,preventDefault:J,stop:Q,getMousePosition:tt,getWheelDelta:et,fakeStop:nt,skipped:it,isExternalTarget:rt,addListener:q,removeListener:H}),En=bt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Pn=bt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),An="webkitTransition"===Pn||"OTransition"===Pn?Pn+"End":"transitionend";if("onselectstart"in document)Ee=function(){q(window,"selectstart",J)},Pe=function(){H(window,"selectstart",J)};else{var Nn=bt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ee=function(){if(Nn){var t=document.documentElement.style;Ae=t[Nn],t[Nn]="none"}},Pe=function(){Nn&&(document.documentElement.style[Nn]=Ae,Ae=void 0)}}var zn,In,Dn=(Object.freeze||Object)({TRANSFORM:En,TRANSITION:Pn,TRANSITION_END:An,get:at,getStyle:st,create:ut,remove:lt,empty:ct,toFront:ht,toBack:ft,hasClass:dt,addClass:pt,removeClass:_t,setClass:mt,getClass:gt,setOpacity:vt,testProp:bt,setTransform:wt,setPosition:xt,getPosition:Mt,disableTextSelection:Ee,enableTextSelection:Pe,disableImageDrag:Tt,enableImageDrag:kt,preventOutline:Lt,restoreOutline:St}),On=Me.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Mt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),xt(this._el,n),this.fire("step")},_complete:function(){g(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Rn=Me.extend({options:{crs:Ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(C(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=Pn&&Qe&&!sn&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),q(this._proxy,An,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){if(n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(C(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Qe?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Qe?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof b?t:this.latLngToContainerPoint(t),a=o.subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():k(t);var n=w(e.paddingTopLeft||e.padding||[0,0]),i=w(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r);return{center:this.unproject(a.add(s).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(t=k(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=w(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new On,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){pt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=t?-1:1,n=t?g:_,i=g*g-_*_+e*b*b*v*v,r=2*n*b*v,o=i/r,a=Math.sqrt(o*o+1)-o;return a<1e-9?-18:Math.log(a)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return r(t)/o(t)}function s(t){return _*(o(w)/o(w+y*t))}function u(t){return _*(o(w)*a(w+y*t)-r(w))/b}function l(t){return 1-Math.pow(1-t,1.5)}function c(){var n=(Date.now()-x)/T,i=l(n)*M;n<=1?(this._flyToFrame=m(c,this),this._move(this.unproject(h.add(f.subtract(h).multiplyBy(u(i)/v)),p),this.getScaleZoom(_/s(i),p),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},!1===n.animate||!Qe)return this.setView(t,e,n);this._stop();var h=this.project(this.getCenter()),f=this.project(t),d=this.getSize(),p=this._zoom;t=C(t),e=void 0===e?p:e;var _=Math.max(d.x,d.y),g=_*this.getZoomScale(p,e),v=f.distanceTo(h)||1,y=1.42,b=y*y,w=i(0),x=Date.now(),M=(i(1)-w)/y,T=n.duration?1e3*n.duration:1e3*M*.8;return this._moveStart(!0,n.noMoveStart),c.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=k(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,k(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,t):navigator.geolocation.getCurrentPosition(i,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new S(e,n),r=i.toBounds(t.coords.accuracy),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(s[u]=t.coords[u]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)lt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=ut("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=k(t),n=w(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=M(this.project(s,i),this.project(a,i)).getSize(),c=Qe?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new x(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(C(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(w(t),e)},layerPointToLatLng:function(t){var e=w(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(C(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(C(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(k(t))},distance:function(t,e){return this.options.crs.distance(C(t),C(e))},containerPointToLayerPoint:function(t){return w(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return w(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(w(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))},mouseEventToContainerPoint:function(t){return tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=at(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");q(e,"scroll",this._onScroll,this),this._containerId=i(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qe,pt(t,"leaflet-container"+(an?" leaflet-touch":"")+(ln?" leaflet-retina":"")+(Oe?" leaflet-oldie":"")+(He?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=st(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xt(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(t.markerPane,"leaflet-zoom-hide"),pt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){xt(this._mapPane,new b(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return g(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){xt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[i(this._container)]=this;var e=t?H:q;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Qe&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if((n=this._targets[i(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!rt(a,t))break;if(r.push(n),o)break}if(a===this._container)break;a=a.parentNode}return r.length||s||o||!rt(a,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!it(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Lt(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n)),i.length)){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&J(t);var a={originalEvent:t};if("keypress"!==t.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(n,a,!0),a.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==d(this._mouseEvents,n))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Mt(this._mapPane)||new b(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return M([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new x(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new x(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=M(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new b(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Qe?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=En,n=this._proxy.style[e];wt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();wt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(m(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,r){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m(function(){this._moveEnd(!0)},this))}}),Bn=v.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return pt(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Fn=function(t){return new Bn(t)};Rn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var o=n+t+" "+n+r;e[t+r]=ut("div",o,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=ut("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)lt(this._controlCorners[t]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zn=Bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){c(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Bn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(i(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(pt(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):_t(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ut("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),$(e),K(e);var i=this._form=ut("form",t+"-list");n&&(this._map.on("click",this.collapse,this),Fe||q(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=ut("a",t+"-toggle",e);r.href="#",r.title="Layers",an?(q(r,"click",Q),q(r,"click",this.expand,this)):q(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ut("div",t+"-base",i),this._separator=ut("div",t+"-separator",i),this._overlaysList=ut("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&i(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ct(this._baseLayersList),ct(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(i(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=i(t.layer),q(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(e),a.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Un=function(t,e,n){return new Zn(t,e,n)},jn=Bn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ut("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=ut("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),$(o),q(o,"click",Q),q(o,"click",r,this),q(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";_t(this._zoomInButton,e),_t(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&pt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&pt(this._zoomInButton,e)}});Rn.mergeOptions({zoomControl:!0}),Rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new jn,this.addControl(this.zoomControl))});var Vn=function(t){return new jn(t)},Gn=Bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ut("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ut("div",e,n)),t.imperial&&(this._iScale=ut("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),qn=function(t){return new Gn(t)},Hn=Bn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),$(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Rn.mergeOptions({attributionControl:!0}),Rn.addInitHook(function(){this.options.attributionControl&&(new Hn).addTo(this)});var Wn=function(t){return new Hn(t)};Bn.Layers=Zn,Bn.Zoom=jn,Bn.Scale=Gn,Bn.Attribution=Hn,Fn.layers=Un,Fn.zoom=Vn,Fn.scale=qn,Fn.attribution=Wn;var Yn=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(t,e){return t.addHandler(e,this),this};var Xn,Kn={Events:xe},$n=an?"touchstart mousedown":"mousedown",Jn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Qn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ti=Me.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){c(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(q(this._dragStartTarget,$n,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ti._dragging===this&&this.finishDrag(),H(this._dragStartTarget,$n,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!dt(this._element,"leaflet-zoom-anim")&&!(ti._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ti._dragging=this,this._preventOutline&&Lt(this._element),Tt(),Ee(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new b(e.clientX,e.clientY),q(document,Qn[t.type],this._onMove,this),q(document,Jn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new b(e.clientX,e.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(J(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Mt(this._element).subtract(i),pt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,g(this._animRequest),this._lastEvent=t,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),xt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Qn)H(document,Qn[t],this._onMove,this),H(document,Jn[t],this._onUp,this);kt(),Pe(),this._moved&&this._moving&&(g(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ti._dragging=!1}}),ei=(Object.freeze||Object)({simplify:Et,pointToSegmentDistance:Pt,closestPointOnSegment:At,clipSegment:Dt,_getEdgeIntersection:Ot,_getBitCode:Rt,_sqClosestPointOnSegment:Ft,isFlat:Zt,_flat:Ut}),ni=(Object.freeze||Object)({clipPolygon:jt}),ii={project:function(t){return new b(t.lng,t.lat)},unproject:function(t){return new S(t.y,t.x)},bounds:new x([-180,-90],[180,90])},ri={R:6378137,R_MINOR:6356752.314245179,bounds:new x([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new b(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(a*e)-s,s+=l;return new S(s*n,t.x*n/i)}},oi=(Object.freeze||Object)({LonLat:ii,Mercator:ri,SphericalMercator:Se}),ai=e({},Le,{code:"EPSG:3395",projection:ri,transformation:function(){var t=.5/(Math.PI*ri.R);return P(t,.5,-t,.5)}()}),si=e({},Le,{code:"EPSG:4326",projection:ii,transformation:P(1/180,1,-1/180,.5)}),ui=e({},ke,{projection:ii,transformation:P(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});ke.Earth=Le,ke.EPSG3395=ai,ke.EPSG3857=Ne,ke.EPSG900913=ze,ke.EPSG4326=si,ke.Simple=ui;var li=Me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[i(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Rn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=i(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?me(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=li.extend({initialize:function(t,e){c(this,e),this._layers={};var n,i;if(t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i(t)}}),hi=function(t,e){return new ci(t,e)},fi=ci.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ci.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ci.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new T;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),di=function(t){return new fi(t)},pi=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=w(i),o=w("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return ln&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),_i=pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return _i.imagePath||(_i.imagePath=this._detectIconPath()),(this.options.imagePath||_i.imagePath)+pi.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ut("div","leaflet-default-icon-path",document.body),e=st(t,"background-image")||st(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),mi=Yn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ti(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=L.DomUtil.getPosition(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=M(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!u.contains(o)){var l=w((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),L.DomUtil.setPosition(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=m(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(g(this._panRequest),this._panRequest=m(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Mt(e._icon),r=e._map.layerPointToLatLng(i);n&&xt(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){g(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),gi=li.extend({options:{icon:new _i,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){c(this,e),this._latlng=C(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=C(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),pt(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(pt(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(t){xt(this._icon,t),this._shadow&&xt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;vt(this._icon,t),this._shadow&&vt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),vi=li.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),yi=vi.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=C(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=C(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return vi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new x(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),bi=yi.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),c(this,n),this._latlng=C(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:vi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Le.distance){var r=Math.PI/180,o=this._mRadius/Le.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-a.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),wi=vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=Ft,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){e=u[l-1],n=u[l];var h=o(t,e,n,!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<u-1;t++)if(r=s[t],o=s[t+1],n=r.distanceTo(o),(i+=n)>e)return a=(i-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=C(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Zt(t),i=0,r=t.length;i<r;i++)n?(e[i]=C(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new x;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new b(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof S,a=t.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,r,o,a,s,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(s=this._rings[e],n=0,o=s.length;n<o-1;n++)(a=Dt(s[n],s[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Et(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(s=this._parts[n],i=0,a=s.length,r=a-1;i<a;r=i++)if((e||0!==i)&&Pt(t,s[r],s[i])<=u)return!0;return!1}});wi._flat=Ut;var xi=wi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=wi.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof S&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){wi.prototype._setLatLngs.call(this,t),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new b(e,e);if(t=new x(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,r=0,o=this._rings.length;r<o;r++)i=jt(this._rings[r],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,a,s,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,s=this._parts.length;r<s;r++)for(e=this._parts[r],o=0,u=e.length,a=u-1;o<u;a=o++)n=e[o],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||wi.prototype._containsPoint.call(this,t,!0)}}),Mi=fi.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=me(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Xt(t,o);return a?(a.feature=ee(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Ti={toGeoJSON:function(t){return te(this,{type:"Point",coordinates:Jt(this.getLatLng(),t)})}};gi.include(Ti),bi.include(Ti),yi.include(Ti),wi.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),n=Qt(this._latlngs,e?1:0,!1,t);return te(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),xi.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),n=e&&!Zt(this._latlngs[0]),i=Qt(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),te(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),ci.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),te(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=ee(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?te(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var ki=ne,Li=li.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=k(e),c(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ht(this._image),this},bringToBack:function(){return this._map&&ft(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=k(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ut("img");if(pt(e,"leaflet-image-layer"),this._zoomAnimated&&pt(e,"leaflet-zoom-animated"),this.options.className&&pt(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t)return void(this._url=e.src);e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;wt(this._image,n,e)},_reset:function(){var t=this._image,e=new x(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();xt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Si=function(t,e,n){return new Li(t,e,n)},Ci=Li.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ut("video");if(pt(e,"leaflet-image-layer"),this._zoomAnimated&&pt(e,"leaflet-zoom-animated"),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=n(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),r=[],o=0;o<i.length;o++)r.push(i[o].src);return void(this._url=i.length>0?r:[e.src])}me(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var u=ut("source");u.src=this._url[s],e.appendChild(u)}}}),Ei=li.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){c(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&vt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(n(lt,void 0,this._container),200)):lt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=C(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ht(this._container),this},bringToBack:function(){return this._map&&ft(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=w(this.options.offset),n=this._getAnchor();this._zoomAnimated?xt(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Pi=Ei.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ei.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vi||this._source.on("preclick",X))},onRemove:function(t){Ei.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vi||this._source.off("preclick",X))},getEvents:function(){var t=Ei.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ut("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ut("div",t+"-content-wrapper",e);if(this._contentNode=ut("div",t+"-content",n),$(n),K(this._contentNode),q(n,"contextmenu",X),this._tipContainer=ut("div",t+"-tip-container",e),this._tip=ut("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ut("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",q(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",pt(t,"leaflet-popup-scrolled")):_t(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();xt(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(st(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new b(this._containerLeft,-n-this._containerBottom);r._add(Mt(this._container));var o=t.layerPointToContainerPoint(r),a=w(this.options.autoPanPadding),s=w(this.options.autoPanPaddingTopLeft||a),u=w(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),c=0,h=0;o.x+i+u.x>l.x&&(c=o.x+i-l.x+u.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),Q(t)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ai=function(t,e){return new Pi(t,e)};Rn.mergeOptions({closePopupOnClick:!0}),Rn.include({openPopup:function(t,e,n){return t instanceof Pi||(t=new Pi(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),li.include({bindPopup:function(t,e){return t instanceof Pi?(c(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Pi(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof li||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map){if(Q(t),e instanceof vi)return void this.openPopup(t.layer||t.target,t.latlng);this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ni=Ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ei.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ei.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ei.prototype.getEvents.call(this);return an&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=w(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(w(-a/2+u.x,-s+u.y+l.y,!0)):"bottom"===o?t=t.subtract(w(a/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(w(a/2+u.x,s/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(w(u.x+l.x,l.y-s/2+u.y,!0))):(o="left",t=t.subtract(w(a+l.x-u.x,s/2-l.y-u.y,!0))),_t(n,"leaflet-tooltip-right"),_t(n,"leaflet-tooltip-left"),_t(n,"leaflet-tooltip-top"),_t(n,"leaflet-tooltip-bottom"),pt(n,"leaflet-tooltip-"+o),xt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&vt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zi=function(t,e){return new Ni(t,e)};Rn.include({openTooltip:function(t,e,n){return t instanceof Ni||(t=new Ni(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),li.include({bindTooltip:function(t,e){return t instanceof Ni?(c(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ni(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),an&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof li||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(pt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(_t(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ii=pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=w(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});pi.Default=_i;var Di=li.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tn,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),lt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ht(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ft(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof b?t:new b(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe){vt(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);vt(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(g(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(lt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||(i=this._levels[t]={},i.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)lt(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new b(+r,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>i&&this._retainParent(r,o,a,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var a=new b(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Qe?wt(t.el,r,i):xt(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new x(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,u=new x(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new b(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new b(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],_);this._level.el.appendChild(_)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return k(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new T(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new b(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(je||e.el.setAttribute("src",ge),lt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){pt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,Oe&&this.options.opacity<1&&vt(t,this.options.opacity),Fe&&!Ze&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&m(n(this._tileReady,this,t,null,o)),xt(o,i),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var r=this._tileCoordsToKey(t);i=this._tiles[r],i&&(i.loaded=+new Date,this._map._fadeAnimated?(vt(i.el,0),g(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(pt(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new b(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new x(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Oi=Di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=c(this,e),e.detectRetina&&ln&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),Fe||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return q(i,"load",n(this._tileOnLoad,this,e,i)),q(i,"error",n(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:ln?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return f(this._url,e(n,this.options))},_tileOnLoad:function(t,e){Oe?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=a,e.onerror=a,e.complete||(e.src=ge,lt(e),delete this._tiles[t]))}}),Ri=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);n=c(this,n);var o=n.detectRetina&&ln?2:1,a=this.getTileSize();i.width=a.x*o,i.height=a.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=M(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,a=(this._wmsVersion>=1.3&&this._crs===si?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=L.TileLayer.prototype.getTileUrl.call(this,t);return s+h(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});Oi.WMS=Ri,ae.wms=se;var Bi=li.extend({options:{padding:.1,tolerance:0},initialize:function(t){c(this,t),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=Mt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(s);Qe?wt(this._container,u,n):xt(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new x(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fi=Bi.extend({getEvents:function(){var t=Bi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Bi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");q(t,"mousemove",r(this._onMouseMove,32,this),this),q(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),q(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,lt(this._container),H(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Bi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=ln?2:1;xt(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",ln&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Bi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[i(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new x,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(nt(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(_t(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)n=r.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(pt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),Zi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Ui={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Bi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Zi("shape");pt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Zi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;lt(e),t.removeInteractiveTarget(e),delete this._layers[i(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Zi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=me(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Zi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ht(t._container)},_bringToBack:function(t){ft(t._container)}},ji=fn?Zi:A,Vi=Bi.extend({getEvents:function(){var t=Bi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),H(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Bi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),xt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ji("path");t.options.className&&pt(e,t.options.className),t.options.interactive&&pt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){lt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[i(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,N(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ht(t._path)},_bringToBack:function(t){ft(t._path)}});fn&&Vi.include(Ui),Rn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&ue()||le()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=Vi&&le({pane:t})||Fi&&ue({pane:t}),this._paneRenderers[t]=e),e}});var Gi=xi.extend({initialize:function(t,e){xi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=k(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Vi.create=ji,Vi.pointsToPath=N,Mi.geometryToLayer=Xt,Mi.coordsToLatLng=Kt,Mi.coordsToLatLngs=$t,Mi.latLngToCoords=Jt,Mi.latLngsToCoords=Qt,Mi.getFeature=te,Mi.asFeature=ee,Rn.mergeOptions({boxZoom:!0});var qi=Yn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){H(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Ee(),Tt(),this._startPoint=this._map.mouseEventToContainerPoint(t),q(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new x(this._point,this._startPoint),n=e.getSize();xt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(lt(this._box),_t(this._container,"leaflet-crosshair")),Pe(),kt(),H(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Rn.addInitHook("addHandler","boxZoom",qi),Rn.mergeOptions({doubleClickZoom:!0});var Hi=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Rn.addInitHook("addHandler","doubleClickZoom",Hi),Rn.mergeOptions({dragging:!0,inertia:!Ze,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wi=Yn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ti(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=k(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*a),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),m(function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Rn.addInitHook("addHandler","dragging",Wi),Rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yi=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),q(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),H(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){H(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=w(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Q(t)}}});Rn.addInitHook("addHandler","keyboard",Yi),Rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xi=Yn.extend({addHooks:function(){q(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){H(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=et(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),Q(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Rn.addInitHook("addHandler","scrollWheelZoom",Xi),Rn.mergeOptions({tap:!0,tapTolerance:15});var Ki=Yn.extend({addHooks:function(){q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){H(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(J(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new b(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&pt(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),q(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),H(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&_t(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new b(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});an&&!on&&Rn.addInitHook("addHandler","tap",Ki),Rn.mergeOptions({touchZoom:an&&!Ze,bounceAtZoomLimits:!0});var $i=Yn.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),H(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),q(document,"touchmove",this._onTouchMove,this),q(document,"touchend",this._onTouchEnd,this),J(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),g(this._animRequest);var s=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(s,this,!0),J(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,g(this._animRequest),H(document,"touchmove",this._onTouchMove),H(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rn.addInitHook("addHandler","touchZoom",$i),Rn.BoxZoom=qi,Rn.DoubleClickZoom=Hi,Rn.Drag=Wi,Rn.Keyboard=Yi,Rn.ScrollWheelZoom=Xi,Rn.Tap=Ki,Rn.TouchZoom=$i;var Ji=window.L;window.L=t,Object.freeze=fe,t.version="1.3.1",t.noConflict=he,t.Control=Bn,t.control=Fn,t.Browser=dn,t.Evented=Me,t.Mixin=Kn,t.Util=we,t.Class=v,t.Handler=Yn,t.extend=e,t.bind=n,t.stamp=i,t.setOptions=c,t.DomEvent=Cn,t.DomUtil=Dn,t.PosAnimation=On,t.Draggable=ti,t.LineUtil=ei,t.PolyUtil=ni,t.Point=b,t.point=w,t.Bounds=x,t.bounds=M,t.Transformation=E,t.transformation=P,t.Projection=oi,t.LatLng=S,t.latLng=C,t.LatLngBounds=T,t.latLngBounds=k,t.CRS=ke,t.GeoJSON=Mi,t.geoJSON=ne,t.geoJson=ki,t.Layer=li,t.LayerGroup=ci,t.layerGroup=hi,t.FeatureGroup=fi,t.featureGroup=di,t.ImageOverlay=Li,t.imageOverlay=Si,t.VideoOverlay=Ci,t.videoOverlay=ie,t.DivOverlay=Ei,t.Popup=Pi,t.popup=Ai,t.Tooltip=Ni,t.tooltip=zi,t.Icon=pi,t.icon=Vt,t.DivIcon=Ii,t.divIcon=re,t.Marker=gi,t.marker=Gt,t.TileLayer=Oi,t.tileLayer=ae,t.GridLayer=Di,t.gridLayer=oe,t.SVG=Vi,t.svg=le,t.Renderer=Bi,t.Canvas=Fi,t.canvas=ue,t.Path=vi,t.CircleMarker=yi,t.circleMarker=qt,t.Circle=bi,t.circle=Ht,t.Polyline=wi,t.polyline=Wt,t.Polygon=xi,t.polygon=Yt,t.Rectangle=Gi,t.rectangle=ce,t.Map=Rn,t.map=Ct})},function(t,e,n){function i(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var a=e[r][0],s=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(a-u)+s*(u-t[0])+l*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!n;s>t[1]!=l>t[1]&&t[0]<(u-a)*(t[1]-s)/(l-s)+a&&(i=!i)}return i}function r(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}var o=n(18),a=o.getCoord,s=o.getCoords;t.exports=function(t,e,n){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var o=a(t),u=s(e),l=e.geometry?e.geometry.type:e.type,c=e.bbox;if(c&&!1===r(o,c))return!1;"Polygon"===l&&(u=[u]);for(var h=0,f=!1;h<u.length&&!f;h++)if(i(o,u[h][0],n)){for(var d=!1,p=1;p<u[h].length&&!d;)i(o,u[h][p],!n)&&(d=!0),p++;d||(f=!0)}return f}},function(t,e){function n(t){if(!t)throw new Error("obj is required");var e=i(t);if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return e;throw new Error("Coordinate is not a valid Point")}function i(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return r(e),e;throw new Error("No valid coordinates")}function r(t){if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return!0;if(Array.isArray(t[0])&&t[0].length)return r(t[0]);throw new Error("coordinates must only contain numbers")}function o(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function a(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function s(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}function u(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function l(t){if(!t)throw new Error("geojson is required");var e=u(t);if(e)return e.type}t.exports={geojsonType:o,collectionOf:s,featureOf:a,getCoord:n,getCoords:i,containsNumber:r,getGeom:u,getGeomType:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),r=n.n(i),o=n(6),a=n(2),s=n(3),u=n(5),l=n(9);r.a.Vector=o.a,r.a.Cell=a.a,r.a.Field=s.a,r.a.ScalarField=u.a,r.a.VectorField=l.a,n(15),n(13),n(11),n(12),n(14),n(10),console.log("leaflet.canvaslayer.field v1.4.1 (in progress...)"),e.default=r.a},function(t,e,n){(function(t){var n,i;/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */
(function(){var r,o,a,s,u,l,c,h,f,d,p,_,m,g,v,y,b,w,x,M,T,k,L,S,C,E,P,A,N,z,I,D,O,R,B,F,Z,U,j,V,G,q,H,W,Y,X,K,$,J,Q,tt,et,nt,it,rt,ot,at,st,ut,lt,ct,ht,ft,dt,pt,_t,mt,gt,vt,yt,bt,wt,xt,Mt,Tt,kt,Lt,St,Ct,Et,Pt,At=[].slice;Lt=function(){var t,e,n,i,r;for(t={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),i=0,e=r.length;i<e;i++)n=r[i],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),K=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),t<e&&(t=e),t>n&&(t=n),t},St=function(t){return t.length>=3?[].slice.call(t):t[0]},T=function(t){var e,n;for(t._clipped=!1,t._unclipped=t.slice(0),e=n=0;n<3;e=++n)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},s=Math.PI,wt=Math.round,L=Math.cos,A=Math.floor,ot=Math.pow,$=Math.log,Mt=Math.sin,Tt=Math.sqrt,g=Math.atan2,tt=Math.max,m=Math.abs,c=2*s,u=s/3,o=s/180,l=180/s,M=function(){return arguments[0]instanceof r?arguments[0]:function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,arguments,function(){})},M.default=M,_=[],void 0!==t&&null!==t&&null!=t.exports&&(t.exports=M),n=[],void 0!==(i=function(){return M}.apply(e,n))&&(t.exports=i),M.version="1.3.5",p={},f=[],d=!1,r=function(){function t(){var t,e,n,i,r,o,a,s,u;for(o=this,e=[],s=0,i=arguments.length;s<i;s++)null!=(t=arguments[s])&&e.push(t);if(e.length>1&&(a=e[e.length-1]),null!=p[a])o._rgb=T(p[a](St(e.slice(0,-1))));else{for(d||(f=f.sort(function(t,e){return e.p-t.p}),d=!0),u=0,r=f.length;u<r&&(n=f[u],!(a=n.test.apply(n,e)));u++);a&&(o._rgb=T(p[a].apply(p,e)))}null==o._rgb&&console.warn("unknown format: "+e),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t.prototype.clone=function(){return M(me._rgb)},t}(),M._input=p,/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
M.brewer=w={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;e=[];for(t in w)e.push(w[t.toLowerCase()]=w[t])}(),Ct={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},M.colors=Ct,q=function(){var t,e,n,i,r,o,s,u,l;return e=St(arguments),r=e[0],t=e[1],n=e[2],u=(r+16)/116,s=isNaN(t)?u:u+t/500,l=isNaN(n)?u:u-n/200,u=a.Yn*H(u),s=a.Xn*H(s),l=a.Zn*H(l),o=Pt(3.2404542*s-1.5371385*u-.4985314*l),i=Pt(-.969266*s+1.8760108*u+.041556*l),n=Pt(.0556434*s-.2040259*u+1.0572252*l),[o,i,n,e.length>3?e[3]:1]},Pt=function(t){return 255*(t<=.00304?12.92*t:1.055*ot(t,1/2.4)-.055)},H=function(t){return t>a.t1?t*t*t:a.t2*(t-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},dt=function(){var t,e,n,i,r,o,a,s;return i=St(arguments),n=i[0],e=i[1],t=i[2],r=vt(n,e,t),o=r[0],a=r[1],s=r[2],[116*a-16,500*(o-a),200*(a-s)]},yt=function(t){return(t/=255)<=.04045?t/12.92:ot((t+.055)/1.055,2.4)},Et=function(t){return t>a.t3?ot(t,1/3):t/a.t2+a.t0},vt=function(){var t,e,n,i,r,o,s;return i=St(arguments),n=i[0],e=i[1],t=i[2],n=yt(n),e=yt(e),t=yt(t),r=Et((.4124564*n+.3575761*e+.1804375*t)/a.Xn),o=Et((.2126729*n+.7151522*e+.072175*t)/a.Yn),s=Et((.0193339*n+.119192*e+.9503041*t)/a.Zn),[r,o,s]},M.lab=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["lab"]),function(){})},p.lab=q,r.prototype.lab=function(){return dt(this._rgb)},v=function(t){var e,n,i,r,o,a,s,u,l,c,h;return t=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(M(r));return i}(),2===t.length?(l=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=l[0],a=l[1],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push(o[e]+t*(a[e]-o[e]));return i}(),M.lab.apply(M,n)}):3===t.length?(c=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=c[0],a=c[1],s=c[2],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push((1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]);return i}(),M.lab.apply(M,n)}):4===t.length?(h=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=h[0],a=h[1],s=h[2],u=h[3],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*u[e]);return i}(),M.lab.apply(M,n)}):5===t.length&&(n=v(t.slice(0,3)),i=v(t.slice(2,5)),e=function(t){return t<.5?n(2*t):i(2*(t-.5))}),e},M.bezier=function(t){var e;return e=v(t),e.scale=function(){return M.scale(e)},e},M.cubehelix=function(t,e,n,i,r){var o,a,s;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==i&&(i=1),null==r&&(r=[0,1]),o=0,"array"===Lt(r)?a=r[1]-r[0]:(a=0,r=[r,r]),s=function(s){var u,l,h,f,d,p,_,m,g;return u=c*((t+120)/360+e*s),_=ot(r[0]+a*s,i),p=0!==o?n[0]+s*o:n,l=p*_*(1-_)/2,f=L(u),g=Mt(u),m=_+l*(-.14861*f+1.78277*g),d=_+l*(-.29227*f-.90649*g),h=_+l*(1.97294*f),M(T([255*m,255*d,255*h]))},s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?i:(i=t,s)},s.hue=function(t){return null==t?n:(n=t,"array"===Lt(n)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(t){return null==t?r:("array"===Lt(t)?(r=t,a=t[1]-t[0]):(r=[t,t],a=0),s)},s.scale=function(){return M.scale(s)},s.hue(n),s},M.random=function(){var t,e,n;for(e="0123456789abcdef",t="#",n=0;n<6;++n)t+=e.charAt(A(16*Math.random()));return new r(t)},_=[],B=function(t,e,n,i){var r,o,a,s;for(null==n&&(n=.5),null==i&&(i="rgb"),"object"!==Lt(t)&&(t=M(t)),"object"!==Lt(e)&&(e=M(e)),a=0,o=_.length;a<o;a++)if(r=_[a],i===r[0]){s=r[1](t,e,n,i);break}if(null==s)throw"color mode "+i+" is not supported";return s.alpha(t.alpha()+n*(e.alpha()-t.alpha()))},M.interpolate=B,r.prototype.interpolate=function(t,e,n){return B(this,t,e,n)},M.mix=B,r.prototype.mix=r.prototype.interpolate,p.rgb=function(){var t,e,n,i;e=St(arguments),n=[];for(t in e)i=e[t],n.push(i);return n},M.rgb=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["rgb"]),function(){})},r.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(t){var e;return e=St(arguments),"array"===Lt(e)&&3===e.length?"rgb":4===e.length&&"number"===Lt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),p.lrgb=p.rgb,U=function(t,e,n,i){var o,a;return o=t._rgb,a=e._rgb,new r(Tt(ot(o[0],2)*(1-n)+ot(a[0],2)*n),Tt(ot(o[1],2)*(1-n)+ot(a[1],2)*n),Tt(ot(o[2],2)*(1-n)+ot(a[2],2)*n),i)},h=function(t){var e,n,i,o,a,s;for(n=1/t.length,s=[0,0,0,0],o=0,i=t.length;o<i;o++)e=t[o],a=e._rgb,s[0]+=ot(a[0],2)*n,s[1]+=ot(a[1],2)*n,s[2]+=ot(a[2],2)*n,s[3]+=a[3]*n;return s[0]=Tt(s[0]),s[1]=Tt(s[1]),s[2]=Tt(s[2]),new r(s)},_.push(["lrgb",U]),M.average=function(t,e){var n,i,r,o,a,u,l,c,f,d,p,_,m;if(null==e&&(e="rgb"),f=t.length,t=t.map(function(t){return M(t)}),l=t.splice(0,1)[0],"lrgb"===e)return h(t);_=l.get(e),o=[],a=0,u=0;for(c in _)_[c]=_[c]||0,o.push(isNaN(_[c])?0:1),"h"!==e.charAt(c)||isNaN(_[c])||(n=_[c]/180*s,a+=L(n),u+=Mt(n));for(i=l.alpha(),p=0,d=t.length;p<d;p++){r=t[p],m=r.get(e),i+=r.alpha();for(c in _)isNaN(m[c])||(_[c]+=m[c],o[c]+=1,"h"===e.charAt(c)&&(n=_[c]/180*s,a+=L(n),u+=Mt(n)))}for(c in _)if(_[c]=_[c]/o[c],"h"===e.charAt(c)){for(n=g(u/o[c],a/o[c])/s*180;n<0;)n+=360;for(;n>=360;)n-=360;_[c]=n}return M(_,e).alpha(i/f)},z=function(t){var e,n,i,r,o,a;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),a=parseInt(t,16),r=a>>16,i=a>>8&255,n=255&a,[r,i,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),a=parseInt(t,16),r=a>>24&255,i=a>>16&255,n=a>>8&255,e=wt((255&a)/255*100)/100,[r,i,n,e];if(null!=p.css&&(o=p.css(t)))return o;throw"unknown color: "+t},lt=function(t,e){var n,i,r,o,a,s,u;return null==e&&(e="rgb"),a=t[0],r=t[1],i=t[2],n=t[3],a=Math.round(a),r=Math.round(r),i=Math.round(i),u=a<<16|r<<8|i,s="000000"+u.toString(16),s=s.substr(s.length-6),o="0"+wt(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},p.hex=function(t){return z(t)},M.hex=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["hex"]),function(){})},r.prototype.hex=function(t){return null==t&&(t="rgb"),lt(this._rgb,t)},f.push({p:4,test:function(t){if(1===arguments.length&&"string"===Lt(t))return"hex"}}),O=function(){var t,e,n,i,r,o,a,s,u,l,c,h,f,d;if(t=St(arguments),r=t[0],c=t[1],a=t[2],0===c)u=i=e=255*a;else{for(d=[0,0,0],n=[0,0,0],f=a<.5?a*(1+c):a+c-a*c,h=2*a-f,r/=360,d[0]=r+1/3,d[1]=r,d[2]=r-1/3,o=s=0;s<=2;o=++s)d[o]<0&&(d[o]+=1),d[o]>1&&(d[o]-=1),6*d[o]<1?n[o]=h+6*(f-h)*d[o]:2*d[o]<1?n[o]=f:3*d[o]<2?n[o]=h+(f-h)*(2/3-d[o])*6:n[o]=h;l=[wt(255*n[0]),wt(255*n[1]),wt(255*n[2])],u=l[0],i=l[1],e=l[2]}return t.length>3?[u,i,e,t[3]]:[u,i,e]},ht=function(t,e,n){var i,r,o,a,s;return void 0!==t&&t.length>=3&&(a=t,t=a[0],e=a[1],n=a[2]),t/=255,e/=255,n/=255,o=Math.min(t,e,n),tt=Math.max(t,e,n),r=(tt+o)/2,tt===o?(s=0,i=Number.NaN):s=r<.5?(tt-o)/(tt+o):(tt-o)/(2-tt-o),t===tt?i=(e-n)/(tt-o):e===tt?i=2+(n-t)/(tt-o):n===tt&&(i=4+(t-e)/(tt-o)),i*=60,i<0&&(i+=360),[i,s,r]},M.hsl=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["hsl"]),function(){})},p.hsl=O,r.prototype.hsl=function(){return ht(this._rgb)},R=function(){var t,e,n,i,r,o,a,s,u,l,c,h,f,d,p,_,m,g;if(t=St(arguments),r=t[0],_=t[1],g=t[2],g*=255,0===_)u=i=e=g;else switch(360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60,o=A(r),n=r-o,a=g*(1-_),s=g*(1-_*n),m=g*(1-_*(1-n)),o){case 0:l=[g,m,a],u=l[0],i=l[1],e=l[2];break;case 1:c=[s,g,a],u=c[0],i=c[1],e=c[2];break;case 2:h=[a,g,m],u=h[0],i=h[1],e=h[2];break;case 3:f=[a,s,g],u=f[0],i=f[1],e=f[2];break;case 4:d=[m,a,g],u=d[0],i=d[1],e=d[2];break;case 5:p=[g,a,s],u=p[0],i=p[1],e=p[2]}return[u,i,e,t.length>3?t[3]:1]},ft=function(){var t,e,n,i,r,o,a,s,u;return a=St(arguments),o=a[0],n=a[1],t=a[2],r=Math.min(o,n,t),tt=Math.max(o,n,t),e=tt-r,u=tt/255,0===tt?(i=Number.NaN,s=0):(s=e/tt,o===tt&&(i=(n-t)/e),n===tt&&(i=2+(t-o)/e),t===tt&&(i=4+(o-n)/e),(i*=60)<0&&(i+=360)),[i,s,u]},M.hsv=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["hsv"]),function(){})},p.hsv=R,r.prototype.hsv=function(){return ft(this._rgb)},it=function(t){var e,n,i;return"number"===Lt(t)&&t>=0&&t<=16777215?(i=t>>16,n=t>>8&255,e=255&t,[i,n,e,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},mt=function(){var t,e,n,i;return i=St(arguments),n=i[0],e=i[1],t=i[2],(n<<16)+(e<<8)+t},M.num=function(t){return new r(t,"num")},r.prototype.num=function(t){return null==t&&(t="rgb"),mt(this._rgb,t)},p.num=it,f.push({p:1,test:function(t){if(1===arguments.length&&"number"===Lt(t)&&t>=0&&t<=16777215)return"num"}}),N=function(){var t,e,n,i,r,o,a,s,u,l,c,h,f,d,p,_,m,g,v,y;if(n=St(arguments),s=n[0],r=n[1],e=n[2],r/=100,a=a/100*255,t=255*r,0===r)h=a=i=e;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),s/=60,u=A(s),o=s-u,l=e*(1-r),c=l+t*(1-o),v=l+t*o,y=l+t,u){case 0:f=[y,v,l],h=f[0],a=f[1],i=f[2];break;case 1:d=[c,y,l],h=d[0],a=d[1],i=d[2];break;case 2:p=[l,y,v],h=p[0],a=p[1],i=p[2];break;case 3:_=[l,c,y],h=_[0],a=_[1],i=_[2];break;case 4:m=[v,l,y],h=m[0],a=m[1],i=m[2];break;case 5:g=[y,l,c],h=g[0],a=g[1],i=g[2]}return[h,a,i,n.length>3?n[3]:1]},ut=function(){var t,e,n,i,r,o,a,s,u;return u=St(arguments),s=u[0],r=u[1],e=u[2],a=Math.min(s,r,e),tt=Math.max(s,r,e),i=tt-a,n=100*i/255,t=a/(255-i)*100,0===i?o=Number.NaN:(s===tt&&(o=(r-e)/i),r===tt&&(o=2+(e-s)/i),e===tt&&(o=4+(s-r)/i),(o*=60)<0&&(o+=360)),[o,n,t]},M.hcg=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["hcg"]),function(){})},p.hcg=N,r.prototype.hcg=function(){return ut(this._rgb)},S=function(t){var e,n,i,r,o,a,s,u;if(t=t.toLowerCase(),null!=M.colors&&M.colors[t])return z(M.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),r=a=0;a<=2;r=++a)s[r]=+s[r];s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),r=u=0;u<=3;r=++u)s[r]=+s[r];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),r=e=0;e<=2;r=++e)s[r]=wt(2.55*s[r]);s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),r=n=0;n<=2;r=++n)s[r]=wt(2.55*s[r]);s[3]=+s[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,s=O(i),s[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,s=O(i),s[3]=+o[4]);return s},st=function(t){var e;return e=t[3]<1?"rgba":"rgb","rgb"===e?e+"("+t.slice(0,3).map(wt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(wt).join(",")+","+t[3]+")":void 0},bt=function(t){return wt(100*t)/100},D=function(t,e){var n;return n=e<1?"hsla":"hsl",t[0]=bt(t[0]||0),t[1]=bt(100*t[1])+"%",t[2]=bt(100*t[2])+"%","hsla"===n&&(t[3]=e),n+"("+t.join(",")+")"},p.css=function(t){return S(t)},M.css=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["css"]),function(){})},r.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?st(this._rgb):"hsl"===t.slice(0,3)?D(this.hsl(),this.alpha()):void 0},p.named=function(t){return z(Ct[t])},f.push({p:5,test:function(t){if(1===arguments.length&&null!=Ct[t])return"named"}}),r.prototype.name=function(t){var e,n;arguments.length&&(Ct[t]&&(this._rgb=z(Ct[t])),this._rgb[3]=1),e=this.hex();for(n in Ct)if(e===Ct[n])return n;return e},W=function(){var t,e,n,i;return i=St(arguments),n=i[0],t=i[1],e=i[2],e*=o,[n,L(e)*t,Mt(e)*t]},Y=function(){var t,e,n,i,r,o,a,s,u,l,c;return n=St(arguments),s=n[0],r=n[1],a=n[2],l=W(s,r,a),t=l[0],e=l[1],i=l[2],c=q(t,e,i),u=c[0],o=c[1],i=c[2],[u,o,i,n.length>3?n[3]:1]},G=function(){var t,e,n,i,r,o;return o=St(arguments),r=o[0],t=o[1],e=o[2],n=Tt(t*t+e*e),i=(g(e,t)*l+360)%360,0===wt(1e4*n)&&(i=Number.NaN),[r,n,i]},pt=function(){var t,e,n,i,r,o,a;return o=St(arguments),r=o[0],n=o[1],e=o[2],a=dt(r,n,e),i=a[0],t=a[1],e=a[2],G(i,t,e)},M.lch=function(){var t;return t=St(arguments),new r(t,"lch")},M.hcl=function(){var t;return t=St(arguments),new r(t,"hcl")},p.lch=Y,p.hcl=function(){var t,e,n,i;return i=St(arguments),e=i[0],t=i[1],n=i[2],Y([n,t,e])},r.prototype.lch=function(){return pt(this._rgb)},r.prototype.hcl=function(){return pt(this._rgb).reverse()},at=function(t){var e,n,i,r,o,a,s,u,l;return null==t&&(t="rgb"),u=St(arguments),s=u[0],r=u[1],e=u[2],s/=255,r/=255,e/=255,o=1-Math.max(s,Math.max(r,e)),i=o<1?1/(1-o):0,n=(1-s-o)*i,a=(1-r-o)*i,l=(1-e-o)*i,[n,a,l,o]},k=function(){var t,e,n,i,r,o,a,s,u;return e=St(arguments),i=e[0],a=e[1],u=e[2],o=e[3],t=e.length>4?e[4]:1,1===o?[0,0,0,t]:(s=i>=1?0:255*(1-i)*(1-o),r=a>=1?0:255*(1-a)*(1-o),n=u>=1?0:255*(1-u)*(1-o),[s,r,n,t])},p.cmyk=function(){return k(St(arguments))},M.cmyk=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["cmyk"]),function(){})},r.prototype.cmyk=function(){return at(this._rgb)},p.gl=function(){var t,e,n,i,r;for(i=function(){var t,n;t=St(arguments),n=[];for(e in t)r=t[e],n.push(r);return n}.apply(this,arguments),t=n=0;n<=2;t=++n)i[t]*=255;return i},M.gl=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["gl"]),function(){})},r.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},_t=function(t,e,n){var i;return i=St(arguments),t=i[0],e=i[1],n=i[2],t=J(t),e=J(e),n=J(n),.2126*t+.7152*e+.0722*n},J=function(t){return t/=255,t<=.03928?t/12.92:ot((t+.055)/1.055,2.4)},V=function(t,e,n,i){var o,a;return o=t._rgb,a=e._rgb,new r(o[0]+n*(a[0]-o[0]),o[1]+n*(a[1]-o[1]),o[2]+n*(a[2]-o[2]),i)},_.push(["rgb",V]),r.prototype.luminance=function(t,e){var n,i,r,o;return null==e&&(e="rgb"),arguments.length?(0===t?this._rgb=[0,0,0,this._rgb[3]]:1===t?this._rgb=[255,255,255,this._rgb[3]]:(i=1e-7,r=20,o=function(n,a){var s,u;return u=n.interpolate(a,.5,e),s=u.luminance(),Math.abs(t-s)<i||!r--?u:s>t?o(n,u):o(u,a)},n=_t(this._rgb),this._rgb=(n>t?o(M("black"),this):o(this,M("white"))).rgba()),this):_t(this._rgb)},kt=function(t){var e,n,i,r;return r=t/100,r<66?(i=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*$(n),e=r<20?0:.8274096064007395*(e=r-10)-254.76935184120902+115.67994401066147*$(e)):(i=351.97690566805693+.114206453784165*(i=r-55)-40.25366309332127*$(i),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*$(n),e=255),[i,n,e]},gt=function(){var t,e,n,i,r,o,a,s;for(o=St(arguments),r=o[0],o[1],t=o[2],i=1e3,n=4e4,e=.4;n-i>e;)s=.5*(n+i),a=kt(s),a[2]/a[0]>=t/r?n=s:i=s;return wt(s)},M.temperature=M.kelvin=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["temperature"]),function(){})},p.temperature=p.kelvin=p.K=kt,r.prototype.temperature=function(){return gt(this._rgb)},r.prototype.kelvin=r.prototype.temperature,M.contrast=function(t,e){var n,i,o,a;return"string"!==(o=Lt(t))&&"number"!==o||(t=new r(t)),"string"!==(a=Lt(e))&&"number"!==a||(e=new r(e)),n=t.luminance(),i=e.luminance(),n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)},M.distance=function(t,e,n){var i,o,a,s,u,l,c;null==n&&(n="lab"),"string"!==(u=Lt(t))&&"number"!==u||(t=new r(t)),"string"!==(l=Lt(e))&&"number"!==l||(e=new r(e)),a=t.get(n),s=e.get(n),c=0;for(o in a)i=(a[o]||0)-(s[o]||0),c+=i*i;return Math.sqrt(c)},M.deltaE=function(t,e,n,i){var o,a,u,l,c,h,f,d,p,_,v,y,b,w,x,M,T,k,S,C,E,P,A,N,z,I,D;for(null==n&&(n=1),null==i&&(i=1),"string"!==(T=Lt(t))&&"number"!==T||(t=new r(t)),"string"!==(k=Lt(e))&&"number"!==k||(e=new r(e)),S=t.lab(),o=S[0],u=S[1],c=S[2],C=e.lab(),a=C[0],l=C[1],h=C[2],f=Tt(u*u+c*c),d=Tt(l*l+h*h),A=o<16?.511:.040975*o/(1+.01765*o),E=.0638*f/(1+.0131*f)+.638,M=f<1e-6?0:180*g(c,u)/s;M<0;)M+=360;for(;M>=360;)M-=360;return N=M>=164&&M<=345?.56+m(.2*L(s*(M+168)/180)):.36+m(.4*L(s*(M+35)/180)),p=f*f*f*f,x=Tt(p/(p+1900)),P=E*(x*N+1-x),w=o-a,b=f-d,v=u-l,y=c-h,_=v*v+y*y-b*b,z=w/(n*A),I=b/(i*E),D=P,Tt(z*z+I*I+_/(D*D))},r.prototype.get=function(t){var e,n,i,r,o,a;return i=this,o=t.split("."),r=o[0],e=o[1],a=i[r](),e?(n=r.indexOf(e),n>-1?a[n]:console.warn("unknown channel "+e+" in mode "+r)):a},r.prototype.set=function(t,e){var n,i,r,o,a,s;if(r=this,a=t.split("."),o=a[0],n=a[1],n)if(s=r[o](),(i=o.indexOf(n))>-1)if("string"===Lt(e))switch(e.charAt(0)){case"+":case"-":s[i]+=+e;break;case"*":s[i]*=+e.substr(1);break;case"/":s[i]/=+e.substr(1);break;default:s[i]=+e}else s[i]=e;else console.warn("unknown channel "+n+" in mode "+o);else s=e;return M(s,o).alpha(r.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(t){return arguments.length?M.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},r.prototype.darken=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lab(),e[0]-=a.Kn*t,M.lab(e).alpha(n.alpha())},r.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lch(),e[1]+=t*a.Kn,e[1]<0&&(e[1]=0),M.lch(e).alpha(n.alpha())},r.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},r.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),M(e[0]*t,e[1]*t,e[2]*t,t)},y=function(t,e,n){if(!y[n])throw"unknown blend mode "+n;return y[n](t,e)},b=function(t){return function(e,n){var i,r;return i=M(n).rgb(),r=M(e).rgb(),M(t(i,r),"rgb")}},P=function(t){return function(e,n){var i,r,o;for(o=[],i=r=0;r<=3;i=++r)o[i]=t(e[i],n[i]);return o}},nt=function(t,e){return t},et=function(t,e){return t*e/255},C=function(t,e){return t>e?e:t},X=function(t,e){return t>e?t:e},xt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},rt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},x=function(t,e){return 255*(1-(1-e/255)/(t/255))},E=function(t,e){return 255===t?255:(t=e/255*255/(1-t/255),t>255?255:t)},y.normal=b(P(nt)),y.multiply=b(P(et)),y.screen=b(P(xt)),y.overlay=b(P(rt)),y.darken=b(P(C)),y.lighten=b(P(X)),y.dodge=b(P(E)),y.burn=b(P(x)),M.blend=y,M.analyze=function(t){var e,n,i,r;for(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,e=t.length;n<e;n++)null==(r=t[n])||isNaN(r)||(i.values.push(r),i.sum+=r,r<i.min&&(i.min=r),r>i.max&&(i.max=r),i.count+=1);return i.domain=[i.min,i.max],i.limits=function(t,e){return M.limits(i,t,e)},i},M.scale=function(t,e){var n,i,r,o,a,s,u,l,c,h,f,d,p,_,m,g,v,y,b,w,x;return c="rgb",h=M("#ccc"),_=0,!1,a=[0,1],p=[],d=[0,0],n=!1,r=[],f=!1,l=0,u=1,o=!1,i={},m=!0,s=1,w=function(t){var e,n,i,o,a,s;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Lt(t)&&null!=M.brewer&&(t=M.brewer[t]||M.brewer[t.toLowerCase()]||t),"array"===Lt(t)){for(t=t.slice(0),e=i=0,o=t.length-1;0<=o?i<=o:i>=o;e=0<=o?++i:--i)n=t[e],"string"===Lt(n)&&(t[e]=M(n));for(p.length=0,e=s=0,a=t.length-1;0<=a?s<=a:s>=a;e=0<=a?++s:--s)p.push(e/(t.length-1))}return b(),r=t},v=function(t){var e,i;if(null!=n){for(i=n.length-1,e=0;e<i&&t>=n[e];)e++;return e-1}return 0},x=function(t){return t},function(t){var e,i,r,o,a;return a=t,n.length>2&&(o=n.length-1,e=v(t),r=n[0]+(n[1]-n[0])*(0+.5*_),i=n[o-1]+(n[o]-n[o-1])*(1-.5*_),a=l+(n[e]+.5*(n[e+1]-n[e])-r)/(i-r)*(u-l)),a},y=function(t,e){var o,a,f,_,g,y,b,w;if(null==e&&(e=!1),isNaN(t))return h;if(e?w=t:n&&n.length>2?(o=v(t),w=o/(n.length-2)):w=u!==l?(t-l)/(u-l):1,e||(w=x(w)),1!==s&&(w=ot(w,s)),w=d[0]+w*(1-d[0]-d[1]),w=Math.min(1,Math.max(0,w)),_=Math.floor(1e4*w),m&&i[_])a=i[_];else{if("array"===Lt(r))for(f=g=0,b=p.length-1;0<=b?g<=b:g>=b;f=0<=b?++g:--g){if(y=p[f],w<=y){a=r[f];break}if(w>=y&&f===p.length-1){a=r[f];break}if(w>y&&w<p[f+1]){w=(w-y)/(p[f+1]-y),a=M.interpolate(r[f],r[f+1],w,c);break}}else"function"===Lt(r)&&(a=r(w));m&&(i[_]=a)}return a},b=function(){return i={}},w(t),g=function(t){var e;return e=M(y(t)),f&&e[f]?e[f]():e},g.classes=function(t){var e;return null!=t?("array"===Lt(t)?(n=t,a=[t[0],t[t.length-1]]):(e=M.analyze(a),n=0===t?[e.min,e.max]:M.limits(e,"e",t)),g):n},g.domain=function(t){var e,n,i,o,s,c,h;if(!arguments.length)return a;if(l=t[0],u=t[t.length-1],p=[],i=r.length,t.length===i&&l!==u)for(s=0,o=t.length;s<o;s++)n=t[s],p.push((n-l)/(u-l));else for(e=h=0,c=i-1;0<=c?h<=c:h>=c;e=0<=c?++h:--h)p.push(e/(i-1));return a=[l,u],g},g.mode=function(t){return arguments.length?(c=t,b(),g):c},g.range=function(t,e){return w(t,e),g},g.out=function(t){return f=t,g},g.spread=function(t){return arguments.length?(_=t,g):_},g.correctLightness=function(t){return null==t&&(t=!0),o=t,b(),x=o?function(t){var e,n,i,r,o,a,s,u,l;for(e=y(0,!0).lab()[0],n=y(1,!0).lab()[0],s=e>n,i=y(t,!0).lab()[0],o=e+(n-e)*t,r=i-o,u=0,l=1,a=20;Math.abs(r)>.01&&a-- >0;)!function(){s&&(r*=-1),r<0?(u=t,t+=.5*(l-t)):(l=t,t+=.5*(u-t)),i=y(t,!0).lab()[0],r=i-o}();return t}:function(t){return t},g},g.padding=function(t){return null!=t?("number"===Lt(t)&&(t=[t,t]),d=t,g):d},g.colors=function(e,i){var o,s,u,l,c,h,f,d;if(arguments.length<2&&(i="hex"),c=[],0===arguments.length)c=r.slice(0);else if(1===e)c=[g(.5)];else if(e>1)s=a[0],o=a[1]-s,c=function(){h=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)h.push(t);return h}.apply(this).map(function(t){return g(s+t/(e-1)*o)});else{if(t=[],f=[],n&&n.length>2)for(u=d=1,l=n.length;1<=l?d<l:d>l;u=1<=l?++d:--d)f.push(.5*(n[u-1]+n[u]));else f=a;c=f.map(function(t){return g(t)})}return M[i]&&(c=c.map(function(t){return t[i]()})),c},g.cache=function(t){return null!=t?(m=t,g):m},g.gamma=function(t){return null!=t?(s=t,g):s},g},null==M.scales&&(M.scales={}),M.scales.cool=function(){return M.scale([M.hsl(180,1,.9),M.hsl(250,.7,.4)])},M.scales.hot=function(){return M.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},M.analyze=function(t,e,n){var i,r,o,a,s,u,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),i=function(t){null==t||isNaN(t)||(s.values.push(t),s.sum+=t,t<s.min&&(s.min=t),t>s.max&&(s.max=t),s.count+=1)},l=function(t,r){if(n(t,r))return i(null!=e&&"function"===Lt(e)?e(t):null!=e&&"string"===Lt(e)||"number"===Lt(e)?t[e]:t)},"array"===Lt(t))for(a=0,o=t.length;a<o;a++)u=t[a],l(u);else for(r in t)u=t[r],l(u,r);return s.domain=[s.min,s.max],s.limits=function(t,e){return M.limits(s,t,e)},s},M.limits=function(t,e,n){var i,r,o,a,s,u,l,c,h,f,d,p,_,g,v,y,b,w,x,T,k,L,S,C,E,P,N,z,I,D,O,R,B,F,Z,U,j,V,G,q,H,W,Y,X,K,J,Q,et,nt,it,rt,at,st,ut,lt;if(null==e&&(e="equal"),null==n&&(n=7),"array"===Lt(t)&&(t=M.analyze(t)),E=t.min,tt=t.max,t.sum,ut=t.values.sort(function(t,e){return t-e}),1===n)return[E,tt];if(S=[],"c"===e.substr(0,1)&&(S.push(E),S.push(tt)),"e"===e.substr(0,1)){for(S.push(E),T=O=1,Z=n-1;1<=Z?O<=Z:O>=Z;T=1<=Z?++O:--O)S.push(E+T/n*(tt-E));S.push(tt)}else if("l"===e.substr(0,1)){if(E<=0)throw"Logarithmic scales are only possible for values > 0";for(P=Math.LOG10E*$(E),C=Math.LOG10E*$(tt),S.push(E),T=lt=1,U=n-1;1<=U?lt<=U:lt>=U;T=1<=U?++lt:--lt)S.push(ot(10,P+T/n*(C-P)));S.push(tt)}else if("q"===e.substr(0,1)){for(S.push(E),T=i=1,W=n-1;1<=W?i<=W:i>=W;T=1<=W?++i:--i)R=(ut.length-1)*T/n,B=A(R),B===R?S.push(ut[B]):(F=R-B,S.push(ut[B]*(1-F)+ut[B+1]*F));S.push(tt)}else if("k"===e.substr(0,1)){for(z=ut.length,g=new Array(z),w=new Array(n),it=!0,I=0,y=null,y=[],y.push(E),T=r=1,Y=n-1;1<=Y?r<=Y:r>=Y;T=1<=Y?++r:--r)y.push(E+T/n*(tt-E));for(y.push(tt);it;){for(k=o=0,X=n-1;0<=X?o<=X:o>=X;k=0<=X?++o:--o)w[k]=0;for(T=a=0,K=z-1;0<=K?a<=K:a>=K;T=0<=K?++a:--a){for(st=ut[T],N=Number.MAX_VALUE,k=s=0,J=n-1;0<=J?s<=J:s>=J;k=0<=J?++s:--s)(x=m(y[k]-st))<N&&(N=x,v=k);w[v]++,g[T]=v}for(D=new Array(n),k=u=0,Q=n-1;0<=Q?u<=Q:u>=Q;k=0<=Q?++u:--u)D[k]=null;for(T=l=0,et=z-1;0<=et?l<=et:l>=et;T=0<=et?++l:--l)b=g[T],null===D[b]?D[b]=ut[T]:D[b]+=ut[T];for(k=c=0,nt=n-1;0<=nt?c<=nt:c>=nt;k=0<=nt?++c:--c)D[k]*=1/w[k];for(it=!1,k=h=0,j=n-1;0<=j?h<=j:h>=j;k=0<=j?++h:--h)if(D[k]!==y[T]){it=!0;break}y=D,I++,I>200&&(it=!1)}for(L={},k=f=0,V=n-1;0<=V?f<=V:f>=V;k=0<=V?++f:--f)L[k]=[];for(T=d=0,G=z-1;0<=G?d<=G:d>=G;T=0<=G?++d:--d)b=g[T],L[b].push(ut[T]);for(rt=[],k=p=0,q=n-1;0<=q?p<=q:p>=q;k=0<=q?++p:--p)rt.push(L[k][0]),rt.push(L[k][L[k].length-1]);for(rt=rt.sort(function(t,e){return t-e}),S.push(rt[0]),T=_=1,H=rt.length-1;_<=H;T=_+=2)at=rt[T],isNaN(at)||-1!==S.indexOf(at)||S.push(at)}return S},I=function(t,e,n){var i,r,o,a;return i=St(arguments),t=i[0],e=i[1],n=i[2],isNaN(t)&&(t=0),t/=360,t<1/3?(r=(1-e)/3,a=(1+e*L(c*t)/L(u-c*t))/3,o=1-(r+a)):t<2/3?(t-=1/3,a=(1-e)/3,o=(1+e*L(c*t)/L(u-c*t))/3,r=1-(a+o)):(t-=2/3,o=(1-e)/3,r=(1+e*L(c*t)/L(u-c*t))/3,a=1-(o+r)),a=K(n*a*3),o=K(n*o*3),r=K(n*r*3),[255*a,255*o,255*r,i.length>3?i[3]:1]},ct=function(){var t,e,n,i,r,o,a,s;return a=St(arguments),o=a[0],e=a[1],t=a[2],c=2*Math.PI,o/=255,e/=255,t/=255,r=Math.min(o,e,t),i=(o+e+t)/3,s=1-r/i,0===s?n=0:(n=(o-e+(o-t))/2,n/=Math.sqrt((o-e)*(o-e)+(o-t)*(e-t)),n=Math.acos(n),t>e&&(n=c-n),n/=c),[360*n,s,i]},M.hsi=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,At.call(arguments).concat(["hsi"]),function(){})},p.hsi=I,r.prototype.hsi=function(){return ct(this._rgb)},F=function(t,e,n,i){var r,o,a,s,u,l,c,h,f,d,p,_;return"hsl"===i?(p=t.hsl(),_=e.hsl()):"hsv"===i?(p=t.hsv(),_=e.hsv()):"hcg"===i?(p=t.hcg(),_=e.hcg()):"hsi"===i?(p=t.hsi(),_=e.hsi()):"lch"!==i&&"hcl"!==i||(i="hcl",p=t.hcl(),_=e.hcl()),"h"===i.substr(0,1)&&(a=p[0],f=p[1],l=p[2],s=_[0],d=_[1],c=_[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==l&&0!==l||"hsv"===i||(h=d)):(o=a,1!==c&&0!==c||"hsv"===i||(h=f)):(r=s>a&&s-a>180?s-(a+360):s<a&&a-s>180?s+360-a:s-a,o=a+n*r),null==h&&(h=f+n*(d-f)),u=l+n*(c-l),M[i](o,h,u)},_=_.concat(function(){var t,e,n,i;for(n=["hsv","hsl","hsi","hcl","lch","hcg"],i=[],e=0,t=n.length;e<t;e++)Q=n[e],i.push([Q,F]);return i}()),j=function(t,e,n,i){var r,o;return r=t.num(),o=e.num(),M.num(r+(o-r)*n,"num")},_.push(["num",j]),Z=function(t,e,n,i){var o,a;return o=t.lab(),a=e.lab(),new r(o[0]+n*(a[0]-o[0]),o[1]+n*(a[1]-o[1]),o[2]+n*(a[2]-o[2]),i)},_.push(["lab",Z])}).call(this)}).call(e,n(41)(t))},function(t,e,n){"use strict";function i(){}var r=n(0),o=n(30).inflate;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.decodeBlock=function(t){return o(new Uint8Array(t)).buffer},t.exports=i},function(t,e,n){"use strict";function i(){this.littleEndian=!1,this.position=0,this._makeEntryLookup=!1,this.dictionary=[]}function r(){this.decompressor=new i}var o=n(0);i.prototype={constructor:i,initDictionary:function(){this.dictionary=new Array(258),this.entryLookup={},this.byteLength=9;for(var t=0;t<=257;t++)this.dictionary[t]=[t],this._makeEntryLookup&&(this.entryLookup[t]=t)},decompress:function(t){this._makeEntryLookup=!1,this.initDictionary(),this.position=0,this.result=[],t.buffer||(t=new Uint8Array(t));for(var e,n=new DataView(t.buffer),i=this.getNext(n);257!==i;){if(256===i){for(this.initDictionary(),i=this.getNext(n);256===i;)i=this.getNext(n);if(i>256)throw"corrupted code at scanline "+i;if(257===i)break;var r=this.dictionary[i];this.appendArray(this.result,r),e=i}else if(void 0!==this.dictionary[i]){var o=this.dictionary[i];this.appendArray(this.result,o);var a=this.dictionary[e].concat(this.dictionary[i][0]);this.addToDictionary(a),e=i}else{var s=this.dictionary[e];if(!s)throw"Bogus entry. Not in dictionary, "+e+" / "+this.dictionary.length+", position: "+this.position;var u=s.concat(this.dictionary[e][0]);this.appendArray(this.result,u),this.addToDictionary(u),e=i}this.dictionary.length>=Math.pow(2,this.byteLength)-1&&this.byteLength++,i=this.getNext(n)}return new Uint8Array(this.result)},appendArray:function(t,e){for(var n=0;n<e.length;n++)t.push(e[n]);return t},haveBytesChanged:function(){return this.dictionary.length>=Math.pow(2,this.byteLength)&&(this.byteLength++,!0)},addToDictionary:function(t){return this.dictionary.push(t),this._makeEntryLookup&&(this.entryLookup[t]=this.dictionary.length-1),this.haveBytesChanged(),this.dictionary.length-1},getNext:function(t){var e=this.getByte(t,this.position,this.byteLength);return this.position+=this.byteLength,e},getByte:function(t,e,n){var i=e%8,r=Math.floor(e/8),o=8-i,a=e+n-8*(r+1),s=8*(r+2)-(e+n),u=8*(r+2)-e;if(s=Math.max(0,s),r>=t.byteLength)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l=t.getUint8(r,this.littleEndian)&Math.pow(2,8-i)-1;l<<=n-o;var c=l;if(r+1<t.byteLength){var h=t.getUint8(r+1,this.littleEndian)>>>s;h<<=Math.max(0,n-u),c+=h}if(a>8&&r+2<t.byteLength){var f=8*(r+3)-(e+n);c+=t.getUint8(r+2,this.littleEndian)>>>f}return c},compress:function(t){this._makeEntryLookup=!0,this.initDictionary(),this.position=0;var e=[],n=[];e=this.appendArray(e,this.binaryFromByte(256,this.byteLength));for(var i=0;i<t.length;i++){var r=[t[i]],o=n.concat(r);if(void 0!==this.entryLookup[o])n=o;else{var a=this.entryLookup[n],s=this.binaryFromByte(a,this.byteLength);e=this.appendArray(e,s),this.addToDictionary(o),n=r,this.dictionary.length>=Math.pow(2,12)&&(e=this.appendArray(e,this.binaryFromByte(256,this.byteLength)),this.initDictionary())}}var u=this.entryLookup[n],l=this.binaryFromByte(u,this.byteLength);return e=this.appendArray(e,l),e=e=this.appendArray(e,this.binaryFromByte(257,this.byteLength)),this.binary=e,this.result=this.binaryToUint8(e),this.result},byteFromCode:function(t){return this.dictionary[t]},binaryFromByte:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=new Uint8Array(e),i=0;i<n.length;i++){var r=Math.pow(2,i),o=(t&r)>0;n[n.length-1-i]=o}return n},binaryToNumber:function(t){for(var e=0,n=0;n<t.length;n++)e+=Math.pow(2,t.length-n-1)*t[n];return e},inputToBinary:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=new Uint8Array(t.length*e),i=0;i<t.length;i++){var r=this.binaryFromByte(t[i],e);n.set(r,i*e)}return n},binaryToUint8:function(t){for(var e=new Uint8Array(Math.ceil(t.length/8)),n=0,i=0;i<t.length;i+=8){for(var r=0,o=0;o<8&&i+o<t.length;o++)r+=t[i+o]*Math.pow(2,8-o-1);e[n]=r,n++}return e}},r.prototype=Object.create(o.prototype),r.prototype.constructor=r,r.prototype.decodeBlock=function(t){return this.decompressor.decompress(t).buffer},t.exports=r},function(t,e,n){"use strict";function i(){}var r=n(0);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.decodeBlock=function(t){var e,n,i=new DataView(t),r=[];for(e=0;e<t.byteLength;++e){var o=i.getInt8(e);if(o<0){var a=i.getUint8(e+1);for(o=-o,n=0;n<=o;++n)r.push(a);e+=1}else{for(n=0;n<=o;++n)r.push(i.getUint8(e+n+1));e+=o+1}}return new Uint8Array(r).buffer},t.exports=i},function(t,e,n){"use strict";function i(){}var r=n(0);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.decodeBlock=function(t){return t},t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this._dataView=new DataView(e)}return r(t,[{key:"getUint64",value:function(t,e){var n=this.getUint32(t,e),i=this.getUint32(t+4,e);return e?n<<32|i:i<<32|n}},{key:"getInt64",value:function(t,e){var n,i;return e?(n=this.getInt32(t,e),i=this.getUint32(t+4,e),n<<32|i):(n=this.getUint32(t,e),(i=this.getInt32(t+4,e))<<32|n)}},{key:"getUint8",value:function(t,e){return this._dataView.getUint8(t,e)}},{key:"getInt8",value:function(t,e){return this._dataView.getInt8(t,e)}},{key:"getUint16",value:function(t,e){return this._dataView.getUint16(t,e)}},{key:"getInt16",value:function(t,e){return this._dataView.getInt16(t,e)}},{key:"getUint32",value:function(t,e){return this._dataView.getUint32(t,e)}},{key:"getInt32",value:function(t,e){return this._dataView.getInt32(t,e)}},{key:"getFloat32",value:function(t,e){return this._dataView.getFloat32(t,e)}},{key:"getFloat64",value:function(t,e){return this._dataView.getFloat64(t,e)}},{key:"buffer",get:function(){return this._dataView.buffer}}]),t}();t.exports=o},function(t,e,n){"use strict";function i(t,e){this.dataView=new a(t),e=e||{},this.cache=e.cache||!1;var n=this.dataView.getUint16(0,0);if(18761===n)this.littleEndian=!0;else{if(19789!==n)throw new TypeError("Invalid byte order value.");this.littleEndian=!1}var i=this.dataView.getUint16(2,this.littleEndian);if(42===this.dataView.getUint16(2,this.littleEndian))this.bigTiff=!1;else{if(43!==i)throw new TypeError("Invalid magic number.");this.bigTiff=!0;if(8!==this.dataView.getUint16(4,this.littleEndian))throw new Error("Unsupported offset byte-size.")}this.fileDirectories=this.parseFileDirectories(this.getOffset(this.bigTiff?8:4))}var r=n(7),o=n(27),a=n(25),s=r.fieldTypes,u=r.fieldTagNames,l=r.arrayFields,c=r.geoKeyNames;i.prototype={getOffset:function(t){return this.bigTiff?this.dataView.getUint64(t,this.littleEndian):this.dataView.getUint32(t,this.littleEndian)},getFieldTypeLength:function(t){switch(t){case s.BYTE:case s.ASCII:case s.SBYTE:case s.UNDEFINED:return 1;case s.SHORT:case s.SSHORT:return 2;case s.LONG:case s.SLONG:case s.FLOAT:return 4;case s.RATIONAL:case s.SRATIONAL:case s.DOUBLE:case s.LONG8:case s.SLONG8:case s.IFD8:return 8;default:throw new RangeError("Invalid field type: "+t)}},getValues:function(t,e,n){var i,r=null,o=null,a=this.getFieldTypeLength(t);switch(t){case s.BYTE:case s.ASCII:case s.UNDEFINED:r=new Uint8Array(e),o=this.dataView.getUint8;break;case s.SBYTE:r=new Int8Array(e),o=this.dataView.getInt8;break;case s.SHORT:r=new Uint16Array(e),o=this.dataView.getUint16;break;case s.SSHORT:r=new Int16Array(e),o=this.dataView.getInt16;break;case s.LONG:r=new Uint32Array(e),o=this.dataView.getUint32;break;case s.SLONG:r=new Int32Array(e),o=this.dataView.getInt32;break;case s.LONG8:case s.IFD8:r=new Array(e),o=this.dataView.getUint64;break;case s.SLONG8:r=new Array(e),o=this.dataView.getInt64;break;case s.RATIONAL:r=new Uint32Array(2*e),o=this.dataView.getUint32;break;case s.SRATIONAL:r=new Int32Array(2*e),o=this.dataView.getInt32;break;case s.FLOAT:r=new Float32Array(e),o=this.dataView.getFloat32;break;case s.DOUBLE:r=new Float64Array(e),o=this.dataView.getFloat64;break;default:throw new RangeError("Invalid field type: "+t)}if(t!==s.RATIONAL&&t!==s.SRATIONAL)for(i=0;i<e;++i)r[i]=o.call(this.dataView,n+i*a,this.littleEndian);else for(i=0;i<e;i+=2)r[i]=o.call(this.dataView,n+i*a,this.littleEndian),r[i+1]=o.call(this.dataView,n+(i*a+4),this.littleEndian);return t===s.ASCII?String.fromCharCode.apply(null,r):r},getFieldValues:function(t,e,n,i){var r;if(this.getFieldTypeLength(e)*n<=(this.bigTiff?8:4))r=this.getValues(e,n,i);else{var o=this.getOffset(i);r=this.getValues(e,n,o)}return 1===n&&-1===l.indexOf(t)&&e!==s.RATIONAL&&e!==s.SRATIONAL?r[0]:r},parseGeoKeyDirectory:function(t){var e=t.GeoKeyDirectory;if(!e)return null;for(var n={},i=4;i<4*e[3];i+=4){var r=c[e[i]],o=e[i+1]?u[e[i+1]]:null,a=e[i+2],s=e[i+3],l=null;if(o){if(void 0===(l=t[o])||null===l)throw new Error("Could not get value of geoKey '"+r+"'.");"string"==typeof l?l=l.substring(s,s+a-1):l.subarray&&(l=l.subarray(s,s+a-1))}else l=s;n[r]=l}return n},parseFileDirectories:function(t){for(var e=t,n=[];0!==e;){for(var i=this.bigTiff?this.dataView.getUint64(e,this.littleEndian):this.dataView.getUint16(e,this.littleEndian),r={},o=e+(this.bigTiff?8:2),a=0;a<i;o+=this.bigTiff?20:12,++a){var s=this.dataView.getUint16(o,this.littleEndian),l=this.dataView.getUint16(o+2,this.littleEndian),c=this.bigTiff?this.dataView.getUint64(o+4,this.littleEndian):this.dataView.getUint32(o+4,this.littleEndian);r[u[s]]=this.getFieldValues(s,l,c,o+(this.bigTiff?12:8))}n.push([r,this.parseGeoKeyDirectory(r)]),e=this.getOffset(o)}return n},getImage:function(t){t=t||0;var e=this.fileDirectories[t];if(!e)throw new RangeError("Invalid image index");return new o(e[0],e[1],this.dataView,this.littleEndian,this.cache)},getImageCount:function(){return this.fileDirectories.length}},t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i,r){this.fileDirectory=t,this.geoKeys=e,this.dataView=n,this.littleEndian=i,this.tiles=r?{}:null,this.isTiled=!t.StripOffsets;var o=t.PlanarConfiguration;if(this.planarConfiguration=void 0===o?1:o,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");switch(this.fileDirectory.Compression){case void 0:case 1:this.decoder=new a;break;case 5:this.decoder=new s;break;case 6:throw new Error("JPEG compression not supported.");case 8:this.decoder=new u;break;case 32773:this.decoder=new l;break;default:throw new Error("Unknown compresseion method identifier: "+this.fileDirectory.Compression)}}var r=n(7),o=n(29),a=n(24),s=n(22),u=n(21),l=n(23),c=function(t,e,n){for(var i=0,r=e;r<n;++r)i+=t[r];return i},h=function(t,e,n){switch(t){case 1:switch(e){case 8:return new Uint8Array(n);case 16:return new Uint16Array(n);case 32:return new Uint32Array(n)}break;case 2:switch(e){case 8:return new Int8Array(n);case 16:return new Int16Array(n);case 32:return new Int32Array(n)}break;case 3:switch(e){case 32:return new Float32Array(n);case 64:return new Float64Array(n)}}throw Error("Unsupported data format/bitsPerSample")};i.prototype={getFileDirectory:function(){return this.fileDirectory},getGeoKeys:function(){return this.geoKeys},getWidth:function(){return this.fileDirectory.ImageWidth},getHeight:function(){return this.fileDirectory.ImageLength},getSamplesPerPixel:function(){return this.fileDirectory.SamplesPerPixel},getTileWidth:function(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()},getTileHeight:function(){return this.isTiled?this.fileDirectory.TileLength:this.fileDirectory.RowsPerStrip},getBytesPerPixel:function(){for(var t=0,e=0;e<this.fileDirectory.BitsPerSample.length;++e){var n=this.fileDirectory.BitsPerSample[e];if(n%8!=0)throw new Error("Sample bit-width of "+n+" is not supported.");if(n!==this.fileDirectory.BitsPerSample[0])throw new Error("Differing size of samples in a pixel are not supported.");t+=n}return t/8},getSampleByteSize:function(t){if(t>=this.fileDirectory.BitsPerSample.length)throw new RangeError("Sample index "+t+" is out of range.");var e=this.fileDirectory.BitsPerSample[t];if(e%8!=0)throw new Error("Sample bit-width of "+e+" is not supported.");return e/8},getReaderForSample:function(t){var e=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1,n=this.fileDirectory.BitsPerSample[t];switch(e){case 1:switch(n){case 8:return DataView.prototype.getUint8;case 16:return DataView.prototype.getUint16;case 32:return DataView.prototype.getUint32}break;case 2:switch(n){case 8:return DataView.prototype.getInt8;case 16:return DataView.prototype.getInt16;case 32:return DataView.prototype.getInt32}break;case 3:switch(n){case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}},getArrayForSample:function(t,e){var n=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1,i=this.fileDirectory.BitsPerSample[t];return h(n,i,e)},getDecoder:function(){return this.decoder},getTileOrStrip:function(t,e,n,i){var r,o=Math.ceil(this.getWidth()/this.getTileWidth()),a=Math.ceil(this.getHeight()/this.getTileHeight()),s=this.tiles;if(1===this.planarConfiguration?r=e*o+t:2===this.planarConfiguration&&(r=n*o*a+e*o+t),null!==s&&r in s)return i?i(null,{x:t,y:e,sample:n,data:s[r]}):s[r];var u,l;this.isTiled?(u=this.fileDirectory.TileOffsets[r],l=this.fileDirectory.TileByteCounts[r]):(u=this.fileDirectory.StripOffsets[r],l=this.fileDirectory.StripByteCounts[r]);var c=this.dataView.buffer.slice(u,u+l);if(i)return this.getDecoder().decodeBlockAsync(c,function(o,a){o||null===s||(s[r]=a),i(o,{x:t,y:e,sample:n,data:a})});var h=this.getDecoder().decodeBlock(c);return null!==s&&(s[r]=h),h},_readRasterAsync:function(t,e,n,i,r,o){function a(){w&&0===x&&(T?o(T):r(n))}function s(r,o){if(r)T=r;else for(var s=new DataView(o.data),c=o.y*l,h=o.x*u,f=(o.y+1)*l,d=(o.x+1)*u,p=o.sample,b=Math.max(0,t[1]-c);b<Math.min(l,l-(f-t[3]));++b)for(var w=Math.max(0,t[0]-h);w<Math.min(u,u-(d-t[2]));++w){var k,L=(b*u+w)*m,S=y[p].call(s,L+v[p],M);i?(1!==g&&w>0&&(k=(b+c-t[1])*_*e.length+(w+h-t[0]-1)*e.length+p,S+=n[k]),k=(b+c-t[1])*_*e.length+(w+h-t[0])*e.length+p,n[k]=S):(1!==g&&w>0&&(k=(b+c-t[1])*_+w-1+h-t[0],S+=n[p][k]),k=(b+c-t[1])*_+w+h-t[0],n[p][k]=S)}x-=1,a()}for(var u=this.getTileWidth(),l=this.getTileHeight(),h=Math.floor(t[0]/u),f=Math.ceil(t[2]/u),d=Math.floor(t[1]/l),p=Math.ceil(t[3]/l),_=(Math.ceil(this.getWidth()/u),t[2]-t[0]),m=(t[3],t[1],this.getBytesPerPixel()),g=(this.getWidth(),this.fileDirectory.Predictor||1),v=[],y=[],b=0;b<e.length;++b)1===this.planarConfiguration?v.push(c(this.fileDirectory.BitsPerSample,0,e[b])/8):v.push(0),y.push(this.getReaderForSample(e[b]));for(var w=!1,x=0,M=this.littleEndian,T=null,k=d;k<=p;++k)for(var L=h;L<=f;++L)for(var S=0;S<e.length;++S){var C=e[S];2===this.planarConfiguration&&(m=this.getSampleByteSize(C));x+=1,this.getTileOrStrip(L,k,C,s)}w=!0,a()},_readRaster:function(t,e,n,i,r,o){try{for(var a=this.getTileWidth(),s=this.getTileHeight(),u=Math.floor(t[0]/a),l=Math.ceil(t[2]/a),h=Math.floor(t[1]/s),f=Math.ceil(t[3]/s),d=(Math.ceil(this.getWidth()/a),t[2]-t[0]),p=(t[3],t[1],this.getBytesPerPixel()),_=(this.getWidth(),this.fileDirectory.Predictor||1),m=[],g=[],v=0;v<e.length;++v)1===this.planarConfiguration?m.push(c(this.fileDirectory.BitsPerSample,0,e[v])/8):m.push(0),g.push(this.getReaderForSample(e[v]));for(var y=h;y<f;++y)for(var b=u;b<l;++b)for(var w=y*s,x=b*a,M=(y+1)*s,T=(b+1)*a,k=0;k<e.length;++k){var L=e[k];2===this.planarConfiguration&&(p=this.getSampleByteSize(L));var S=new DataView(this.getTileOrStrip(b,y,L)),C=g[k],E=Math.min(s,s-(M-t[3])),P=Math.min(a,a-(T-t[2])),A=(E*a+P)*p,N=new Uint8Array(S.buffer).length;2*N!==A&&this._debugMessages&&console.warn("dimension mismatch",N,A);for(var z=Math.max(0,t[1]-w);z<E;++z)for(var I=Math.max(0,t[0]-x);I<P;++I){var D=(z*a+I)*p,O=0;D<N-1&&(O=C.call(S,D+m[k],this.littleEndian));var R;i?(1!==_&&I>0&&(R=(z+w-t[1])*d*e.length+(I+x-t[0]-1)*e.length+k,O+=n[R]),R=(z+w-t[1])*d*e.length+(I+x-t[0])*e.length+k,n[R]=O):(1!==_&&I>0&&(R=(z+w-t[1])*d+I-1+x-t[0],O+=n[k][R]),R=(z+w-t[1])*d+I+x-t[0],n[k][R]=O)}}return r(n),n}catch(t){return o(t)}},readRasters:function(){var t,e,n;switch(arguments.length){case 0:break;case 1:"function"==typeof arguments[0]?e=arguments[0]:t=arguments[0];break;case 2:"function"==typeof arguments[0]?(e=arguments[0],n=arguments[1]):(t=arguments[0],e=arguments[1]);break;case 3:t=arguments[0],e=arguments[1],n=arguments[2];break;default:throw new Error("Invalid number of arguments passed.")}t=t||{},n=n||function(t){console.error(t)};var i=t.window||[0,0,this.getWidth(),this.getHeight()],r=t.samples,o=t.interleave;if(i[0]<0||i[1]<0||i[2]>this.getWidth()||i[3]>this.getHeight())throw new Error("Select window is out of image bounds.");if(i[0]>i[2]||i[1]>i[3])throw new Error("Invalid subsets");var a,s=i[2]-i[0],u=i[3]-i[1],l=s*u;if(r){for(a=0;a<r.length;++a)if(r[a]>=this.fileDirectory.SamplesPerPixel)throw new RangeError("Invalid sample index '"+r[a]+"'.")}else for(r=[],a=0;a<this.fileDirectory.SamplesPerPixel;++a)r.push(a);var c;if(o){var f=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,d=Math.max.apply(null,this.fileDirectory.BitsPerSample);c=h(f,d,l*r.length)}else for(c=[],a=0;a<r.length;++a)c.push(this.getArrayForSample(r[a],l));if(this.getDecoder().isAsync()){if(!e)throw new Error("No callback specified for asynchronous raster reading.");return this._readRasterAsync(i,r,c,o,e,n)}return e=e||function(){},this._readRaster(i,r,c,o,e,n)},readRGB:function(){var t=null,e=null,n=null;switch(arguments.length){case 0:break;case 1:"function"==typeof arguments[0]?e=arguments[0]:t=arguments[0];break;case 2:"function"==typeof arguments[0]?(e=arguments[0],n=arguments[1]):(t=arguments[0],e=arguments[1]);break;case 3:t=arguments[0],e=arguments[1],n=arguments[2];break;default:throw new Error("Invalid number of arguments passed.")}t=t||{},n=n||function(t){console.error(t)};var i=t.window||[0,0,this.getWidth(),this.getHeight()];if(i[0]<0||i[1]<0||i[2]>this.getWidth()||i[3]>this.getHeight())throw new Error("Select window is out of image bounds.");if(i[0]>i[2]||i[1]>i[3])throw new Error("Invalid subsets");var a=i[2]-i[0],s=i[3]-i[1],u=this.fileDirectory.PhotometricInterpretation,l=this.fileDirectory.BitsPerSample[0],c=Math.pow(2,l);if(u===r.photometricInterpretations.RGB)return this.readRasters({window:t.window,interleave:!0},e,n);var h;switch(u){case r.photometricInterpretations.WhiteIsZero:case r.photometricInterpretations.BlackIsZero:case r.photometricInterpretations.Palette:h=[0];break;case r.photometricInterpretations.CMYK:h=[0,1,2,3];break;case r.photometricInterpretations.YCbCr:case r.photometricInterpretations.CIELab:h=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}var f={window:t.window,interleave:!0,samples:h},d=this.fileDirectory;return this.readRasters(f,function(t){switch(u){case r.photometricInterpretations.WhiteIsZero:return e(o.fromWhiteIsZero(t,c,a,s));case r.photometricInterpretations.BlackIsZero:return e(o.fromBlackIsZero(t,c,a,s));case r.photometricInterpretations.Palette:return e(o.fromPalette(t,d.ColorMap,a,s));case r.photometricInterpretations.CMYK:return e(o.fromCMYK(t,a,s));case r.photometricInterpretations.YCbCr:return e(o.fromYCbCr(t,a,s));case r.photometricInterpretations.CIELab:return e(o.fromCIELab(t,a,s))}},n)},getTiePoints:function(){if(!this.fileDirectory.ModelTiepoint)return[];for(var t=[],e=0;e<this.fileDirectory.ModelTiepoint.length;e+=6)t.push({i:this.fileDirectory.ModelTiepoint[e],j:this.fileDirectory.ModelTiepoint[e+1],k:this.fileDirectory.ModelTiepoint[e+2],x:this.fileDirectory.ModelTiepoint[e+3],y:this.fileDirectory.ModelTiepoint[e+4],z:this.fileDirectory.ModelTiepoint[e+5]});return t},getGDALMetadata:function(){var t={};if(!this.fileDirectory.GDAL_METADATA)return null;for(var e=this.fileDirectory.GDAL_METADATA,n=r.parseXml(e.substring(0,e.length-1)),i=n.evaluate("GDALMetadata/Item",n,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null),o=0;o<i.snapshotLength;++o){var a=i.snapshotItem(o);t[a.getAttribute("name")]=a.textContent}return t},getOrigin:function(){var t=this.fileDirectory.ModelTiepoint;if(!t||6!==t.length)throw new Error("The image does not have an affine transformation.");return[t[3],t[4],t[5]]},getResolution:function(){if(!this.fileDirectory.ModelPixelScale)throw new Error("The image does not have an affine transformation.");return[this.fileDirectory.ModelPixelScale[0],this.fileDirectory.ModelPixelScale[1],this.fileDirectory.ModelPixelScale[2]]},pixelIsArea:function(){return 1===this.geoKeys.GTRasterTypeGeoKey},getBoundingBox:function(){var t=this.getOrigin(),e=this.getResolution(),n=t[0],i=t[1],r=n+e[0]*this.getWidth(),o=i+e[1]*this.getHeight();return[Math.min(n,r),Math.min(i,o),Math.max(n,r),Math.max(i,o)]}},t.exports=i},function(t,e,n){"use strict";var i=n(26),r=function(t,e){var n,r,o,a;if("string"==typeof t||t instanceof String)for(n=new ArrayBuffer(2*t.length),a=new Uint16Array(n),r=0,o=t.length;r<o;++r)a[r]=t.charCodeAt(r);else{if(!(t instanceof ArrayBuffer))throw new Error("Invalid input data given.");n=t}return new i(n,e)};void 0!==t&&void 0!==t.exports&&(t.exports.parse=r),"undefined"!=typeof window&&(window.GeoTIFF={parse:r})},function(t,e,n){"use strict";function i(t,e,n,i){for(var r,o=new Uint8Array(n*i*3),a=0,s=0;a<t.length;++a,s+=3)r=256-t[a]/e*256,o[s]=r,o[s+1]=r,o[s+2]=r;return o}function r(t,e,n,i){for(var r,o=new Uint8Array(n*i*3),a=0,s=0;a<t.length;++a,s+=3)r=t[a]/e*256,o[s]=r,o[s+1]=r,o[s+2]=r;return o}function o(t,e,n,i){for(var r=new Uint8Array(n*i*3),o=e.length/3,a=e.length/3*2,s=0,u=0;s<t.length;++s,u+=3){var l=t[s];r[u]=e[l]/65536*256,r[u+1]=e[l+o]/65536*256,r[u+2]=e[l+a]/65536*256}return r}function a(t,e,n){for(var i,r,o,a,s=new Uint8Array(e*n*3),u=0,l=0;u<t.length;u+=4,l+=3)i=t[u],r=t[u+1],o=t[u+2],a=t[u+3],s[l]=(255-i)/256*255*((255-a)/256),s[l+1]=(255-r)/256*255*((255-a)/256),s[l+2]=(255-o)/256*255*((255-a)/256);return s}function s(t,e,n){for(var i,r,o,a=new Uint8Array(e*n*3),s=0,u=0;s<t.length;s+=3,u+=3)i=t[s],r=t[s+1],o=t[s+2],a[u]=i+1.402*(o-128),a[u+1]=i-.34414*(r-128)-.71414*(o-128),a[u+2]=i+1.772*(r-128);return a}function u(t,e,n){for(var i,r,o,a,s,u,l,c,h,f,d,p,_=[3.240479,-1.53715,-.498535,-.969256,1.875992,.041556,.055648,-.204043,1.057311],m=new Uint8Array(e*n*3),g=0,v=0;g<t.length;g+=3,v+=3)i=t[g],r=t[g+1],o=t[g+2],s=Math.pow((i+16)/116,3),c=s>.008856,s=(0!==c)*(i/903.3)+c*s,d=s,s=c*Math.pow(s,1/3)+(0!==c)*(7.787*s+16/116),a=r/500+s,l=a>.206893,f=l*Math.pow(a,3)+(0!==l)*((a-16/116)/7.787),u=s-o/200,h=u>.206893,p=h*Math.pow(u,3)+(0!==h)*((u-16/116)/7.787),f*=.950456,p*=1.088754,m[v]=f*_[0]+d*_[1]+p*_[2],m[v+1]=f*_[3]+d*_[4]+p*_[5],m[v+2]=f*_[6]+d*_[7]+p*_[8];return m}t.exports={fromWhiteIsZero:i,fromBlackIsZero:r,fromPalette:o,fromCMYK:a,fromYCbCr:s,fromCIELab:u}},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,r(t,e)}var a=n(37),s=n(1),u=n(31),l=n(33),c=n(39),h=n(40),f=n(35),d=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,r,o,c,h,f=this.strm,p=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?f.input=u.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(p),f.next_out=0,f.avail_out=p),n=a.inflate(f,l.Z_NO_FLUSH),n===l.Z_NEED_DICT&&_&&(h="string"==typeof _?u.string2buf(_):"[object ArrayBuffer]"===d.call(_)?new Uint8Array(_):_,n=a.inflateSetDictionary(this.strm,h)),n===l.Z_BUF_ERROR&&!0===m&&(n=l.Z_OK,m=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==l.Z_STREAM_END&&(0!==f.avail_in||i!==l.Z_FINISH&&i!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(r=u.utf8border(f.output,f.next_out),o=f.next_out-r,c=u.buf2string(f.output,r),f.next_out=o,f.avail_out=p-o,o&&s.arraySet(f.output,f.output,r,o,0),this.onData(c)):this.onData(s.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(i=l.Z_FINISH),i===l.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):i!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=i,e.inflate=r,e.inflateRaw=o,e.ungzip=r},function(t,e,n){"use strict";function i(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var r=n(1),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new r.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),a=0,o=0;a<u;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return i(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,o,a,u=e||t.length,l=new Array(2*u);for(r=0,n=0;n<u;)if((o=t[n++])<128)l[r++]=o;else if((a=s[o])>4)l[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<u;)o=o<<6|63&t[n++],a--;a>1?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return i(l,r)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{r=r+e[i++]|0,o=o+r|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}t.exports=i},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";function i(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=i},function(t,e,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,a,s,u,l,c,h,f,d,p,_,m,g,v,y,b,w,x,M,T,k,L;n=t.state,i=t.next_in,k=t.input,r=i+(t.avail_in-5),o=t.next_out,L=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,_=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),y=_[d&g];e:for(;;){if(b=y>>>24,d>>>=b,p-=b,0===(b=y>>>16&255))L[o++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=_[(65535&y)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&y,b&=15,b&&(p<b&&(d+=k[i++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),y=m[d&v];n:for(;;){if(b=y>>>24,d>>>=b,p-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=m[(65535&y)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&y,b&=15,p<b&&(d+=k[i++]<<p,(p+=8)<b&&(d+=k[i++]<<p,p+=8)),(x+=d&(1<<b)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,b=o-a,x>b){if((b=x-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(M=0,T=f,0===h){if(M+=l-b,b<w){w-=b;do{L[o++]=f[M++]}while(--b);M=o-x,T=L}}else if(h<b){if(M+=l+h-b,(b-=h)<w){w-=b;do{L[o++]=f[M++]}while(--b);if(M=0,h<w){b=h,w-=b;do{L[o++]=f[M++]}while(--b);M=o-x,T=L}}}else if(M+=h-b,b<w){w-=b;do{L[o++]=f[M++]}while(--b);M=o-x,T=L}for(;w>2;)L[o++]=T[M++],L[o++]=T[M++],L[o++]=T[M++],w-=3;w&&(L[o++]=T[M++],w>1&&(L[o++]=T[M++]))}else{M=o-x;do{L[o++]=L[M++],L[o++]=L[M++],L[o++]=L[M++],w-=3}while(w>2);w&&(L[o++]=L[M++],w>1&&(L[o++]=L[M++]))}break}}break}}while(i<r&&o<s);w=p>>3,i-=w,p-=w<<3,d&=(1<<p)-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=R,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(_t),e.distcode=e.distdyn=new v.Buf32(mt),e.sane=1,e.back=-1,E):N}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):N}function s(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?N:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,a(t))):N}function u(t,e){var n,i;return t?(i=new r,t.state=i,i.window=null,n=s(t,e),n!==E&&(t.state=null),n):N}function l(t){return u(t,gt)}function c(t){if(vt){var e;for(m=new v.Buf32(512),g=new v.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(x(T,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;x(k,t.lens,0,32,g,0,t.work,{bits:5}),vt=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function h(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),i>=o.wsize?(v.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),v.arraySet(o.window,e,n-i,r,o.wnext),i-=r,i?(v.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function f(t,e){var n,r,o,a,s,u,l,f,d,p,_,m,g,_t,mt,gt,vt,yt,bt,wt,xt,Mt,Tt,kt,Lt=0,St=new v.Buf8(4),Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return N;n=t.state,n.mode===Y&&(n.mode=X),s=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,r=t.input,u=t.avail_in,f=n.hold,d=n.bits,p=u,_=l,Mt=E;t:for(;;)switch(n.mode){case R:if(0===n.wrap){n.mode=X;break}for(;d<16;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,St[0]=255&f,St[1]=f>>>8&255,n.check=b(n.check,St,2,0),f=0,d=0,n.mode=B;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ft;break}if((15&f)!==O){t.msg="unknown compression method",n.mode=ft;break}if(f>>>=4,d-=4,xt=8+(15&f),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=ft;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&f?H:Y,f=0,d=0;break;case B:for(;d<16;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==O){t.msg="unknown compression method",n.mode=ft;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ft;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=b(n.check,St,2,0)),f=0,d=0,n.mode=F;case F:for(;d<32;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,St[2]=f>>>16&255,St[3]=f>>>24&255,n.check=b(n.check,St,4,0)),f=0,d=0,n.mode=Z;case Z:for(;d<16;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=b(n.check,St,2,0)),f=0,d=0,n.mode=U;case U:if(1024&n.flags){for(;d<16;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=b(n.check,St,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=j;case j:if(1024&n.flags&&(m=n.length,m>u&&(m=u),m&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,r,a,m,xt)),512&n.flags&&(n.check=b(n.check,r,m,a)),u-=m,a+=m,n.length-=m),n.length))break t;n.length=0,n.mode=V;case V:if(2048&n.flags){if(0===u)break t;m=0;do{xt=r[a+m++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&m<u);if(512&n.flags&&(n.check=b(n.check,r,m,a)),u-=m,a+=m,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=G;case G:if(4096&n.flags){if(0===u)break t;m=0;do{xt=r[a+m++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&m<u);if(512&n.flags&&(n.check=b(n.check,r,m,a)),u-=m,a+=m,xt)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;d<16;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ft;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Y;break;case H:for(;d<32;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}t.adler=n.check=i(f),f=0,d=0,n.mode=W;case W:if(0===n.havedict)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,A;t.adler=n.check=1,n.mode=Y;case Y:if(e===S||e===C)break t;case X:if(n.last){f>>>=7&d,d-=7&d,n.mode=lt;break}for(;d<3;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=K;break;case 1:if(c(n),n.mode=nt,e===C){f>>>=2,d-=2;break t}break;case 2:n.mode=Q;break;case 3:t.msg="invalid block type",n.mode=ft}f>>>=2,d-=2;break;case K:for(f>>>=7&d,d-=7&d;d<32;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ft;break}if(n.length=65535&f,f=0,d=0,n.mode=$,e===C)break t;case $:n.mode=J;case J:if(m=n.length){if(m>u&&(m=u),m>l&&(m=l),0===m)break t;v.arraySet(o,r,a,m,s),u-=m,a+=m,l-=m,s+=m,n.length-=m;break}n.mode=Y;break;case Q:for(;d<14;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(n.nlen=257+(31&f),f>>>=5,d-=5,n.ndist=1+(31&f),f>>>=5,d-=5,n.ncode=4+(15&f),f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ft;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;d<3;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}n.lens[Ct[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[Ct[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Tt={bits:n.lenbits},Mt=x(M,n.lens,0,19,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Mt){t.msg="invalid code lengths set",n.mode=ft;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;Lt=n.lencode[f&(1<<n.lenbits)-1],mt=Lt>>>24,gt=Lt>>>16&255,vt=65535&Lt,!(mt<=d);){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(vt<16)f>>>=mt,d-=mt,n.lens[n.have++]=vt;else{if(16===vt){for(kt=mt+2;d<kt;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(f>>>=mt,d-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=ft;break}xt=n.lens[n.have-1],m=3+(3&f),f>>>=2,d-=2}else if(17===vt){for(kt=mt+3;d<kt;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}f>>>=mt,d-=mt,xt=0,m=3+(7&f),f>>>=3,d-=3}else{for(kt=mt+7;d<kt;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}f>>>=mt,d-=mt,xt=0,m=11+(127&f),f>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ft;break}for(;m--;)n.lens[n.have++]=xt}}if(n.mode===ft)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ft;break}if(n.lenbits=9,Tt={bits:n.lenbits},Mt=x(T,n.lens,0,n.nlen,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Mt){t.msg="invalid literal/lengths set",n.mode=ft;break}if(n.distbits=6,n.distcode=n.distdyn,Tt={bits:n.distbits},Mt=x(k,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Tt),n.distbits=Tt.bits,Mt){t.msg="invalid distances set",n.mode=ft;break}if(n.mode=nt,e===C)break t;case nt:n.mode=it;case it:if(u>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,w(t,_),s=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,r=t.input,u=t.avail_in,f=n.hold,d=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;Lt=n.lencode[f&(1<<n.lenbits)-1],mt=Lt>>>24,gt=Lt>>>16&255,vt=65535&Lt,!(mt<=d);){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(gt&&0==(240&gt)){for(yt=mt,bt=gt,wt=vt;Lt=n.lencode[wt+((f&(1<<yt+bt)-1)>>yt)],mt=Lt>>>24,gt=Lt>>>16&255,vt=65535&Lt,!(yt+mt<=d);){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}f>>>=yt,d-=yt,n.back+=yt}if(f>>>=mt,d-=mt,n.back+=mt,n.length=vt,0===gt){n.mode=ut;break}if(32&gt){n.back=-1,n.mode=Y;break}if(64&gt){t.msg="invalid literal/length code",n.mode=ft;break}n.extra=15&gt,n.mode=rt;case rt:if(n.extra){for(kt=n.extra;d<kt;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;Lt=n.distcode[f&(1<<n.distbits)-1],mt=Lt>>>24,gt=Lt>>>16&255,vt=65535&Lt,!(mt<=d);){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(0==(240&gt)){for(yt=mt,bt=gt,wt=vt;Lt=n.distcode[wt+((f&(1<<yt+bt)-1)>>yt)],mt=Lt>>>24,gt=Lt>>>16&255,vt=65535&Lt,!(yt+mt<=d);){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}f>>>=yt,d-=yt,n.back+=yt}if(f>>>=mt,d-=mt,n.back+=mt,64&gt){t.msg="invalid distance code",n.mode=ft;break}n.offset=vt,n.extra=15&gt,n.mode=at;case at:if(n.extra){for(kt=n.extra;d<kt;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ft;break}n.mode=st;case st:if(0===l)break t;if(m=_-l,n.offset>m){if((m=n.offset-m)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ft;break}m>n.wnext?(m-=n.wnext,g=n.wsize-m):g=n.wnext-m,m>n.length&&(m=n.length),_t=n.window}else _t=o,g=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do{o[s++]=_t[g++]}while(--m);0===n.length&&(n.mode=it);break;case ut:if(0===l)break t;o[s++]=n.length,l--,n.mode=it;break;case lt:if(n.wrap){for(;d<32;){if(0===u)break t;u--,f|=r[a++]<<d,d+=8}if(_-=l,t.total_out+=_,n.total+=_,_&&(t.adler=n.check=n.flags?b(n.check,o,_,s-_):y(n.check,o,_,s-_)),_=l,(n.flags?f:i(f))!==n.check){t.msg="incorrect data check",n.mode=ft;break}f=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;d<32;){if(0===u)break t;u--,f+=r[a++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ft;break}f=0,d=0}n.mode=ht;case ht:Mt=P;break t;case ft:Mt=z;break t;case dt:return I;case pt:default:return N}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,(n.wsize||_!==t.avail_out&&n.mode<ft&&(n.mode<lt||e!==L))&&h(t,t.output,t.next_out,_-t.avail_out)?(n.mode=dt,I):(p-=t.avail_in,_-=t.avail_out,t.total_in+=p,t.total_out+=_,n.total+=_,n.wrap&&_&&(t.adler=n.check=n.flags?b(n.check,o,_,t.next_out-_):y(n.check,o,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===nt||n.mode===$?256:0),(0===p&&0===_||e===L)&&Mt===E&&(Mt=D),Mt)}function d(t){if(!t||!t.state)return N;var e=t.state;return e.window&&(e.window=null),t.state=null,E}function p(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?N:(n.head=e,e.done=!1,E)):N}function _(t,e){var n,i,r=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==W?N:n.mode===W&&(i=1,(i=y(i,e,r,0))!==n.check)?z:h(t,e,r,r)?(n.mode=dt,I):(n.havedict=1,E)):N}var m,g,v=n(1),y=n(32),b=n(34),w=n(36),x=n(38),M=0,T=1,k=2,L=4,S=5,C=6,E=0,P=1,A=2,N=-2,z=-3,I=-4,D=-5,O=8,R=1,B=2,F=3,Z=4,U=5,j=6,V=7,G=8,q=9,H=10,W=11,Y=12,X=13,K=14,$=15,J=16,Q=17,tt=18,et=19,nt=20,it=21,rt=22,ot=23,at=24,st=25,ut=26,lt=27,ct=28,ht=29,ft=30,dt=31,pt=32,_t=852,mt=592,gt=15,vt=!0;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=l,e.inflateInit2=u,e.inflate=f,e.inflateEnd=d,e.inflateGetHeader=p,e.inflateSetDictionary=_,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(1),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,c,h,f){var d,p,_,m,g,v,y,b,w,x=f.bits,M=0,T=0,k=0,L=0,S=0,C=0,E=0,P=0,A=0,N=0,z=null,I=0,D=new i.Buf16(16),O=new i.Buf16(16),R=null,B=0;for(M=0;M<=15;M++)D[M]=0;for(T=0;T<u;T++)D[e[n+T]]++;for(S=x,L=15;L>=1&&0===D[L];L--);if(S>L&&(S=L),0===L)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(k=1;k<L&&0===D[k];k++);for(S<k&&(S=k),P=1,M=1;M<=15;M++)if(P<<=1,(P-=D[M])<0)return-1;if(P>0&&(0===t||1!==L))return-1;for(O[1]=0,M=1;M<15;M++)O[M+1]=O[M]+D[M];for(T=0;T<u;T++)0!==e[n+T]&&(h[O[e[n+T]]++]=T);if(0===t?(z=R=h,v=19):1===t?(z=r,I-=257,R=o,B-=257,v=256):(z=a,R=s,v=-1),N=0,T=0,M=k,g=c,C=S,E=0,_=-1,A=1<<S,m=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){y=M-E,h[T]<v?(b=0,w=h[T]):h[T]>v?(b=R[B+h[T]],w=z[I+h[T]]):(b=96,w=0),d=1<<M-E,p=1<<C,k=p;do{p-=d,l[g+(N>>E)+p]=y<<24|b<<16|w|0}while(0!==p);for(d=1<<M-1;N&d;)d>>=1;if(0!==d?(N&=d-1,N+=d):N=0,T++,0==--D[M]){if(M===L)break;M=e[n+h[T]]}if(M>S&&(N&m)!==_){for(0===E&&(E=S),g+=k,C=M-E,P=1<<C;C+E<L&&!((P-=D[C+E])<=0);)C++,P<<=1;if(A+=1<<C,1===t&&A>852||2===t&&A>592)return 1;_=N&m,l[_]=S<<24|C<<16|g-c|0}}return 0!==N&&(l[g+N]=M-E<<24|64<<16|0),f.bits=S,0}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){function i(t){this.options=t||{locator:{}}}function r(t,e,n){function i(e){var i=t[e];!i&&a&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+s(n))}||function(){}}if(!t){if(e instanceof o)return e;t=e}var r={},a=t instanceof Function;return n=n||{},i("warning"),i("error"),i("fatalError"),r}function o(){this.cdata=!1}function a(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function s(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function u(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function l(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}i.prototype.parseFromString=function(t,e){var n=this.options,i=new c,a=n.domBuilder||new o,s=n.errorHandler,u=n.locator,l=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&a.setDocumentLocator(u),i.errorHandler=r(s,a,u),i.domBuilder=n.domBuilder||a,/\/x?html?$/.test(e)&&(h.nbsp=" ",h.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",t?i.parse(t,l,h):i.errorHandler.error("invalid doc source"),a.doc},o.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,o=r.createElementNS(t,n||e),s=i.length;l(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var u=0;u<s;u++){var t=i.getURI(u),c=i.getValue(u),n=i.getQName(u),h=r.createAttributeNS(t,n);this.locator&&a(i.getLocator(u),h),h.value=h.nodeValue=c,o.setAttributeNode(h)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&a(this.locator,n),l(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=u.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&a(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=u.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&a(this.locator,i),l(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&a(this.locator,r),l(this,r)}},warning:function(t){console.warn("[xmldom warning]\t"+t,s(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,s(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,s(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){o.prototype[t]=function(){return null}});var c=n(43).XMLReader,h=e.DOMImplementation=n(8).DOMImplementation;e.XMLSerializer=n(8).XMLSerializer,e.DOMParser=i},function(t,e){function n(){}function i(t,e,n,i,l){function d(t){if(t>65535){t-=65536;var e=55296+(t>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}function p(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?d(parseInt(e.substr(1).replace("x","0x"))):(l.error("entity not found:"+t),t)}function _(e){if(e>M){var n=t.substring(M,e).replace(/&#?\w+;/g,p);b&&m(M),i.characters(n,0,e-M),M=e}}function m(e,n){for(;e>=v&&(n=y.exec(t));)g=n.index,v=g+n[0].length,b.lineNumber++;b.columnNumber=e-g+1}for(var g=0,v=0,y=/.*(?:\r\n?|\n)|.*$/g,b=i.locator,w=[{currentNSMap:e}],x={},M=0;;){try{var T=t.indexOf("<",M);if(T<0){if(!t.substr(M).match(/^\s*$/)){var k=i.doc,L=k.createTextNode(t.substr(M));k.appendChild(L),i.currentElement=L}return}switch(T>M&&_(T),t.charAt(T+1)){case"/":var S=t.indexOf(">",T+3),C=t.substring(T+2,S),E=w.pop();S<0?(C=t.substring(T+2).replace(/[\s<].*/,""),l.error("end tag name: "+C+" is not complete:"+E.tagName),S=T+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),l.error("end tag name: "+C+" maybe not complete"),S=T+1+C.length);var P=E.localNSMap,A=E.tagName==C;if(A||E.tagName&&E.tagName.toLowerCase()==C.toLowerCase()){if(i.endElement(E.uri,E.localName,C),P)for(var N in P)i.endPrefixMapping(N);A||l.fatalError("end tag name: "+C+" is not match the current start tagName:"+E.tagName)}else w.push(E);S++;break;case"?":b&&m(T),S=h(t,T,i);break;case"!":b&&m(T),S=c(t,T,i,l);break;default:b&&m(T);var z=new f,I=w[w.length-1].currentNSMap,S=o(t,T,z,I,p,l),D=z.length;if(!z.closed&&u(t,S,z.tagName,x)&&(z.closed=!0,n.nbsp||l.warning("unclosed xml attribute")),b&&D){for(var O=r(b,{}),R=0;R<D;R++){var B=z[R];m(B.offset),B.locator=r(b,{})}i.locator=O,a(z,i,I)&&w.push(z),i.locator=b}else a(z,i,I)&&w.push(z);"http://www.w3.org/1999/xhtml"!==z.uri||z.closed?S++:S=s(t,S,z.tagName,p,i)}}catch(t){l.error("element parse error: "+t),S=-1}S>M?M=S:_(Math.max(T,M)+1)}}function r(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function o(t,e,n,i,r,o){for(var a,s,u=++e,l=v;;){var c=t.charAt(u);switch(c){case"=":if(l===y)a=t.slice(e,u),l=w;else{if(l!==b)throw new Error("attribute equal must after attrName");l=w}break;case"'":case'"':if(l===w||l===y){if(l===y&&(o.warning('attribute value must after "="'),a=t.slice(e,u)),e=u+1,!((u=t.indexOf(c,e))>0))throw new Error("attribute value no end '"+c+"' match");s=t.slice(e,u).replace(/&#?\w+;/g,r),n.add(a,s,e-1),l=M}else{if(l!=x)throw new Error('attribute value must after "="');s=t.slice(e,u).replace(/&#?\w+;/g,r),n.add(a,s,e),o.warning('attribute "'+a+'" missed start quot('+c+")!!"),e=u+1,l=M}break;case"/":switch(l){case v:n.setTagName(t.slice(e,u));case M:case T:case k:l=k,n.closed=!0;case x:case y:case b:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),l==v&&n.setTagName(t.slice(e,u)),u;case">":switch(l){case v:n.setTagName(t.slice(e,u));case M:case T:case k:break;case x:case y:s=t.slice(e,u),"/"===s.slice(-1)&&(n.closed=!0,s=s.slice(0,-1));case b:l===b&&(s=a),l==x?(o.warning('attribute "'+s+'" missed quot(")!!'),n.add(a,s.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===i[""]&&s.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+s+'" missed value!! "'+s+'" instead!!'),n.add(s,s,e));break;case w:throw new Error("attribute value missed!!")}return u;case"":c=" ";default:if(c<=" ")switch(l){case v:n.setTagName(t.slice(e,u)),l=T;break;case y:a=t.slice(e,u),l=b;break;case x:var s=t.slice(e,u).replace(/&#?\w+;/g,r);o.warning('attribute "'+s+'" missed quot(")!!'),n.add(a,s,e);case M:l=T}else switch(l){case b:n.tagName;"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,e),e=u,l=y;break;case M:o.warning('attribute space is required"'+a+'"!!');case T:l=y,e=u;break;case w:l=x,e=u;break;case k:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function a(t,e,n){for(var i=t.tagName,r=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value,c=s.indexOf(":");if(c>0)var h=a.prefix=s.slice(0,c),f=s.slice(c+1),d="xmlns"===h&&f;else f=s,h=null,d="xmlns"===s&&"";a.localName=f,!1!==d&&(null==r&&(r={},l(n,n={})),n[d]=r[d]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,u))}for(var o=t.length;o--;){a=t[o];var h=a.prefix;h&&("xml"===h&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==h&&(a.uri=n[h||""]))}var c=i.indexOf(":");c>0?(h=t.prefix=i.slice(0,c),f=t.localName=i.slice(c+1)):(h=null,f=t.localName=i);var p=t.uri=n[h||""];if(e.startElement(p,f,i,t),!t.closed)return t.currentNSMap=n,t.localNSMap=r,!0;if(e.endElement(p,f,i),r)for(h in r)e.endPrefixMapping(h)}function s(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return e+1}function u(t,e,n,i){var r=i[n];return null==r&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function l(t,e){for(var n in t)e[n]=t[n]}function c(t,e,n,i){switch(t.charAt(e+2)){case"-":if("-"===t.charAt(e+3)){var r=t.indexOf("--\x3e",e+4);return r>e?(n.comment(t,e+4,r-e-4),r+3):(i.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,r-e-9),n.endCDATA(),r+3}var o=p(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],c=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function h(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function f(t){}function d(t,e){return t.__proto__=e,t}function p(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}var _=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=new RegExp("[\\-\\.0-9"+_.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),g=new RegExp("^"+_.source+m.source+"*(?::"+_.source+m.source+"*)?$"),v=0,y=1,b=2,w=3,x=4,M=5,T=6,k=7;n.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),l(e,e={}),i(t,e,n,r,this.errorHandler),r.endDocument()}},f.prototype={setTagName:function(t){if(!g.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!g.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},d({},d.prototype)instanceof d||(d=function(t,e){function n(){}n.prototype=e,n=new n;for(e in t)n[e]=t[e];return n}),e.XMLReader=n}]);
//# sourceMappingURL=leaflet.canvaslayer.field.js.map